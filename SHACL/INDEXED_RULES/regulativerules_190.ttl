@prefix dash: <http://datashapes.org/dash#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix swa: <http://topbraid.org/swa#> .
@prefix tosh: <http://topbraid.org/tosh#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix TBox: <http://www.licenceusecaseonto.org/> .
@prefix ABox: <http://www.licenceusecaseonto.org/abox/> .
@prefix : <http://www.licenceusecaseonto.org/regulativerules> .

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_0) the Licensee_0 has a Licence_0
###############################################################################################################################################
:evaluatingProduct_0sIsProhibitedUnlessLicence_0 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_0.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_0 action is not Prohibited (ExceptionArt1b_0), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_0 .
			}
			WHERE {
					#... the Product_0 has a Licence_0 which is the theme of a Grant_0 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_0.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_0.
				?l TBox:is-licence-of_0 ?p.
				?l rdf:type TBox:Licence_0.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_0.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_0.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_0 action is the same agent of the Evaluate_0 action.
				?eg TBox:has-receiver_0 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_0 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_0 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_0) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_0.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_0.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_0}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_0.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_0ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_0sOrComment_0sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_0 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_0 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_0), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_0.
			}
			WHERE {
					#...the theme of this Publish_0 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_0.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_0.
				?ev TBox:has-result_0 ?r.
				?ev rdf:type TBox:Evaluate_0.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_0 action is the theme of an Approve_0 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_0.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_0.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_0)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_0 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_0), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_0.
			}
			WHERE {
					#...the theme of this Publish_0 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_0.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_0.
				?ev TBox:has-result_0 ?r.
				?ev rdf:type TBox:Evaluate_0.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_0 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_0.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_0 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_0 action is no longer Prohibited (ExceptionArt3b_0), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_0.
			}
			WHERE {
					#...the theme of this Publish_0 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_0.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_0.
				?c TBox:is-comment-of_0 ?ev.
				?ev rdf:type TBox:Evaluate_0.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_0 of this Evaluation is the theme of a Publish_0ing action that is Permitted...
				?ev TBox:has-result_0 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_0.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_0), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_0), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_0 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_0 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_0.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_0.
				?ev TBox:has-result_0 ?r.
				?ev rdf:type TBox:Evaluate_0.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_0}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_0}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_0;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_0 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_0 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_0.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_0.
				?ev TBox:has-result_0 ?r.
				?ev rdf:type TBox:Evaluate_0.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_0}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_0}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_0).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_0 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_0 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_0.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_0.
				?c TBox:is-comment-of_0 ?ev.
				?ev rdf:type TBox:Evaluate_0.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_0 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_0}.
			}
			""";
	];

sh:targetClass TBox:Publish_0.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_1) the Licensee_1 has a Licence_1
###############################################################################################################################################
:evaluatingProduct_1sIsProhibitedUnlessLicence_1 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_1.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_1 action is not Prohibited (ExceptionArt1b_1), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_1 .
			}
			WHERE {
					#... the Product_1 has a Licence_1 which is the theme of a Grant_1 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_1.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_1.
				?l TBox:is-licence-of_1 ?p.
				?l rdf:type TBox:Licence_1.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_1.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_1.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_1 action is the same agent of the Evaluate_1 action.
				?eg TBox:has-receiver_1 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_1 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_1 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_1) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_1.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_1.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_1}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_1.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_1ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_1sOrComment_1sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_1 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_1 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_1), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_1.
			}
			WHERE {
					#...the theme of this Publish_1 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_1.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_1.
				?ev TBox:has-result_1 ?r.
				?ev rdf:type TBox:Evaluate_1.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_1 action is the theme of an Approve_1 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_1.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_1.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_1)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_1 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_1), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_1.
			}
			WHERE {
					#...the theme of this Publish_1 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_1.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_1.
				?ev TBox:has-result_1 ?r.
				?ev rdf:type TBox:Evaluate_1.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_1 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_1.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_1 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_1 action is no longer Prohibited (ExceptionArt3b_1), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_1.
			}
			WHERE {
					#...the theme of this Publish_1 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_1.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_1.
				?c TBox:is-comment-of_1 ?ev.
				?ev rdf:type TBox:Evaluate_1.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_1 of this Evaluation is the theme of a Publish_1ing action that is Permitted...
				?ev TBox:has-result_1 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_1.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_1), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_1), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_1 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_1 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_1.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_1.
				?ev TBox:has-result_1 ?r.
				?ev rdf:type TBox:Evaluate_1.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_1}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_1}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_1;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_1 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_1 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_1.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_1.
				?ev TBox:has-result_1 ?r.
				?ev rdf:type TBox:Evaluate_1.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_1}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_1}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_1).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_1 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_1 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_1.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_1.
				?c TBox:is-comment-of_1 ?ev.
				?ev rdf:type TBox:Evaluate_1.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_1 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_1}.
			}
			""";
	];

sh:targetClass TBox:Publish_1.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_2) the Licensee_2 has a Licence_2
###############################################################################################################################################
:evaluatingProduct_2sIsProhibitedUnlessLicence_2 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_2.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_2 action is not Prohibited (ExceptionArt1b_2), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_2 .
			}
			WHERE {
					#... the Product_2 has a Licence_2 which is the theme of a Grant_2 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_2.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_2.
				?l TBox:is-licence-of_2 ?p.
				?l rdf:type TBox:Licence_2.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_2.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_2.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_2 action is the same agent of the Evaluate_2 action.
				?eg TBox:has-receiver_2 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_2 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_2 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_2) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_2.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_2.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_2}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_2.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_2ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_2sOrComment_2sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_2 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_2 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_2), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_2.
			}
			WHERE {
					#...the theme of this Publish_2 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_2.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_2.
				?ev TBox:has-result_2 ?r.
				?ev rdf:type TBox:Evaluate_2.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_2 action is the theme of an Approve_2 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_2.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_2.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_2)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_2 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_2), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_2.
			}
			WHERE {
					#...the theme of this Publish_2 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_2.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_2.
				?ev TBox:has-result_2 ?r.
				?ev rdf:type TBox:Evaluate_2.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_2 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_2.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_2 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_2 action is no longer Prohibited (ExceptionArt3b_2), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_2.
			}
			WHERE {
					#...the theme of this Publish_2 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_2.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_2.
				?c TBox:is-comment-of_2 ?ev.
				?ev rdf:type TBox:Evaluate_2.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_2 of this Evaluation is the theme of a Publish_2ing action that is Permitted...
				?ev TBox:has-result_2 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_2.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_2), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_2), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_2 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_2 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_2.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_2.
				?ev TBox:has-result_2 ?r.
				?ev rdf:type TBox:Evaluate_2.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_2}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_2}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_2;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_2 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_2 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_2.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_2.
				?ev TBox:has-result_2 ?r.
				?ev rdf:type TBox:Evaluate_2.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_2}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_2}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_2).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_2 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_2 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_2.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_2.
				?c TBox:is-comment-of_2 ?ev.
				?ev rdf:type TBox:Evaluate_2.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_2 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_2}.
			}
			""";
	];

sh:targetClass TBox:Publish_2.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_3) the Licensee_3 has a Licence_3
###############################################################################################################################################
:evaluatingProduct_3sIsProhibitedUnlessLicence_3 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_3.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_3 action is not Prohibited (ExceptionArt1b_3), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_3 .
			}
			WHERE {
					#... the Product_3 has a Licence_3 which is the theme of a Grant_3 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_3.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_3.
				?l TBox:is-licence-of_3 ?p.
				?l rdf:type TBox:Licence_3.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_3.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_3.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_3 action is the same agent of the Evaluate_3 action.
				?eg TBox:has-receiver_3 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_3 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_3 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_3) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_3.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_3.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_3}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_3.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_3ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_3sOrComment_3sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_3 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_3 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_3), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_3.
			}
			WHERE {
					#...the theme of this Publish_3 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_3.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_3.
				?ev TBox:has-result_3 ?r.
				?ev rdf:type TBox:Evaluate_3.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_3 action is the theme of an Approve_3 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_3.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_3.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_3)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_3 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_3), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_3.
			}
			WHERE {
					#...the theme of this Publish_3 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_3.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_3.
				?ev TBox:has-result_3 ?r.
				?ev rdf:type TBox:Evaluate_3.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_3 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_3.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_3 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_3 action is no longer Prohibited (ExceptionArt3b_3), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_3.
			}
			WHERE {
					#...the theme of this Publish_3 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_3.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_3.
				?c TBox:is-comment-of_3 ?ev.
				?ev rdf:type TBox:Evaluate_3.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_3 of this Evaluation is the theme of a Publish_3ing action that is Permitted...
				?ev TBox:has-result_3 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_3.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_3), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_3), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_3 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_3 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_3.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_3.
				?ev TBox:has-result_3 ?r.
				?ev rdf:type TBox:Evaluate_3.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_3}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_3}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_3;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_3 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_3 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_3.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_3.
				?ev TBox:has-result_3 ?r.
				?ev rdf:type TBox:Evaluate_3.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_3}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_3}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_3).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_3 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_3 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_3.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_3.
				?c TBox:is-comment-of_3 ?ev.
				?ev rdf:type TBox:Evaluate_3.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_3 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_3}.
			}
			""";
	];

sh:targetClass TBox:Publish_3.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_4) the Licensee_4 has a Licence_4
###############################################################################################################################################
:evaluatingProduct_4sIsProhibitedUnlessLicence_4 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_4.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_4 action is not Prohibited (ExceptionArt1b_4), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_4 .
			}
			WHERE {
					#... the Product_4 has a Licence_4 which is the theme of a Grant_4 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_4.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_4.
				?l TBox:is-licence-of_4 ?p.
				?l rdf:type TBox:Licence_4.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_4.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_4.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_4 action is the same agent of the Evaluate_4 action.
				?eg TBox:has-receiver_4 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_4 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_4 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_4) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_4.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_4.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_4}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_4.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_4ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_4sOrComment_4sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_4 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_4 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_4), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_4.
			}
			WHERE {
					#...the theme of this Publish_4 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_4.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_4.
				?ev TBox:has-result_4 ?r.
				?ev rdf:type TBox:Evaluate_4.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_4 action is the theme of an Approve_4 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_4.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_4.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_4)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_4 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_4), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_4.
			}
			WHERE {
					#...the theme of this Publish_4 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_4.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_4.
				?ev TBox:has-result_4 ?r.
				?ev rdf:type TBox:Evaluate_4.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_4 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_4.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_4 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_4 action is no longer Prohibited (ExceptionArt3b_4), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_4.
			}
			WHERE {
					#...the theme of this Publish_4 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_4.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_4.
				?c TBox:is-comment-of_4 ?ev.
				?ev rdf:type TBox:Evaluate_4.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_4 of this Evaluation is the theme of a Publish_4ing action that is Permitted...
				?ev TBox:has-result_4 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_4.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_4), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_4), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_4 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_4 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_4.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_4.
				?ev TBox:has-result_4 ?r.
				?ev rdf:type TBox:Evaluate_4.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_4}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_4}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_4;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_4 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_4 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_4.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_4.
				?ev TBox:has-result_4 ?r.
				?ev rdf:type TBox:Evaluate_4.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_4}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_4}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_4).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_4 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_4 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_4.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_4.
				?c TBox:is-comment-of_4 ?ev.
				?ev rdf:type TBox:Evaluate_4.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_4 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_4}.
			}
			""";
	];

sh:targetClass TBox:Publish_4.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_5) the Licensee_5 has a Licence_5
###############################################################################################################################################
:evaluatingProduct_5sIsProhibitedUnlessLicence_5 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_5.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_5 action is not Prohibited (ExceptionArt1b_5), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_5 .
			}
			WHERE {
					#... the Product_5 has a Licence_5 which is the theme of a Grant_5 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_5.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_5.
				?l TBox:is-licence-of_5 ?p.
				?l rdf:type TBox:Licence_5.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_5.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_5.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_5 action is the same agent of the Evaluate_5 action.
				?eg TBox:has-receiver_5 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_5 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_5 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_5) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_5.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_5.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_5}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_5.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_5ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_5sOrComment_5sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_5 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_5 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_5), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_5.
			}
			WHERE {
					#...the theme of this Publish_5 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_5.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_5.
				?ev TBox:has-result_5 ?r.
				?ev rdf:type TBox:Evaluate_5.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_5 action is the theme of an Approve_5 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_5.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_5.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_5)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_5 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_5), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_5.
			}
			WHERE {
					#...the theme of this Publish_5 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_5.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_5.
				?ev TBox:has-result_5 ?r.
				?ev rdf:type TBox:Evaluate_5.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_5 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_5.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_5 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_5 action is no longer Prohibited (ExceptionArt3b_5), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_5.
			}
			WHERE {
					#...the theme of this Publish_5 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_5.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_5.
				?c TBox:is-comment-of_5 ?ev.
				?ev rdf:type TBox:Evaluate_5.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_5 of this Evaluation is the theme of a Publish_5ing action that is Permitted...
				?ev TBox:has-result_5 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_5.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_5), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_5), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_5 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_5 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_5.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_5.
				?ev TBox:has-result_5 ?r.
				?ev rdf:type TBox:Evaluate_5.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_5}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_5}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_5;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_5 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_5 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_5.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_5.
				?ev TBox:has-result_5 ?r.
				?ev rdf:type TBox:Evaluate_5.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_5}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_5}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_5).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_5 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_5 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_5.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_5.
				?c TBox:is-comment-of_5 ?ev.
				?ev rdf:type TBox:Evaluate_5.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_5 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_5}.
			}
			""";
	];

sh:targetClass TBox:Publish_5.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_6) the Licensee_6 has a Licence_6
###############################################################################################################################################
:evaluatingProduct_6sIsProhibitedUnlessLicence_6 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_6.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_6 action is not Prohibited (ExceptionArt1b_6), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_6 .
			}
			WHERE {
					#... the Product_6 has a Licence_6 which is the theme of a Grant_6 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_6.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_6.
				?l TBox:is-licence-of_6 ?p.
				?l rdf:type TBox:Licence_6.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_6.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_6.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_6 action is the same agent of the Evaluate_6 action.
				?eg TBox:has-receiver_6 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_6 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_6 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_6) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_6.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_6.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_6}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_6.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_6ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_6sOrComment_6sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_6 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_6 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_6), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_6.
			}
			WHERE {
					#...the theme of this Publish_6 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_6.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_6.
				?ev TBox:has-result_6 ?r.
				?ev rdf:type TBox:Evaluate_6.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_6 action is the theme of an Approve_6 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_6.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_6.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_6)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_6 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_6), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_6.
			}
			WHERE {
					#...the theme of this Publish_6 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_6.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_6.
				?ev TBox:has-result_6 ?r.
				?ev rdf:type TBox:Evaluate_6.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_6 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_6.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_6 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_6 action is no longer Prohibited (ExceptionArt3b_6), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_6.
			}
			WHERE {
					#...the theme of this Publish_6 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_6.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_6.
				?c TBox:is-comment-of_6 ?ev.
				?ev rdf:type TBox:Evaluate_6.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_6 of this Evaluation is the theme of a Publish_6ing action that is Permitted...
				?ev TBox:has-result_6 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_6.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_6), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_6), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_6 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_6 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_6.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_6.
				?ev TBox:has-result_6 ?r.
				?ev rdf:type TBox:Evaluate_6.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_6}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_6}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_6;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_6 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_6 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_6.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_6.
				?ev TBox:has-result_6 ?r.
				?ev rdf:type TBox:Evaluate_6.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_6}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_6}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_6).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_6 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_6 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_6.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_6.
				?c TBox:is-comment-of_6 ?ev.
				?ev rdf:type TBox:Evaluate_6.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_6 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_6}.
			}
			""";
	];

sh:targetClass TBox:Publish_6.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_7) the Licensee_7 has a Licence_7
###############################################################################################################################################
:evaluatingProduct_7sIsProhibitedUnlessLicence_7 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_7.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_7 action is not Prohibited (ExceptionArt1b_7), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_7 .
			}
			WHERE {
					#... the Product_7 has a Licence_7 which is the theme of a Grant_7 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_7.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_7.
				?l TBox:is-licence-of_7 ?p.
				?l rdf:type TBox:Licence_7.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_7.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_7.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_7 action is the same agent of the Evaluate_7 action.
				?eg TBox:has-receiver_7 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_7 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_7 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_7) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_7.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_7.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_7}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_7.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_7ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_7sOrComment_7sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_7 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_7 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_7), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_7.
			}
			WHERE {
					#...the theme of this Publish_7 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_7.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_7.
				?ev TBox:has-result_7 ?r.
				?ev rdf:type TBox:Evaluate_7.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_7 action is the theme of an Approve_7 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_7.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_7.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_7)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_7 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_7), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_7.
			}
			WHERE {
					#...the theme of this Publish_7 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_7.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_7.
				?ev TBox:has-result_7 ?r.
				?ev rdf:type TBox:Evaluate_7.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_7 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_7.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_7 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_7 action is no longer Prohibited (ExceptionArt3b_7), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_7.
			}
			WHERE {
					#...the theme of this Publish_7 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_7.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_7.
				?c TBox:is-comment-of_7 ?ev.
				?ev rdf:type TBox:Evaluate_7.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_7 of this Evaluation is the theme of a Publish_7ing action that is Permitted...
				?ev TBox:has-result_7 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_7.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_7), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_7), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_7 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_7 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_7.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_7.
				?ev TBox:has-result_7 ?r.
				?ev rdf:type TBox:Evaluate_7.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_7}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_7}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_7;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_7 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_7 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_7.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_7.
				?ev TBox:has-result_7 ?r.
				?ev rdf:type TBox:Evaluate_7.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_7}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_7}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_7).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_7 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_7 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_7.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_7.
				?c TBox:is-comment-of_7 ?ev.
				?ev rdf:type TBox:Evaluate_7.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_7 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_7}.
			}
			""";
	];

sh:targetClass TBox:Publish_7.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_8) the Licensee_8 has a Licence_8
###############################################################################################################################################
:evaluatingProduct_8sIsProhibitedUnlessLicence_8 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_8.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_8 action is not Prohibited (ExceptionArt1b_8), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_8 .
			}
			WHERE {
					#... the Product_8 has a Licence_8 which is the theme of a Grant_8 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_8.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_8.
				?l TBox:is-licence-of_8 ?p.
				?l rdf:type TBox:Licence_8.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_8.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_8.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_8 action is the same agent of the Evaluate_8 action.
				?eg TBox:has-receiver_8 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_8 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_8 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_8) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_8.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_8.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_8}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_8.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_8ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_8sOrComment_8sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_8 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_8 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_8), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_8.
			}
			WHERE {
					#...the theme of this Publish_8 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_8.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_8.
				?ev TBox:has-result_8 ?r.
				?ev rdf:type TBox:Evaluate_8.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_8 action is the theme of an Approve_8 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_8.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_8.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_8)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_8 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_8), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_8.
			}
			WHERE {
					#...the theme of this Publish_8 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_8.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_8.
				?ev TBox:has-result_8 ?r.
				?ev rdf:type TBox:Evaluate_8.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_8 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_8.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_8 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_8 action is no longer Prohibited (ExceptionArt3b_8), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_8.
			}
			WHERE {
					#...the theme of this Publish_8 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_8.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_8.
				?c TBox:is-comment-of_8 ?ev.
				?ev rdf:type TBox:Evaluate_8.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_8 of this Evaluation is the theme of a Publish_8ing action that is Permitted...
				?ev TBox:has-result_8 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_8.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_8), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_8), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_8 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_8 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_8.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_8.
				?ev TBox:has-result_8 ?r.
				?ev rdf:type TBox:Evaluate_8.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_8}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_8}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_8;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_8 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_8 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_8.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_8.
				?ev TBox:has-result_8 ?r.
				?ev rdf:type TBox:Evaluate_8.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_8}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_8}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_8).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_8 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_8 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_8.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_8.
				?c TBox:is-comment-of_8 ?ev.
				?ev rdf:type TBox:Evaluate_8.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_8 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_8}.
			}
			""";
	];

sh:targetClass TBox:Publish_8.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_9) the Licensee_9 has a Licence_9
###############################################################################################################################################
:evaluatingProduct_9sIsProhibitedUnlessLicence_9 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_9.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_9 action is not Prohibited (ExceptionArt1b_9), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_9 .
			}
			WHERE {
					#... the Product_9 has a Licence_9 which is the theme of a Grant_9 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_9.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_9.
				?l TBox:is-licence-of_9 ?p.
				?l rdf:type TBox:Licence_9.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_9.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_9.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_9 action is the same agent of the Evaluate_9 action.
				?eg TBox:has-receiver_9 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_9 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_9 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_9) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_9.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_9.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_9}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_9.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_9ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_9sOrComment_9sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_9 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_9 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_9), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_9.
			}
			WHERE {
					#...the theme of this Publish_9 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_9.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_9.
				?ev TBox:has-result_9 ?r.
				?ev rdf:type TBox:Evaluate_9.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_9 action is the theme of an Approve_9 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_9.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_9.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_9)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_9 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_9), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_9.
			}
			WHERE {
					#...the theme of this Publish_9 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_9.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_9.
				?ev TBox:has-result_9 ?r.
				?ev rdf:type TBox:Evaluate_9.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_9 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_9.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_9 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_9 action is no longer Prohibited (ExceptionArt3b_9), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_9.
			}
			WHERE {
					#...the theme of this Publish_9 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_9.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_9.
				?c TBox:is-comment-of_9 ?ev.
				?ev rdf:type TBox:Evaluate_9.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_9 of this Evaluation is the theme of a Publish_9ing action that is Permitted...
				?ev TBox:has-result_9 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_9.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_9), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_9), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_9 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_9 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_9.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_9.
				?ev TBox:has-result_9 ?r.
				?ev rdf:type TBox:Evaluate_9.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_9}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_9}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_9;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_9 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_9 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_9.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_9.
				?ev TBox:has-result_9 ?r.
				?ev rdf:type TBox:Evaluate_9.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_9}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_9}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_9).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_9 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_9 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_9.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_9.
				?c TBox:is-comment-of_9 ?ev.
				?ev rdf:type TBox:Evaluate_9.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_9 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_9}.
			}
			""";
	];

sh:targetClass TBox:Publish_9.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_10) the Licensee_10 has a Licence_10
###############################################################################################################################################
:evaluatingProduct_10sIsProhibitedUnlessLicence_10 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_10.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_10 action is not Prohibited (ExceptionArt1b_10), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_10 .
			}
			WHERE {
					#... the Product_10 has a Licence_10 which is the theme of a Grant_10 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_10.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_10.
				?l TBox:is-licence-of_10 ?p.
				?l rdf:type TBox:Licence_10.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_10.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_10.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_10 action is the same agent of the Evaluate_10 action.
				?eg TBox:has-receiver_10 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_10 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_10 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_10) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_10.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_10.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_10}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_10.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_10ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_10sOrComment_10sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_10 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_10 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_10), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_10.
			}
			WHERE {
					#...the theme of this Publish_10 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_10.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_10.
				?ev TBox:has-result_10 ?r.
				?ev rdf:type TBox:Evaluate_10.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_10 action is the theme of an Approve_10 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_10.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_10.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_10)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_10 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_10), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_10.
			}
			WHERE {
					#...the theme of this Publish_10 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_10.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_10.
				?ev TBox:has-result_10 ?r.
				?ev rdf:type TBox:Evaluate_10.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_10 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_10.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_10 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_10 action is no longer Prohibited (ExceptionArt3b_10), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_10.
			}
			WHERE {
					#...the theme of this Publish_10 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_10.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_10.
				?c TBox:is-comment-of_10 ?ev.
				?ev rdf:type TBox:Evaluate_10.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_10 of this Evaluation is the theme of a Publish_10ing action that is Permitted...
				?ev TBox:has-result_10 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_10.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_10), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_10), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_10 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_10 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_10.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_10.
				?ev TBox:has-result_10 ?r.
				?ev rdf:type TBox:Evaluate_10.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_10}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_10}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_10;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_10 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_10 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_10.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_10.
				?ev TBox:has-result_10 ?r.
				?ev rdf:type TBox:Evaluate_10.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_10}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_10}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_10).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_10 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_10 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_10.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_10.
				?c TBox:is-comment-of_10 ?ev.
				?ev rdf:type TBox:Evaluate_10.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_10 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_10}.
			}
			""";
	];

sh:targetClass TBox:Publish_10.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_11) the Licensee_11 has a Licence_11
###############################################################################################################################################
:evaluatingProduct_11sIsProhibitedUnlessLicence_11 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_11.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_11 action is not Prohibited (ExceptionArt1b_11), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_11 .
			}
			WHERE {
					#... the Product_11 has a Licence_11 which is the theme of a Grant_11 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_11.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_11.
				?l TBox:is-licence-of_11 ?p.
				?l rdf:type TBox:Licence_11.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_11.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_11.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_11 action is the same agent of the Evaluate_11 action.
				?eg TBox:has-receiver_11 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_11 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_11 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_11) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_11.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_11.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_11}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_11.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_11ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_11sOrComment_11sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_11 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_11 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_11), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_11.
			}
			WHERE {
					#...the theme of this Publish_11 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_11.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_11.
				?ev TBox:has-result_11 ?r.
				?ev rdf:type TBox:Evaluate_11.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_11 action is the theme of an Approve_11 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_11.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_11.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_11)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_11 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_11), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_11.
			}
			WHERE {
					#...the theme of this Publish_11 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_11.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_11.
				?ev TBox:has-result_11 ?r.
				?ev rdf:type TBox:Evaluate_11.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_11 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_11.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_11 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_11 action is no longer Prohibited (ExceptionArt3b_11), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_11.
			}
			WHERE {
					#...the theme of this Publish_11 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_11.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_11.
				?c TBox:is-comment-of_11 ?ev.
				?ev rdf:type TBox:Evaluate_11.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_11 of this Evaluation is the theme of a Publish_11ing action that is Permitted...
				?ev TBox:has-result_11 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_11.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_11), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_11), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_11 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_11 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_11.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_11.
				?ev TBox:has-result_11 ?r.
				?ev rdf:type TBox:Evaluate_11.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_11}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_11}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_11;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_11 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_11 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_11.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_11.
				?ev TBox:has-result_11 ?r.
				?ev rdf:type TBox:Evaluate_11.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_11}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_11}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_11).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_11 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_11 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_11.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_11.
				?c TBox:is-comment-of_11 ?ev.
				?ev rdf:type TBox:Evaluate_11.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_11 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_11}.
			}
			""";
	];

sh:targetClass TBox:Publish_11.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_12) the Licensee_12 has a Licence_12
###############################################################################################################################################
:evaluatingProduct_12sIsProhibitedUnlessLicence_12 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_12.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_12 action is not Prohibited (ExceptionArt1b_12), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_12 .
			}
			WHERE {
					#... the Product_12 has a Licence_12 which is the theme of a Grant_12 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_12.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_12.
				?l TBox:is-licence-of_12 ?p.
				?l rdf:type TBox:Licence_12.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_12.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_12.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_12 action is the same agent of the Evaluate_12 action.
				?eg TBox:has-receiver_12 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_12 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_12 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_12) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_12.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_12.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_12}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_12.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_12ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_12sOrComment_12sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_12 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_12 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_12), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_12.
			}
			WHERE {
					#...the theme of this Publish_12 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_12.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_12.
				?ev TBox:has-result_12 ?r.
				?ev rdf:type TBox:Evaluate_12.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_12 action is the theme of an Approve_12 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_12.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_12.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_12)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_12 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_12), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_12.
			}
			WHERE {
					#...the theme of this Publish_12 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_12.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_12.
				?ev TBox:has-result_12 ?r.
				?ev rdf:type TBox:Evaluate_12.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_12 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_12.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_12 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_12 action is no longer Prohibited (ExceptionArt3b_12), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_12.
			}
			WHERE {
					#...the theme of this Publish_12 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_12.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_12.
				?c TBox:is-comment-of_12 ?ev.
				?ev rdf:type TBox:Evaluate_12.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_12 of this Evaluation is the theme of a Publish_12ing action that is Permitted...
				?ev TBox:has-result_12 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_12.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_12), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_12), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_12 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_12 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_12.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_12.
				?ev TBox:has-result_12 ?r.
				?ev rdf:type TBox:Evaluate_12.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_12}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_12}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_12;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_12 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_12 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_12.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_12.
				?ev TBox:has-result_12 ?r.
				?ev rdf:type TBox:Evaluate_12.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_12}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_12}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_12).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_12 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_12 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_12.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_12.
				?c TBox:is-comment-of_12 ?ev.
				?ev rdf:type TBox:Evaluate_12.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_12 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_12}.
			}
			""";
	];

sh:targetClass TBox:Publish_12.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_13) the Licensee_13 has a Licence_13
###############################################################################################################################################
:evaluatingProduct_13sIsProhibitedUnlessLicence_13 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_13.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_13 action is not Prohibited (ExceptionArt1b_13), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_13 .
			}
			WHERE {
					#... the Product_13 has a Licence_13 which is the theme of a Grant_13 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_13.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_13.
				?l TBox:is-licence-of_13 ?p.
				?l rdf:type TBox:Licence_13.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_13.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_13.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_13 action is the same agent of the Evaluate_13 action.
				?eg TBox:has-receiver_13 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_13 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_13 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_13) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_13.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_13.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_13}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_13.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_13ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_13sOrComment_13sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_13 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_13 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_13), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_13.
			}
			WHERE {
					#...the theme of this Publish_13 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_13.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_13.
				?ev TBox:has-result_13 ?r.
				?ev rdf:type TBox:Evaluate_13.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_13 action is the theme of an Approve_13 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_13.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_13.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_13)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_13 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_13), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_13.
			}
			WHERE {
					#...the theme of this Publish_13 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_13.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_13.
				?ev TBox:has-result_13 ?r.
				?ev rdf:type TBox:Evaluate_13.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_13 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_13.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_13 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_13 action is no longer Prohibited (ExceptionArt3b_13), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_13.
			}
			WHERE {
					#...the theme of this Publish_13 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_13.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_13.
				?c TBox:is-comment-of_13 ?ev.
				?ev rdf:type TBox:Evaluate_13.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_13 of this Evaluation is the theme of a Publish_13ing action that is Permitted...
				?ev TBox:has-result_13 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_13.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_13), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_13), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_13 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_13 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_13.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_13.
				?ev TBox:has-result_13 ?r.
				?ev rdf:type TBox:Evaluate_13.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_13}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_13}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_13;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_13 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_13 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_13.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_13.
				?ev TBox:has-result_13 ?r.
				?ev rdf:type TBox:Evaluate_13.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_13}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_13}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_13).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_13 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_13 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_13.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_13.
				?c TBox:is-comment-of_13 ?ev.
				?ev rdf:type TBox:Evaluate_13.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_13 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_13}.
			}
			""";
	];

sh:targetClass TBox:Publish_13.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_14) the Licensee_14 has a Licence_14
###############################################################################################################################################
:evaluatingProduct_14sIsProhibitedUnlessLicence_14 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_14.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_14 action is not Prohibited (ExceptionArt1b_14), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_14 .
			}
			WHERE {
					#... the Product_14 has a Licence_14 which is the theme of a Grant_14 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_14.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_14.
				?l TBox:is-licence-of_14 ?p.
				?l rdf:type TBox:Licence_14.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_14.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_14.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_14 action is the same agent of the Evaluate_14 action.
				?eg TBox:has-receiver_14 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_14 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_14 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_14) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_14.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_14.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_14}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_14.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_14ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_14sOrComment_14sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_14 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_14 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_14), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_14.
			}
			WHERE {
					#...the theme of this Publish_14 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_14.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_14.
				?ev TBox:has-result_14 ?r.
				?ev rdf:type TBox:Evaluate_14.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_14 action is the theme of an Approve_14 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_14.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_14.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_14)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_14 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_14), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_14.
			}
			WHERE {
					#...the theme of this Publish_14 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_14.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_14.
				?ev TBox:has-result_14 ?r.
				?ev rdf:type TBox:Evaluate_14.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_14 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_14.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_14 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_14 action is no longer Prohibited (ExceptionArt3b_14), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_14.
			}
			WHERE {
					#...the theme of this Publish_14 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_14.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_14.
				?c TBox:is-comment-of_14 ?ev.
				?ev rdf:type TBox:Evaluate_14.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_14 of this Evaluation is the theme of a Publish_14ing action that is Permitted...
				?ev TBox:has-result_14 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_14.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_14), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_14), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_14 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_14 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_14.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_14.
				?ev TBox:has-result_14 ?r.
				?ev rdf:type TBox:Evaluate_14.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_14}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_14}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_14;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_14 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_14 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_14.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_14.
				?ev TBox:has-result_14 ?r.
				?ev rdf:type TBox:Evaluate_14.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_14}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_14}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_14).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_14 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_14 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_14.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_14.
				?c TBox:is-comment-of_14 ?ev.
				?ev rdf:type TBox:Evaluate_14.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_14 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_14}.
			}
			""";
	];

sh:targetClass TBox:Publish_14.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_15) the Licensee_15 has a Licence_15
###############################################################################################################################################
:evaluatingProduct_15sIsProhibitedUnlessLicence_15 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_15.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_15 action is not Prohibited (ExceptionArt1b_15), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_15 .
			}
			WHERE {
					#... the Product_15 has a Licence_15 which is the theme of a Grant_15 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_15.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_15.
				?l TBox:is-licence-of_15 ?p.
				?l rdf:type TBox:Licence_15.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_15.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_15.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_15 action is the same agent of the Evaluate_15 action.
				?eg TBox:has-receiver_15 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_15 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_15 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_15) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_15.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_15.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_15}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_15.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_15ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_15sOrComment_15sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_15 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_15 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_15), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_15.
			}
			WHERE {
					#...the theme of this Publish_15 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_15.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_15.
				?ev TBox:has-result_15 ?r.
				?ev rdf:type TBox:Evaluate_15.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_15 action is the theme of an Approve_15 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_15.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_15.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_15)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_15 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_15), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_15.
			}
			WHERE {
					#...the theme of this Publish_15 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_15.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_15.
				?ev TBox:has-result_15 ?r.
				?ev rdf:type TBox:Evaluate_15.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_15 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_15.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_15 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_15 action is no longer Prohibited (ExceptionArt3b_15), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_15.
			}
			WHERE {
					#...the theme of this Publish_15 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_15.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_15.
				?c TBox:is-comment-of_15 ?ev.
				?ev rdf:type TBox:Evaluate_15.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_15 of this Evaluation is the theme of a Publish_15ing action that is Permitted...
				?ev TBox:has-result_15 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_15.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_15), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_15), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_15 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_15 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_15.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_15.
				?ev TBox:has-result_15 ?r.
				?ev rdf:type TBox:Evaluate_15.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_15}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_15}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_15;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_15 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_15 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_15.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_15.
				?ev TBox:has-result_15 ?r.
				?ev rdf:type TBox:Evaluate_15.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_15}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_15}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_15).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_15 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_15 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_15.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_15.
				?c TBox:is-comment-of_15 ?ev.
				?ev rdf:type TBox:Evaluate_15.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_15 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_15}.
			}
			""";
	];

sh:targetClass TBox:Publish_15.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_16) the Licensee_16 has a Licence_16
###############################################################################################################################################
:evaluatingProduct_16sIsProhibitedUnlessLicence_16 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_16.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_16 action is not Prohibited (ExceptionArt1b_16), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_16 .
			}
			WHERE {
					#... the Product_16 has a Licence_16 which is the theme of a Grant_16 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_16.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_16.
				?l TBox:is-licence-of_16 ?p.
				?l rdf:type TBox:Licence_16.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_16.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_16.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_16 action is the same agent of the Evaluate_16 action.
				?eg TBox:has-receiver_16 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_16 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_16 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_16) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_16.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_16.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_16}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_16.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_16ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_16sOrComment_16sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_16 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_16 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_16), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_16.
			}
			WHERE {
					#...the theme of this Publish_16 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_16.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_16.
				?ev TBox:has-result_16 ?r.
				?ev rdf:type TBox:Evaluate_16.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_16 action is the theme of an Approve_16 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_16.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_16.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_16)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_16 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_16), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_16.
			}
			WHERE {
					#...the theme of this Publish_16 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_16.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_16.
				?ev TBox:has-result_16 ?r.
				?ev rdf:type TBox:Evaluate_16.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_16 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_16.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_16 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_16 action is no longer Prohibited (ExceptionArt3b_16), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_16.
			}
			WHERE {
					#...the theme of this Publish_16 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_16.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_16.
				?c TBox:is-comment-of_16 ?ev.
				?ev rdf:type TBox:Evaluate_16.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_16 of this Evaluation is the theme of a Publish_16ing action that is Permitted...
				?ev TBox:has-result_16 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_16.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_16), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_16), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_16 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_16 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_16.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_16.
				?ev TBox:has-result_16 ?r.
				?ev rdf:type TBox:Evaluate_16.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_16}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_16}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_16;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_16 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_16 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_16.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_16.
				?ev TBox:has-result_16 ?r.
				?ev rdf:type TBox:Evaluate_16.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_16}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_16}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_16).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_16 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_16 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_16.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_16.
				?c TBox:is-comment-of_16 ?ev.
				?ev rdf:type TBox:Evaluate_16.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_16 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_16}.
			}
			""";
	];

sh:targetClass TBox:Publish_16.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_17) the Licensee_17 has a Licence_17
###############################################################################################################################################
:evaluatingProduct_17sIsProhibitedUnlessLicence_17 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_17.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_17 action is not Prohibited (ExceptionArt1b_17), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_17 .
			}
			WHERE {
					#... the Product_17 has a Licence_17 which is the theme of a Grant_17 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_17.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_17.
				?l TBox:is-licence-of_17 ?p.
				?l rdf:type TBox:Licence_17.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_17.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_17.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_17 action is the same agent of the Evaluate_17 action.
				?eg TBox:has-receiver_17 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_17 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_17 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_17) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_17.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_17.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_17}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_17.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_17ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_17sOrComment_17sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_17 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_17 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_17), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_17.
			}
			WHERE {
					#...the theme of this Publish_17 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_17.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_17.
				?ev TBox:has-result_17 ?r.
				?ev rdf:type TBox:Evaluate_17.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_17 action is the theme of an Approve_17 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_17.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_17.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_17)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_17 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_17), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_17.
			}
			WHERE {
					#...the theme of this Publish_17 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_17.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_17.
				?ev TBox:has-result_17 ?r.
				?ev rdf:type TBox:Evaluate_17.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_17 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_17.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_17 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_17 action is no longer Prohibited (ExceptionArt3b_17), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_17.
			}
			WHERE {
					#...the theme of this Publish_17 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_17.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_17.
				?c TBox:is-comment-of_17 ?ev.
				?ev rdf:type TBox:Evaluate_17.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_17 of this Evaluation is the theme of a Publish_17ing action that is Permitted...
				?ev TBox:has-result_17 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_17.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_17), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_17), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_17 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_17 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_17.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_17.
				?ev TBox:has-result_17 ?r.
				?ev rdf:type TBox:Evaluate_17.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_17}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_17}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_17;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_17 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_17 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_17.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_17.
				?ev TBox:has-result_17 ?r.
				?ev rdf:type TBox:Evaluate_17.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_17}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_17}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_17).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_17 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_17 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_17.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_17.
				?c TBox:is-comment-of_17 ?ev.
				?ev rdf:type TBox:Evaluate_17.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_17 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_17}.
			}
			""";
	];

sh:targetClass TBox:Publish_17.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_18) the Licensee_18 has a Licence_18
###############################################################################################################################################
:evaluatingProduct_18sIsProhibitedUnlessLicence_18 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_18.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_18 action is not Prohibited (ExceptionArt1b_18), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_18 .
			}
			WHERE {
					#... the Product_18 has a Licence_18 which is the theme of a Grant_18 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_18.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_18.
				?l TBox:is-licence-of_18 ?p.
				?l rdf:type TBox:Licence_18.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_18.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_18.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_18 action is the same agent of the Evaluate_18 action.
				?eg TBox:has-receiver_18 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_18 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_18 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_18) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_18.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_18.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_18}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_18.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_18ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_18sOrComment_18sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_18 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_18 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_18), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_18.
			}
			WHERE {
					#...the theme of this Publish_18 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_18.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_18.
				?ev TBox:has-result_18 ?r.
				?ev rdf:type TBox:Evaluate_18.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_18 action is the theme of an Approve_18 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_18.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_18.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_18)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_18 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_18), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_18.
			}
			WHERE {
					#...the theme of this Publish_18 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_18.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_18.
				?ev TBox:has-result_18 ?r.
				?ev rdf:type TBox:Evaluate_18.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_18 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_18.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_18 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_18 action is no longer Prohibited (ExceptionArt3b_18), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_18.
			}
			WHERE {
					#...the theme of this Publish_18 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_18.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_18.
				?c TBox:is-comment-of_18 ?ev.
				?ev rdf:type TBox:Evaluate_18.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_18 of this Evaluation is the theme of a Publish_18ing action that is Permitted...
				?ev TBox:has-result_18 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_18.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_18), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_18), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_18 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_18 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_18.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_18.
				?ev TBox:has-result_18 ?r.
				?ev rdf:type TBox:Evaluate_18.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_18}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_18}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_18;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_18 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_18 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_18.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_18.
				?ev TBox:has-result_18 ?r.
				?ev rdf:type TBox:Evaluate_18.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_18}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_18}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_18).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_18 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_18 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_18.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_18.
				?c TBox:is-comment-of_18 ?ev.
				?ev rdf:type TBox:Evaluate_18.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_18 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_18}.
			}
			""";
	];

sh:targetClass TBox:Publish_18.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_19) the Licensee_19 has a Licence_19
###############################################################################################################################################
:evaluatingProduct_19sIsProhibitedUnlessLicence_19 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_19.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_19 action is not Prohibited (ExceptionArt1b_19), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_19 .
			}
			WHERE {
					#... the Product_19 has a Licence_19 which is the theme of a Grant_19 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_19.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_19.
				?l TBox:is-licence-of_19 ?p.
				?l rdf:type TBox:Licence_19.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_19.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_19.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_19 action is the same agent of the Evaluate_19 action.
				?eg TBox:has-receiver_19 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_19 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_19 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_19) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_19.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_19.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_19}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_19.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_19ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_19sOrComment_19sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_19 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_19 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_19), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_19.
			}
			WHERE {
					#...the theme of this Publish_19 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_19.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_19.
				?ev TBox:has-result_19 ?r.
				?ev rdf:type TBox:Evaluate_19.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_19 action is the theme of an Approve_19 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_19.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_19.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_19)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_19 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_19), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_19.
			}
			WHERE {
					#...the theme of this Publish_19 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_19.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_19.
				?ev TBox:has-result_19 ?r.
				?ev rdf:type TBox:Evaluate_19.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_19 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_19.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_19 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_19 action is no longer Prohibited (ExceptionArt3b_19), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_19.
			}
			WHERE {
					#...the theme of this Publish_19 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_19.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_19.
				?c TBox:is-comment-of_19 ?ev.
				?ev rdf:type TBox:Evaluate_19.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_19 of this Evaluation is the theme of a Publish_19ing action that is Permitted...
				?ev TBox:has-result_19 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_19.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_19), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_19), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_19 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_19 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_19.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_19.
				?ev TBox:has-result_19 ?r.
				?ev rdf:type TBox:Evaluate_19.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_19}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_19}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_19;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_19 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_19 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_19.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_19.
				?ev TBox:has-result_19 ?r.
				?ev rdf:type TBox:Evaluate_19.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_19}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_19}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_19).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_19 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_19 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_19.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_19.
				?c TBox:is-comment-of_19 ?ev.
				?ev rdf:type TBox:Evaluate_19.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_19 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_19}.
			}
			""";
	];

sh:targetClass TBox:Publish_19.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_20) the Licensee_20 has a Licence_20
###############################################################################################################################################
:evaluatingProduct_20sIsProhibitedUnlessLicence_20 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_20.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_20 action is not Prohibited (ExceptionArt1b_20), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_20 .
			}
			WHERE {
					#... the Product_20 has a Licence_20 which is the theme of a Grant_20 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_20.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_20.
				?l TBox:is-licence-of_20 ?p.
				?l rdf:type TBox:Licence_20.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_20.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_20.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_20 action is the same agent of the Evaluate_20 action.
				?eg TBox:has-receiver_20 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_20 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_20 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_20) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_20.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_20.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_20}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_20.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_20ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_20sOrComment_20sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_20 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_20 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_20), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_20.
			}
			WHERE {
					#...the theme of this Publish_20 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_20.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_20.
				?ev TBox:has-result_20 ?r.
				?ev rdf:type TBox:Evaluate_20.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_20 action is the theme of an Approve_20 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_20.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_20.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_20)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_20 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_20), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_20.
			}
			WHERE {
					#...the theme of this Publish_20 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_20.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_20.
				?ev TBox:has-result_20 ?r.
				?ev rdf:type TBox:Evaluate_20.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_20 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_20.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_20 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_20 action is no longer Prohibited (ExceptionArt3b_20), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_20.
			}
			WHERE {
					#...the theme of this Publish_20 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_20.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_20.
				?c TBox:is-comment-of_20 ?ev.
				?ev rdf:type TBox:Evaluate_20.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_20 of this Evaluation is the theme of a Publish_20ing action that is Permitted...
				?ev TBox:has-result_20 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_20.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_20), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_20), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_20 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_20 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_20.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_20.
				?ev TBox:has-result_20 ?r.
				?ev rdf:type TBox:Evaluate_20.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_20}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_20}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_20;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_20 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_20 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_20.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_20.
				?ev TBox:has-result_20 ?r.
				?ev rdf:type TBox:Evaluate_20.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_20}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_20}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_20).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_20 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_20 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_20.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_20.
				?c TBox:is-comment-of_20 ?ev.
				?ev rdf:type TBox:Evaluate_20.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_20 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_20}.
			}
			""";
	];

sh:targetClass TBox:Publish_20.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_21) the Licensee_21 has a Licence_21
###############################################################################################################################################
:evaluatingProduct_21sIsProhibitedUnlessLicence_21 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_21.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_21 action is not Prohibited (ExceptionArt1b_21), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_21 .
			}
			WHERE {
					#... the Product_21 has a Licence_21 which is the theme of a Grant_21 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_21.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_21.
				?l TBox:is-licence-of_21 ?p.
				?l rdf:type TBox:Licence_21.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_21.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_21.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_21 action is the same agent of the Evaluate_21 action.
				?eg TBox:has-receiver_21 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_21 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_21 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_21) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_21.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_21.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_21}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_21.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_21ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_21sOrComment_21sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_21 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_21 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_21), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_21.
			}
			WHERE {
					#...the theme of this Publish_21 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_21.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_21.
				?ev TBox:has-result_21 ?r.
				?ev rdf:type TBox:Evaluate_21.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_21 action is the theme of an Approve_21 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_21.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_21.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_21)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_21 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_21), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_21.
			}
			WHERE {
					#...the theme of this Publish_21 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_21.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_21.
				?ev TBox:has-result_21 ?r.
				?ev rdf:type TBox:Evaluate_21.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_21 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_21.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_21 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_21 action is no longer Prohibited (ExceptionArt3b_21), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_21.
			}
			WHERE {
					#...the theme of this Publish_21 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_21.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_21.
				?c TBox:is-comment-of_21 ?ev.
				?ev rdf:type TBox:Evaluate_21.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_21 of this Evaluation is the theme of a Publish_21ing action that is Permitted...
				?ev TBox:has-result_21 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_21.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_21), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_21), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_21 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_21 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_21.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_21.
				?ev TBox:has-result_21 ?r.
				?ev rdf:type TBox:Evaluate_21.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_21}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_21}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_21;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_21 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_21 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_21.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_21.
				?ev TBox:has-result_21 ?r.
				?ev rdf:type TBox:Evaluate_21.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_21}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_21}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_21).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_21 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_21 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_21.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_21.
				?c TBox:is-comment-of_21 ?ev.
				?ev rdf:type TBox:Evaluate_21.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_21 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_21}.
			}
			""";
	];

sh:targetClass TBox:Publish_21.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_22) the Licensee_22 has a Licence_22
###############################################################################################################################################
:evaluatingProduct_22sIsProhibitedUnlessLicence_22 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_22.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_22 action is not Prohibited (ExceptionArt1b_22), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_22 .
			}
			WHERE {
					#... the Product_22 has a Licence_22 which is the theme of a Grant_22 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_22.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_22.
				?l TBox:is-licence-of_22 ?p.
				?l rdf:type TBox:Licence_22.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_22.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_22.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_22 action is the same agent of the Evaluate_22 action.
				?eg TBox:has-receiver_22 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_22 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_22 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_22) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_22.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_22.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_22}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_22.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_22ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_22sOrComment_22sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_22 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_22 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_22), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_22.
			}
			WHERE {
					#...the theme of this Publish_22 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_22.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_22.
				?ev TBox:has-result_22 ?r.
				?ev rdf:type TBox:Evaluate_22.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_22 action is the theme of an Approve_22 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_22.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_22.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_22)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_22 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_22), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_22.
			}
			WHERE {
					#...the theme of this Publish_22 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_22.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_22.
				?ev TBox:has-result_22 ?r.
				?ev rdf:type TBox:Evaluate_22.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_22 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_22.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_22 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_22 action is no longer Prohibited (ExceptionArt3b_22), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_22.
			}
			WHERE {
					#...the theme of this Publish_22 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_22.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_22.
				?c TBox:is-comment-of_22 ?ev.
				?ev rdf:type TBox:Evaluate_22.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_22 of this Evaluation is the theme of a Publish_22ing action that is Permitted...
				?ev TBox:has-result_22 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_22.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_22), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_22), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_22 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_22 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_22.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_22.
				?ev TBox:has-result_22 ?r.
				?ev rdf:type TBox:Evaluate_22.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_22}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_22}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_22;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_22 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_22 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_22.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_22.
				?ev TBox:has-result_22 ?r.
				?ev rdf:type TBox:Evaluate_22.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_22}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_22}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_22).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_22 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_22 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_22.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_22.
				?c TBox:is-comment-of_22 ?ev.
				?ev rdf:type TBox:Evaluate_22.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_22 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_22}.
			}
			""";
	];

sh:targetClass TBox:Publish_22.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_23) the Licensee_23 has a Licence_23
###############################################################################################################################################
:evaluatingProduct_23sIsProhibitedUnlessLicence_23 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_23.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_23 action is not Prohibited (ExceptionArt1b_23), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_23 .
			}
			WHERE {
					#... the Product_23 has a Licence_23 which is the theme of a Grant_23 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_23.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_23.
				?l TBox:is-licence-of_23 ?p.
				?l rdf:type TBox:Licence_23.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_23.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_23.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_23 action is the same agent of the Evaluate_23 action.
				?eg TBox:has-receiver_23 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_23 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_23 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_23) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_23.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_23.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_23}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_23.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_23ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_23sOrComment_23sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_23 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_23 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_23), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_23.
			}
			WHERE {
					#...the theme of this Publish_23 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_23.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_23.
				?ev TBox:has-result_23 ?r.
				?ev rdf:type TBox:Evaluate_23.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_23 action is the theme of an Approve_23 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_23.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_23.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_23)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_23 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_23), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_23.
			}
			WHERE {
					#...the theme of this Publish_23 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_23.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_23.
				?ev TBox:has-result_23 ?r.
				?ev rdf:type TBox:Evaluate_23.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_23 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_23.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_23 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_23 action is no longer Prohibited (ExceptionArt3b_23), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_23.
			}
			WHERE {
					#...the theme of this Publish_23 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_23.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_23.
				?c TBox:is-comment-of_23 ?ev.
				?ev rdf:type TBox:Evaluate_23.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_23 of this Evaluation is the theme of a Publish_23ing action that is Permitted...
				?ev TBox:has-result_23 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_23.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_23), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_23), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_23 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_23 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_23.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_23.
				?ev TBox:has-result_23 ?r.
				?ev rdf:type TBox:Evaluate_23.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_23}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_23}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_23;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_23 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_23 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_23.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_23.
				?ev TBox:has-result_23 ?r.
				?ev rdf:type TBox:Evaluate_23.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_23}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_23}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_23).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_23 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_23 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_23.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_23.
				?c TBox:is-comment-of_23 ?ev.
				?ev rdf:type TBox:Evaluate_23.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_23 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_23}.
			}
			""";
	];

sh:targetClass TBox:Publish_23.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_24) the Licensee_24 has a Licence_24
###############################################################################################################################################
:evaluatingProduct_24sIsProhibitedUnlessLicence_24 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_24.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_24 action is not Prohibited (ExceptionArt1b_24), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_24 .
			}
			WHERE {
					#... the Product_24 has a Licence_24 which is the theme of a Grant_24 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_24.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_24.
				?l TBox:is-licence-of_24 ?p.
				?l rdf:type TBox:Licence_24.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_24.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_24.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_24 action is the same agent of the Evaluate_24 action.
				?eg TBox:has-receiver_24 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_24 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_24 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_24) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_24.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_24.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_24}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_24.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_24ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_24sOrComment_24sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_24 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_24 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_24), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_24.
			}
			WHERE {
					#...the theme of this Publish_24 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_24.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_24.
				?ev TBox:has-result_24 ?r.
				?ev rdf:type TBox:Evaluate_24.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_24 action is the theme of an Approve_24 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_24.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_24.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_24)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_24 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_24), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_24.
			}
			WHERE {
					#...the theme of this Publish_24 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_24.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_24.
				?ev TBox:has-result_24 ?r.
				?ev rdf:type TBox:Evaluate_24.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_24 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_24.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_24 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_24 action is no longer Prohibited (ExceptionArt3b_24), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_24.
			}
			WHERE {
					#...the theme of this Publish_24 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_24.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_24.
				?c TBox:is-comment-of_24 ?ev.
				?ev rdf:type TBox:Evaluate_24.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_24 of this Evaluation is the theme of a Publish_24ing action that is Permitted...
				?ev TBox:has-result_24 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_24.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_24), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_24), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_24 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_24 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_24.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_24.
				?ev TBox:has-result_24 ?r.
				?ev rdf:type TBox:Evaluate_24.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_24}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_24}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_24;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_24 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_24 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_24.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_24.
				?ev TBox:has-result_24 ?r.
				?ev rdf:type TBox:Evaluate_24.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_24}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_24}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_24).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_24 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_24 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_24.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_24.
				?c TBox:is-comment-of_24 ?ev.
				?ev rdf:type TBox:Evaluate_24.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_24 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_24}.
			}
			""";
	];

sh:targetClass TBox:Publish_24.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_25) the Licensee_25 has a Licence_25
###############################################################################################################################################
:evaluatingProduct_25sIsProhibitedUnlessLicence_25 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_25.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_25 action is not Prohibited (ExceptionArt1b_25), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_25 .
			}
			WHERE {
					#... the Product_25 has a Licence_25 which is the theme of a Grant_25 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_25.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_25.
				?l TBox:is-licence-of_25 ?p.
				?l rdf:type TBox:Licence_25.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_25.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_25.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_25 action is the same agent of the Evaluate_25 action.
				?eg TBox:has-receiver_25 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_25 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_25 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_25) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_25.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_25.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_25}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_25.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_25ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_25sOrComment_25sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_25 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_25 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_25), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_25.
			}
			WHERE {
					#...the theme of this Publish_25 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_25.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_25.
				?ev TBox:has-result_25 ?r.
				?ev rdf:type TBox:Evaluate_25.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_25 action is the theme of an Approve_25 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_25.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_25.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_25)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_25 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_25), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_25.
			}
			WHERE {
					#...the theme of this Publish_25 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_25.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_25.
				?ev TBox:has-result_25 ?r.
				?ev rdf:type TBox:Evaluate_25.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_25 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_25.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_25 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_25 action is no longer Prohibited (ExceptionArt3b_25), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_25.
			}
			WHERE {
					#...the theme of this Publish_25 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_25.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_25.
				?c TBox:is-comment-of_25 ?ev.
				?ev rdf:type TBox:Evaluate_25.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_25 of this Evaluation is the theme of a Publish_25ing action that is Permitted...
				?ev TBox:has-result_25 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_25.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_25), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_25), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_25 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_25 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_25.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_25.
				?ev TBox:has-result_25 ?r.
				?ev rdf:type TBox:Evaluate_25.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_25}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_25}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_25;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_25 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_25 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_25.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_25.
				?ev TBox:has-result_25 ?r.
				?ev rdf:type TBox:Evaluate_25.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_25}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_25}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_25).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_25 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_25 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_25.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_25.
				?c TBox:is-comment-of_25 ?ev.
				?ev rdf:type TBox:Evaluate_25.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_25 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_25}.
			}
			""";
	];

sh:targetClass TBox:Publish_25.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_26) the Licensee_26 has a Licence_26
###############################################################################################################################################
:evaluatingProduct_26sIsProhibitedUnlessLicence_26 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_26.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_26 action is not Prohibited (ExceptionArt1b_26), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_26 .
			}
			WHERE {
					#... the Product_26 has a Licence_26 which is the theme of a Grant_26 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_26.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_26.
				?l TBox:is-licence-of_26 ?p.
				?l rdf:type TBox:Licence_26.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_26.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_26.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_26 action is the same agent of the Evaluate_26 action.
				?eg TBox:has-receiver_26 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_26 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_26 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_26) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_26.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_26.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_26}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_26.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_26ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_26sOrComment_26sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_26 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_26 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_26), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_26.
			}
			WHERE {
					#...the theme of this Publish_26 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_26.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_26.
				?ev TBox:has-result_26 ?r.
				?ev rdf:type TBox:Evaluate_26.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_26 action is the theme of an Approve_26 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_26.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_26.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_26)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_26 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_26), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_26.
			}
			WHERE {
					#...the theme of this Publish_26 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_26.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_26.
				?ev TBox:has-result_26 ?r.
				?ev rdf:type TBox:Evaluate_26.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_26 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_26.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_26 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_26 action is no longer Prohibited (ExceptionArt3b_26), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_26.
			}
			WHERE {
					#...the theme of this Publish_26 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_26.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_26.
				?c TBox:is-comment-of_26 ?ev.
				?ev rdf:type TBox:Evaluate_26.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_26 of this Evaluation is the theme of a Publish_26ing action that is Permitted...
				?ev TBox:has-result_26 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_26.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_26), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_26), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_26 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_26 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_26.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_26.
				?ev TBox:has-result_26 ?r.
				?ev rdf:type TBox:Evaluate_26.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_26}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_26}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_26;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_26 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_26 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_26.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_26.
				?ev TBox:has-result_26 ?r.
				?ev rdf:type TBox:Evaluate_26.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_26}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_26}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_26).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_26 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_26 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_26.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_26.
				?c TBox:is-comment-of_26 ?ev.
				?ev rdf:type TBox:Evaluate_26.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_26 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_26}.
			}
			""";
	];

sh:targetClass TBox:Publish_26.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_27) the Licensee_27 has a Licence_27
###############################################################################################################################################
:evaluatingProduct_27sIsProhibitedUnlessLicence_27 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_27.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_27 action is not Prohibited (ExceptionArt1b_27), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_27 .
			}
			WHERE {
					#... the Product_27 has a Licence_27 which is the theme of a Grant_27 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_27.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_27.
				?l TBox:is-licence-of_27 ?p.
				?l rdf:type TBox:Licence_27.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_27.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_27.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_27 action is the same agent of the Evaluate_27 action.
				?eg TBox:has-receiver_27 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_27 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_27 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_27) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_27.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_27.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_27}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_27.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_27ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_27sOrComment_27sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_27 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_27 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_27), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_27.
			}
			WHERE {
					#...the theme of this Publish_27 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_27.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_27.
				?ev TBox:has-result_27 ?r.
				?ev rdf:type TBox:Evaluate_27.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_27 action is the theme of an Approve_27 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_27.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_27.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_27)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_27 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_27), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_27.
			}
			WHERE {
					#...the theme of this Publish_27 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_27.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_27.
				?ev TBox:has-result_27 ?r.
				?ev rdf:type TBox:Evaluate_27.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_27 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_27.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_27 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_27 action is no longer Prohibited (ExceptionArt3b_27), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_27.
			}
			WHERE {
					#...the theme of this Publish_27 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_27.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_27.
				?c TBox:is-comment-of_27 ?ev.
				?ev rdf:type TBox:Evaluate_27.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_27 of this Evaluation is the theme of a Publish_27ing action that is Permitted...
				?ev TBox:has-result_27 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_27.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_27), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_27), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_27 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_27 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_27.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_27.
				?ev TBox:has-result_27 ?r.
				?ev rdf:type TBox:Evaluate_27.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_27}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_27}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_27;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_27 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_27 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_27.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_27.
				?ev TBox:has-result_27 ?r.
				?ev rdf:type TBox:Evaluate_27.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_27}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_27}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_27).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_27 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_27 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_27.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_27.
				?c TBox:is-comment-of_27 ?ev.
				?ev rdf:type TBox:Evaluate_27.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_27 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_27}.
			}
			""";
	];

sh:targetClass TBox:Publish_27.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_28) the Licensee_28 has a Licence_28
###############################################################################################################################################
:evaluatingProduct_28sIsProhibitedUnlessLicence_28 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_28.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_28 action is not Prohibited (ExceptionArt1b_28), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_28 .
			}
			WHERE {
					#... the Product_28 has a Licence_28 which is the theme of a Grant_28 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_28.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_28.
				?l TBox:is-licence-of_28 ?p.
				?l rdf:type TBox:Licence_28.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_28.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_28.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_28 action is the same agent of the Evaluate_28 action.
				?eg TBox:has-receiver_28 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_28 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_28 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_28) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_28.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_28.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_28}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_28.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_28ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_28sOrComment_28sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_28 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_28 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_28), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_28.
			}
			WHERE {
					#...the theme of this Publish_28 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_28.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_28.
				?ev TBox:has-result_28 ?r.
				?ev rdf:type TBox:Evaluate_28.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_28 action is the theme of an Approve_28 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_28.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_28.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_28)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_28 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_28), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_28.
			}
			WHERE {
					#...the theme of this Publish_28 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_28.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_28.
				?ev TBox:has-result_28 ?r.
				?ev rdf:type TBox:Evaluate_28.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_28 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_28.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_28 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_28 action is no longer Prohibited (ExceptionArt3b_28), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_28.
			}
			WHERE {
					#...the theme of this Publish_28 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_28.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_28.
				?c TBox:is-comment-of_28 ?ev.
				?ev rdf:type TBox:Evaluate_28.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_28 of this Evaluation is the theme of a Publish_28ing action that is Permitted...
				?ev TBox:has-result_28 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_28.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_28), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_28), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_28 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_28 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_28.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_28.
				?ev TBox:has-result_28 ?r.
				?ev rdf:type TBox:Evaluate_28.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_28}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_28}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_28;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_28 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_28 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_28.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_28.
				?ev TBox:has-result_28 ?r.
				?ev rdf:type TBox:Evaluate_28.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_28}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_28}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_28).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_28 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_28 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_28.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_28.
				?c TBox:is-comment-of_28 ?ev.
				?ev rdf:type TBox:Evaluate_28.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_28 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_28}.
			}
			""";
	];

sh:targetClass TBox:Publish_28.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_29) the Licensee_29 has a Licence_29
###############################################################################################################################################
:evaluatingProduct_29sIsProhibitedUnlessLicence_29 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_29.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_29 action is not Prohibited (ExceptionArt1b_29), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_29 .
			}
			WHERE {
					#... the Product_29 has a Licence_29 which is the theme of a Grant_29 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_29.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_29.
				?l TBox:is-licence-of_29 ?p.
				?l rdf:type TBox:Licence_29.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_29.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_29.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_29 action is the same agent of the Evaluate_29 action.
				?eg TBox:has-receiver_29 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_29 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_29 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_29) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_29.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_29.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_29}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_29.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_29ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_29sOrComment_29sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_29 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_29 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_29), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_29.
			}
			WHERE {
					#...the theme of this Publish_29 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_29.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_29.
				?ev TBox:has-result_29 ?r.
				?ev rdf:type TBox:Evaluate_29.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_29 action is the theme of an Approve_29 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_29.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_29.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_29)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_29 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_29), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_29.
			}
			WHERE {
					#...the theme of this Publish_29 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_29.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_29.
				?ev TBox:has-result_29 ?r.
				?ev rdf:type TBox:Evaluate_29.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_29 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_29.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_29 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_29 action is no longer Prohibited (ExceptionArt3b_29), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_29.
			}
			WHERE {
					#...the theme of this Publish_29 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_29.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_29.
				?c TBox:is-comment-of_29 ?ev.
				?ev rdf:type TBox:Evaluate_29.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_29 of this Evaluation is the theme of a Publish_29ing action that is Permitted...
				?ev TBox:has-result_29 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_29.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_29), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_29), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_29 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_29 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_29.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_29.
				?ev TBox:has-result_29 ?r.
				?ev rdf:type TBox:Evaluate_29.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_29}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_29}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_29;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_29 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_29 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_29.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_29.
				?ev TBox:has-result_29 ?r.
				?ev rdf:type TBox:Evaluate_29.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_29}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_29}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_29).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_29 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_29 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_29.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_29.
				?c TBox:is-comment-of_29 ?ev.
				?ev rdf:type TBox:Evaluate_29.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_29 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_29}.
			}
			""";
	];

sh:targetClass TBox:Publish_29.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_30) the Licensee_30 has a Licence_30
###############################################################################################################################################
:evaluatingProduct_30sIsProhibitedUnlessLicence_30 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_30.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_30 action is not Prohibited (ExceptionArt1b_30), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_30 .
			}
			WHERE {
					#... the Product_30 has a Licence_30 which is the theme of a Grant_30 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_30.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_30.
				?l TBox:is-licence-of_30 ?p.
				?l rdf:type TBox:Licence_30.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_30.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_30.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_30 action is the same agent of the Evaluate_30 action.
				?eg TBox:has-receiver_30 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_30 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_30 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_30) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_30.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_30.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_30}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_30.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_30ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_30sOrComment_30sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_30 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_30 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_30), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_30.
			}
			WHERE {
					#...the theme of this Publish_30 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_30.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_30.
				?ev TBox:has-result_30 ?r.
				?ev rdf:type TBox:Evaluate_30.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_30 action is the theme of an Approve_30 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_30.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_30.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_30)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_30 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_30), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_30.
			}
			WHERE {
					#...the theme of this Publish_30 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_30.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_30.
				?ev TBox:has-result_30 ?r.
				?ev rdf:type TBox:Evaluate_30.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_30 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_30.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_30 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_30 action is no longer Prohibited (ExceptionArt3b_30), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_30.
			}
			WHERE {
					#...the theme of this Publish_30 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_30.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_30.
				?c TBox:is-comment-of_30 ?ev.
				?ev rdf:type TBox:Evaluate_30.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_30 of this Evaluation is the theme of a Publish_30ing action that is Permitted...
				?ev TBox:has-result_30 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_30.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_30), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_30), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_30 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_30 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_30.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_30.
				?ev TBox:has-result_30 ?r.
				?ev rdf:type TBox:Evaluate_30.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_30}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_30}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_30;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_30 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_30 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_30.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_30.
				?ev TBox:has-result_30 ?r.
				?ev rdf:type TBox:Evaluate_30.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_30}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_30}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_30).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_30 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_30 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_30.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_30.
				?c TBox:is-comment-of_30 ?ev.
				?ev rdf:type TBox:Evaluate_30.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_30 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_30}.
			}
			""";
	];

sh:targetClass TBox:Publish_30.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_31) the Licensee_31 has a Licence_31
###############################################################################################################################################
:evaluatingProduct_31sIsProhibitedUnlessLicence_31 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_31.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_31 action is not Prohibited (ExceptionArt1b_31), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_31 .
			}
			WHERE {
					#... the Product_31 has a Licence_31 which is the theme of a Grant_31 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_31.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_31.
				?l TBox:is-licence-of_31 ?p.
				?l rdf:type TBox:Licence_31.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_31.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_31.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_31 action is the same agent of the Evaluate_31 action.
				?eg TBox:has-receiver_31 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_31 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_31 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_31) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_31.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_31.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_31}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_31.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_31ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_31sOrComment_31sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_31 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_31 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_31), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_31.
			}
			WHERE {
					#...the theme of this Publish_31 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_31.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_31.
				?ev TBox:has-result_31 ?r.
				?ev rdf:type TBox:Evaluate_31.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_31 action is the theme of an Approve_31 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_31.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_31.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_31)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_31 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_31), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_31.
			}
			WHERE {
					#...the theme of this Publish_31 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_31.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_31.
				?ev TBox:has-result_31 ?r.
				?ev rdf:type TBox:Evaluate_31.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_31 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_31.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_31 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_31 action is no longer Prohibited (ExceptionArt3b_31), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_31.
			}
			WHERE {
					#...the theme of this Publish_31 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_31.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_31.
				?c TBox:is-comment-of_31 ?ev.
				?ev rdf:type TBox:Evaluate_31.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_31 of this Evaluation is the theme of a Publish_31ing action that is Permitted...
				?ev TBox:has-result_31 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_31.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_31), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_31), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_31 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_31 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_31.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_31.
				?ev TBox:has-result_31 ?r.
				?ev rdf:type TBox:Evaluate_31.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_31}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_31}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_31;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_31 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_31 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_31.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_31.
				?ev TBox:has-result_31 ?r.
				?ev rdf:type TBox:Evaluate_31.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_31}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_31}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_31).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_31 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_31 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_31.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_31.
				?c TBox:is-comment-of_31 ?ev.
				?ev rdf:type TBox:Evaluate_31.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_31 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_31}.
			}
			""";
	];

sh:targetClass TBox:Publish_31.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_32) the Licensee_32 has a Licence_32
###############################################################################################################################################
:evaluatingProduct_32sIsProhibitedUnlessLicence_32 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_32.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_32 action is not Prohibited (ExceptionArt1b_32), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_32 .
			}
			WHERE {
					#... the Product_32 has a Licence_32 which is the theme of a Grant_32 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_32.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_32.
				?l TBox:is-licence-of_32 ?p.
				?l rdf:type TBox:Licence_32.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_32.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_32.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_32 action is the same agent of the Evaluate_32 action.
				?eg TBox:has-receiver_32 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_32 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_32 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_32) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_32.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_32.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_32}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_32.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_32ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_32sOrComment_32sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_32 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_32 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_32), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_32.
			}
			WHERE {
					#...the theme of this Publish_32 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_32.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_32.
				?ev TBox:has-result_32 ?r.
				?ev rdf:type TBox:Evaluate_32.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_32 action is the theme of an Approve_32 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_32.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_32.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_32)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_32 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_32), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_32.
			}
			WHERE {
					#...the theme of this Publish_32 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_32.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_32.
				?ev TBox:has-result_32 ?r.
				?ev rdf:type TBox:Evaluate_32.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_32 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_32.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_32 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_32 action is no longer Prohibited (ExceptionArt3b_32), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_32.
			}
			WHERE {
					#...the theme of this Publish_32 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_32.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_32.
				?c TBox:is-comment-of_32 ?ev.
				?ev rdf:type TBox:Evaluate_32.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_32 of this Evaluation is the theme of a Publish_32ing action that is Permitted...
				?ev TBox:has-result_32 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_32.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_32), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_32), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_32 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_32 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_32.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_32.
				?ev TBox:has-result_32 ?r.
				?ev rdf:type TBox:Evaluate_32.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_32}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_32}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_32;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_32 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_32 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_32.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_32.
				?ev TBox:has-result_32 ?r.
				?ev rdf:type TBox:Evaluate_32.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_32}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_32}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_32).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_32 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_32 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_32.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_32.
				?c TBox:is-comment-of_32 ?ev.
				?ev rdf:type TBox:Evaluate_32.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_32 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_32}.
			}
			""";
	];

sh:targetClass TBox:Publish_32.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_33) the Licensee_33 has a Licence_33
###############################################################################################################################################
:evaluatingProduct_33sIsProhibitedUnlessLicence_33 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_33.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_33 action is not Prohibited (ExceptionArt1b_33), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_33 .
			}
			WHERE {
					#... the Product_33 has a Licence_33 which is the theme of a Grant_33 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_33.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_33.
				?l TBox:is-licence-of_33 ?p.
				?l rdf:type TBox:Licence_33.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_33.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_33.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_33 action is the same agent of the Evaluate_33 action.
				?eg TBox:has-receiver_33 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_33 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_33 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_33) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_33.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_33.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_33}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_33.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_33ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_33sOrComment_33sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_33 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_33 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_33), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_33.
			}
			WHERE {
					#...the theme of this Publish_33 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_33.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_33.
				?ev TBox:has-result_33 ?r.
				?ev rdf:type TBox:Evaluate_33.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_33 action is the theme of an Approve_33 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_33.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_33.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_33)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_33 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_33), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_33.
			}
			WHERE {
					#...the theme of this Publish_33 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_33.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_33.
				?ev TBox:has-result_33 ?r.
				?ev rdf:type TBox:Evaluate_33.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_33 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_33.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_33 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_33 action is no longer Prohibited (ExceptionArt3b_33), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_33.
			}
			WHERE {
					#...the theme of this Publish_33 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_33.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_33.
				?c TBox:is-comment-of_33 ?ev.
				?ev rdf:type TBox:Evaluate_33.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_33 of this Evaluation is the theme of a Publish_33ing action that is Permitted...
				?ev TBox:has-result_33 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_33.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_33), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_33), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_33 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_33 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_33.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_33.
				?ev TBox:has-result_33 ?r.
				?ev rdf:type TBox:Evaluate_33.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_33}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_33}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_33;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_33 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_33 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_33.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_33.
				?ev TBox:has-result_33 ?r.
				?ev rdf:type TBox:Evaluate_33.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_33}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_33}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_33).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_33 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_33 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_33.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_33.
				?c TBox:is-comment-of_33 ?ev.
				?ev rdf:type TBox:Evaluate_33.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_33 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_33}.
			}
			""";
	];

sh:targetClass TBox:Publish_33.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_34) the Licensee_34 has a Licence_34
###############################################################################################################################################
:evaluatingProduct_34sIsProhibitedUnlessLicence_34 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_34.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_34 action is not Prohibited (ExceptionArt1b_34), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_34 .
			}
			WHERE {
					#... the Product_34 has a Licence_34 which is the theme of a Grant_34 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_34.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_34.
				?l TBox:is-licence-of_34 ?p.
				?l rdf:type TBox:Licence_34.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_34.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_34.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_34 action is the same agent of the Evaluate_34 action.
				?eg TBox:has-receiver_34 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_34 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_34 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_34) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_34.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_34.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_34}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_34.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_34ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_34sOrComment_34sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_34 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_34 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_34), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_34.
			}
			WHERE {
					#...the theme of this Publish_34 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_34.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_34.
				?ev TBox:has-result_34 ?r.
				?ev rdf:type TBox:Evaluate_34.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_34 action is the theme of an Approve_34 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_34.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_34.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_34)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_34 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_34), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_34.
			}
			WHERE {
					#...the theme of this Publish_34 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_34.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_34.
				?ev TBox:has-result_34 ?r.
				?ev rdf:type TBox:Evaluate_34.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_34 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_34.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_34 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_34 action is no longer Prohibited (ExceptionArt3b_34), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_34.
			}
			WHERE {
					#...the theme of this Publish_34 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_34.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_34.
				?c TBox:is-comment-of_34 ?ev.
				?ev rdf:type TBox:Evaluate_34.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_34 of this Evaluation is the theme of a Publish_34ing action that is Permitted...
				?ev TBox:has-result_34 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_34.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_34), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_34), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_34 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_34 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_34.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_34.
				?ev TBox:has-result_34 ?r.
				?ev rdf:type TBox:Evaluate_34.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_34}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_34}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_34;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_34 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_34 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_34.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_34.
				?ev TBox:has-result_34 ?r.
				?ev rdf:type TBox:Evaluate_34.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_34}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_34}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_34).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_34 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_34 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_34.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_34.
				?c TBox:is-comment-of_34 ?ev.
				?ev rdf:type TBox:Evaluate_34.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_34 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_34}.
			}
			""";
	];

sh:targetClass TBox:Publish_34.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_35) the Licensee_35 has a Licence_35
###############################################################################################################################################
:evaluatingProduct_35sIsProhibitedUnlessLicence_35 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_35.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_35 action is not Prohibited (ExceptionArt1b_35), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_35 .
			}
			WHERE {
					#... the Product_35 has a Licence_35 which is the theme of a Grant_35 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_35.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_35.
				?l TBox:is-licence-of_35 ?p.
				?l rdf:type TBox:Licence_35.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_35.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_35.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_35 action is the same agent of the Evaluate_35 action.
				?eg TBox:has-receiver_35 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_35 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_35 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_35) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_35.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_35.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_35}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_35.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_35ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_35sOrComment_35sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_35 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_35 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_35), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_35.
			}
			WHERE {
					#...the theme of this Publish_35 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_35.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_35.
				?ev TBox:has-result_35 ?r.
				?ev rdf:type TBox:Evaluate_35.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_35 action is the theme of an Approve_35 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_35.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_35.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_35)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_35 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_35), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_35.
			}
			WHERE {
					#...the theme of this Publish_35 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_35.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_35.
				?ev TBox:has-result_35 ?r.
				?ev rdf:type TBox:Evaluate_35.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_35 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_35.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_35 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_35 action is no longer Prohibited (ExceptionArt3b_35), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_35.
			}
			WHERE {
					#...the theme of this Publish_35 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_35.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_35.
				?c TBox:is-comment-of_35 ?ev.
				?ev rdf:type TBox:Evaluate_35.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_35 of this Evaluation is the theme of a Publish_35ing action that is Permitted...
				?ev TBox:has-result_35 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_35.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_35), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_35), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_35 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_35 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_35.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_35.
				?ev TBox:has-result_35 ?r.
				?ev rdf:type TBox:Evaluate_35.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_35}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_35}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_35;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_35 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_35 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_35.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_35.
				?ev TBox:has-result_35 ?r.
				?ev rdf:type TBox:Evaluate_35.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_35}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_35}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_35).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_35 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_35 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_35.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_35.
				?c TBox:is-comment-of_35 ?ev.
				?ev rdf:type TBox:Evaluate_35.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_35 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_35}.
			}
			""";
	];

sh:targetClass TBox:Publish_35.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_36) the Licensee_36 has a Licence_36
###############################################################################################################################################
:evaluatingProduct_36sIsProhibitedUnlessLicence_36 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_36.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_36 action is not Prohibited (ExceptionArt1b_36), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_36 .
			}
			WHERE {
					#... the Product_36 has a Licence_36 which is the theme of a Grant_36 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_36.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_36.
				?l TBox:is-licence-of_36 ?p.
				?l rdf:type TBox:Licence_36.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_36.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_36.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_36 action is the same agent of the Evaluate_36 action.
				?eg TBox:has-receiver_36 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_36 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_36 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_36) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_36.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_36.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_36}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_36.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_36ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_36sOrComment_36sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_36 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_36 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_36), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_36.
			}
			WHERE {
					#...the theme of this Publish_36 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_36.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_36.
				?ev TBox:has-result_36 ?r.
				?ev rdf:type TBox:Evaluate_36.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_36 action is the theme of an Approve_36 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_36.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_36.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_36)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_36 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_36), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_36.
			}
			WHERE {
					#...the theme of this Publish_36 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_36.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_36.
				?ev TBox:has-result_36 ?r.
				?ev rdf:type TBox:Evaluate_36.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_36 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_36.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_36 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_36 action is no longer Prohibited (ExceptionArt3b_36), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_36.
			}
			WHERE {
					#...the theme of this Publish_36 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_36.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_36.
				?c TBox:is-comment-of_36 ?ev.
				?ev rdf:type TBox:Evaluate_36.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_36 of this Evaluation is the theme of a Publish_36ing action that is Permitted...
				?ev TBox:has-result_36 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_36.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_36), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_36), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_36 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_36 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_36.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_36.
				?ev TBox:has-result_36 ?r.
				?ev rdf:type TBox:Evaluate_36.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_36}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_36}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_36;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_36 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_36 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_36.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_36.
				?ev TBox:has-result_36 ?r.
				?ev rdf:type TBox:Evaluate_36.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_36}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_36}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_36).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_36 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_36 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_36.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_36.
				?c TBox:is-comment-of_36 ?ev.
				?ev rdf:type TBox:Evaluate_36.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_36 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_36}.
			}
			""";
	];

sh:targetClass TBox:Publish_36.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_37) the Licensee_37 has a Licence_37
###############################################################################################################################################
:evaluatingProduct_37sIsProhibitedUnlessLicence_37 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_37.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_37 action is not Prohibited (ExceptionArt1b_37), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_37 .
			}
			WHERE {
					#... the Product_37 has a Licence_37 which is the theme of a Grant_37 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_37.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_37.
				?l TBox:is-licence-of_37 ?p.
				?l rdf:type TBox:Licence_37.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_37.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_37.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_37 action is the same agent of the Evaluate_37 action.
				?eg TBox:has-receiver_37 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_37 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_37 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_37) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_37.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_37.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_37}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_37.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_37ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_37sOrComment_37sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_37 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_37 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_37), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_37.
			}
			WHERE {
					#...the theme of this Publish_37 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_37.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_37.
				?ev TBox:has-result_37 ?r.
				?ev rdf:type TBox:Evaluate_37.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_37 action is the theme of an Approve_37 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_37.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_37.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_37)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_37 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_37), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_37.
			}
			WHERE {
					#...the theme of this Publish_37 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_37.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_37.
				?ev TBox:has-result_37 ?r.
				?ev rdf:type TBox:Evaluate_37.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_37 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_37.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_37 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_37 action is no longer Prohibited (ExceptionArt3b_37), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_37.
			}
			WHERE {
					#...the theme of this Publish_37 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_37.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_37.
				?c TBox:is-comment-of_37 ?ev.
				?ev rdf:type TBox:Evaluate_37.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_37 of this Evaluation is the theme of a Publish_37ing action that is Permitted...
				?ev TBox:has-result_37 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_37.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_37), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_37), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_37 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_37 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_37.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_37.
				?ev TBox:has-result_37 ?r.
				?ev rdf:type TBox:Evaluate_37.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_37}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_37}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_37;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_37 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_37 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_37.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_37.
				?ev TBox:has-result_37 ?r.
				?ev rdf:type TBox:Evaluate_37.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_37}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_37}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_37).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_37 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_37 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_37.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_37.
				?c TBox:is-comment-of_37 ?ev.
				?ev rdf:type TBox:Evaluate_37.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_37 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_37}.
			}
			""";
	];

sh:targetClass TBox:Publish_37.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_38) the Licensee_38 has a Licence_38
###############################################################################################################################################
:evaluatingProduct_38sIsProhibitedUnlessLicence_38 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_38.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_38 action is not Prohibited (ExceptionArt1b_38), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_38 .
			}
			WHERE {
					#... the Product_38 has a Licence_38 which is the theme of a Grant_38 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_38.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_38.
				?l TBox:is-licence-of_38 ?p.
				?l rdf:type TBox:Licence_38.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_38.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_38.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_38 action is the same agent of the Evaluate_38 action.
				?eg TBox:has-receiver_38 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_38 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_38 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_38) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_38.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_38.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_38}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_38.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_38ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_38sOrComment_38sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_38 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_38 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_38), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_38.
			}
			WHERE {
					#...the theme of this Publish_38 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_38.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_38.
				?ev TBox:has-result_38 ?r.
				?ev rdf:type TBox:Evaluate_38.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_38 action is the theme of an Approve_38 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_38.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_38.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_38)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_38 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_38), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_38.
			}
			WHERE {
					#...the theme of this Publish_38 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_38.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_38.
				?ev TBox:has-result_38 ?r.
				?ev rdf:type TBox:Evaluate_38.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_38 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_38.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_38 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_38 action is no longer Prohibited (ExceptionArt3b_38), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_38.
			}
			WHERE {
					#...the theme of this Publish_38 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_38.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_38.
				?c TBox:is-comment-of_38 ?ev.
				?ev rdf:type TBox:Evaluate_38.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_38 of this Evaluation is the theme of a Publish_38ing action that is Permitted...
				?ev TBox:has-result_38 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_38.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_38), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_38), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_38 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_38 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_38.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_38.
				?ev TBox:has-result_38 ?r.
				?ev rdf:type TBox:Evaluate_38.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_38}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_38}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_38;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_38 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_38 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_38.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_38.
				?ev TBox:has-result_38 ?r.
				?ev rdf:type TBox:Evaluate_38.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_38}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_38}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_38).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_38 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_38 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_38.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_38.
				?c TBox:is-comment-of_38 ?ev.
				?ev rdf:type TBox:Evaluate_38.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_38 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_38}.
			}
			""";
	];

sh:targetClass TBox:Publish_38.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_39) the Licensee_39 has a Licence_39
###############################################################################################################################################
:evaluatingProduct_39sIsProhibitedUnlessLicence_39 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_39.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_39 action is not Prohibited (ExceptionArt1b_39), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_39 .
			}
			WHERE {
					#... the Product_39 has a Licence_39 which is the theme of a Grant_39 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_39.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_39.
				?l TBox:is-licence-of_39 ?p.
				?l rdf:type TBox:Licence_39.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_39.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_39.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_39 action is the same agent of the Evaluate_39 action.
				?eg TBox:has-receiver_39 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_39 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_39 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_39) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_39.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_39.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_39}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_39.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_39ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_39sOrComment_39sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_39 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_39 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_39), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_39.
			}
			WHERE {
					#...the theme of this Publish_39 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_39.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_39.
				?ev TBox:has-result_39 ?r.
				?ev rdf:type TBox:Evaluate_39.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_39 action is the theme of an Approve_39 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_39.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_39.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_39)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_39 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_39), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_39.
			}
			WHERE {
					#...the theme of this Publish_39 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_39.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_39.
				?ev TBox:has-result_39 ?r.
				?ev rdf:type TBox:Evaluate_39.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_39 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_39.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_39 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_39 action is no longer Prohibited (ExceptionArt3b_39), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_39.
			}
			WHERE {
					#...the theme of this Publish_39 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_39.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_39.
				?c TBox:is-comment-of_39 ?ev.
				?ev rdf:type TBox:Evaluate_39.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_39 of this Evaluation is the theme of a Publish_39ing action that is Permitted...
				?ev TBox:has-result_39 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_39.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_39), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_39), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_39 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_39 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_39.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_39.
				?ev TBox:has-result_39 ?r.
				?ev rdf:type TBox:Evaluate_39.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_39}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_39}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_39;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_39 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_39 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_39.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_39.
				?ev TBox:has-result_39 ?r.
				?ev rdf:type TBox:Evaluate_39.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_39}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_39}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_39).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_39 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_39 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_39.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_39.
				?c TBox:is-comment-of_39 ?ev.
				?ev rdf:type TBox:Evaluate_39.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_39 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_39}.
			}
			""";
	];

sh:targetClass TBox:Publish_39.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_40) the Licensee_40 has a Licence_40
###############################################################################################################################################
:evaluatingProduct_40sIsProhibitedUnlessLicence_40 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_40.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_40 action is not Prohibited (ExceptionArt1b_40), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_40 .
			}
			WHERE {
					#... the Product_40 has a Licence_40 which is the theme of a Grant_40 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_40.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_40.
				?l TBox:is-licence-of_40 ?p.
				?l rdf:type TBox:Licence_40.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_40.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_40.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_40 action is the same agent of the Evaluate_40 action.
				?eg TBox:has-receiver_40 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_40 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_40 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_40) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_40.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_40.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_40}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_40.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_40ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_40sOrComment_40sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_40 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_40 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_40), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_40.
			}
			WHERE {
					#...the theme of this Publish_40 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_40.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_40.
				?ev TBox:has-result_40 ?r.
				?ev rdf:type TBox:Evaluate_40.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_40 action is the theme of an Approve_40 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_40.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_40.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_40)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_40 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_40), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_40.
			}
			WHERE {
					#...the theme of this Publish_40 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_40.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_40.
				?ev TBox:has-result_40 ?r.
				?ev rdf:type TBox:Evaluate_40.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_40 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_40.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_40 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_40 action is no longer Prohibited (ExceptionArt3b_40), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_40.
			}
			WHERE {
					#...the theme of this Publish_40 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_40.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_40.
				?c TBox:is-comment-of_40 ?ev.
				?ev rdf:type TBox:Evaluate_40.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_40 of this Evaluation is the theme of a Publish_40ing action that is Permitted...
				?ev TBox:has-result_40 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_40.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_40), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_40), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_40 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_40 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_40.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_40.
				?ev TBox:has-result_40 ?r.
				?ev rdf:type TBox:Evaluate_40.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_40}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_40}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_40;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_40 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_40 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_40.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_40.
				?ev TBox:has-result_40 ?r.
				?ev rdf:type TBox:Evaluate_40.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_40}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_40}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_40).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_40 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_40 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_40.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_40.
				?c TBox:is-comment-of_40 ?ev.
				?ev rdf:type TBox:Evaluate_40.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_40 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_40}.
			}
			""";
	];

sh:targetClass TBox:Publish_40.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_41) the Licensee_41 has a Licence_41
###############################################################################################################################################
:evaluatingProduct_41sIsProhibitedUnlessLicence_41 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_41.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_41 action is not Prohibited (ExceptionArt1b_41), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_41 .
			}
			WHERE {
					#... the Product_41 has a Licence_41 which is the theme of a Grant_41 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_41.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_41.
				?l TBox:is-licence-of_41 ?p.
				?l rdf:type TBox:Licence_41.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_41.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_41.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_41 action is the same agent of the Evaluate_41 action.
				?eg TBox:has-receiver_41 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_41 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_41 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_41) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_41.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_41.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_41}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_41.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_41ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_41sOrComment_41sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_41 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_41 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_41), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_41.
			}
			WHERE {
					#...the theme of this Publish_41 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_41.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_41.
				?ev TBox:has-result_41 ?r.
				?ev rdf:type TBox:Evaluate_41.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_41 action is the theme of an Approve_41 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_41.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_41.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_41)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_41 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_41), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_41.
			}
			WHERE {
					#...the theme of this Publish_41 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_41.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_41.
				?ev TBox:has-result_41 ?r.
				?ev rdf:type TBox:Evaluate_41.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_41 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_41.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_41 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_41 action is no longer Prohibited (ExceptionArt3b_41), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_41.
			}
			WHERE {
					#...the theme of this Publish_41 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_41.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_41.
				?c TBox:is-comment-of_41 ?ev.
				?ev rdf:type TBox:Evaluate_41.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_41 of this Evaluation is the theme of a Publish_41ing action that is Permitted...
				?ev TBox:has-result_41 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_41.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_41), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_41), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_41 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_41 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_41.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_41.
				?ev TBox:has-result_41 ?r.
				?ev rdf:type TBox:Evaluate_41.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_41}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_41}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_41;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_41 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_41 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_41.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_41.
				?ev TBox:has-result_41 ?r.
				?ev rdf:type TBox:Evaluate_41.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_41}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_41}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_41).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_41 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_41 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_41.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_41.
				?c TBox:is-comment-of_41 ?ev.
				?ev rdf:type TBox:Evaluate_41.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_41 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_41}.
			}
			""";
	];

sh:targetClass TBox:Publish_41.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_42) the Licensee_42 has a Licence_42
###############################################################################################################################################
:evaluatingProduct_42sIsProhibitedUnlessLicence_42 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_42.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_42 action is not Prohibited (ExceptionArt1b_42), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_42 .
			}
			WHERE {
					#... the Product_42 has a Licence_42 which is the theme of a Grant_42 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_42.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_42.
				?l TBox:is-licence-of_42 ?p.
				?l rdf:type TBox:Licence_42.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_42.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_42.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_42 action is the same agent of the Evaluate_42 action.
				?eg TBox:has-receiver_42 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_42 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_42 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_42) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_42.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_42.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_42}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_42.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_42ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_42sOrComment_42sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_42 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_42 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_42), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_42.
			}
			WHERE {
					#...the theme of this Publish_42 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_42.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_42.
				?ev TBox:has-result_42 ?r.
				?ev rdf:type TBox:Evaluate_42.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_42 action is the theme of an Approve_42 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_42.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_42.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_42)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_42 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_42), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_42.
			}
			WHERE {
					#...the theme of this Publish_42 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_42.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_42.
				?ev TBox:has-result_42 ?r.
				?ev rdf:type TBox:Evaluate_42.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_42 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_42.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_42 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_42 action is no longer Prohibited (ExceptionArt3b_42), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_42.
			}
			WHERE {
					#...the theme of this Publish_42 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_42.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_42.
				?c TBox:is-comment-of_42 ?ev.
				?ev rdf:type TBox:Evaluate_42.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_42 of this Evaluation is the theme of a Publish_42ing action that is Permitted...
				?ev TBox:has-result_42 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_42.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_42), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_42), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_42 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_42 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_42.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_42.
				?ev TBox:has-result_42 ?r.
				?ev rdf:type TBox:Evaluate_42.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_42}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_42}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_42;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_42 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_42 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_42.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_42.
				?ev TBox:has-result_42 ?r.
				?ev rdf:type TBox:Evaluate_42.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_42}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_42}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_42).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_42 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_42 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_42.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_42.
				?c TBox:is-comment-of_42 ?ev.
				?ev rdf:type TBox:Evaluate_42.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_42 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_42}.
			}
			""";
	];

sh:targetClass TBox:Publish_42.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_43) the Licensee_43 has a Licence_43
###############################################################################################################################################
:evaluatingProduct_43sIsProhibitedUnlessLicence_43 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_43.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_43 action is not Prohibited (ExceptionArt1b_43), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_43 .
			}
			WHERE {
					#... the Product_43 has a Licence_43 which is the theme of a Grant_43 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_43.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_43.
				?l TBox:is-licence-of_43 ?p.
				?l rdf:type TBox:Licence_43.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_43.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_43.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_43 action is the same agent of the Evaluate_43 action.
				?eg TBox:has-receiver_43 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_43 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_43 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_43) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_43.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_43.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_43}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_43.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_43ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_43sOrComment_43sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_43 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_43 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_43), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_43.
			}
			WHERE {
					#...the theme of this Publish_43 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_43.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_43.
				?ev TBox:has-result_43 ?r.
				?ev rdf:type TBox:Evaluate_43.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_43 action is the theme of an Approve_43 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_43.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_43.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_43)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_43 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_43), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_43.
			}
			WHERE {
					#...the theme of this Publish_43 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_43.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_43.
				?ev TBox:has-result_43 ?r.
				?ev rdf:type TBox:Evaluate_43.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_43 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_43.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_43 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_43 action is no longer Prohibited (ExceptionArt3b_43), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_43.
			}
			WHERE {
					#...the theme of this Publish_43 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_43.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_43.
				?c TBox:is-comment-of_43 ?ev.
				?ev rdf:type TBox:Evaluate_43.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_43 of this Evaluation is the theme of a Publish_43ing action that is Permitted...
				?ev TBox:has-result_43 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_43.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_43), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_43), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_43 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_43 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_43.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_43.
				?ev TBox:has-result_43 ?r.
				?ev rdf:type TBox:Evaluate_43.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_43}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_43}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_43;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_43 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_43 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_43.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_43.
				?ev TBox:has-result_43 ?r.
				?ev rdf:type TBox:Evaluate_43.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_43}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_43}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_43).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_43 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_43 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_43.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_43.
				?c TBox:is-comment-of_43 ?ev.
				?ev rdf:type TBox:Evaluate_43.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_43 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_43}.
			}
			""";
	];

sh:targetClass TBox:Publish_43.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_44) the Licensee_44 has a Licence_44
###############################################################################################################################################
:evaluatingProduct_44sIsProhibitedUnlessLicence_44 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_44.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_44 action is not Prohibited (ExceptionArt1b_44), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_44 .
			}
			WHERE {
					#... the Product_44 has a Licence_44 which is the theme of a Grant_44 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_44.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_44.
				?l TBox:is-licence-of_44 ?p.
				?l rdf:type TBox:Licence_44.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_44.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_44.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_44 action is the same agent of the Evaluate_44 action.
				?eg TBox:has-receiver_44 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_44 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_44 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_44) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_44.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_44.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_44}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_44.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_44ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_44sOrComment_44sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_44 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_44 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_44), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_44.
			}
			WHERE {
					#...the theme of this Publish_44 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_44.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_44.
				?ev TBox:has-result_44 ?r.
				?ev rdf:type TBox:Evaluate_44.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_44 action is the theme of an Approve_44 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_44.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_44.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_44)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_44 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_44), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_44.
			}
			WHERE {
					#...the theme of this Publish_44 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_44.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_44.
				?ev TBox:has-result_44 ?r.
				?ev rdf:type TBox:Evaluate_44.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_44 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_44.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_44 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_44 action is no longer Prohibited (ExceptionArt3b_44), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_44.
			}
			WHERE {
					#...the theme of this Publish_44 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_44.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_44.
				?c TBox:is-comment-of_44 ?ev.
				?ev rdf:type TBox:Evaluate_44.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_44 of this Evaluation is the theme of a Publish_44ing action that is Permitted...
				?ev TBox:has-result_44 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_44.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_44), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_44), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_44 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_44 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_44.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_44.
				?ev TBox:has-result_44 ?r.
				?ev rdf:type TBox:Evaluate_44.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_44}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_44}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_44;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_44 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_44 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_44.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_44.
				?ev TBox:has-result_44 ?r.
				?ev rdf:type TBox:Evaluate_44.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_44}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_44}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_44).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_44 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_44 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_44.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_44.
				?c TBox:is-comment-of_44 ?ev.
				?ev rdf:type TBox:Evaluate_44.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_44 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_44}.
			}
			""";
	];

sh:targetClass TBox:Publish_44.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_45) the Licensee_45 has a Licence_45
###############################################################################################################################################
:evaluatingProduct_45sIsProhibitedUnlessLicence_45 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_45.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_45 action is not Prohibited (ExceptionArt1b_45), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_45 .
			}
			WHERE {
					#... the Product_45 has a Licence_45 which is the theme of a Grant_45 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_45.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_45.
				?l TBox:is-licence-of_45 ?p.
				?l rdf:type TBox:Licence_45.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_45.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_45.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_45 action is the same agent of the Evaluate_45 action.
				?eg TBox:has-receiver_45 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_45 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_45 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_45) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_45.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_45.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_45}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_45.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_45ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_45sOrComment_45sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_45 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_45 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_45), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_45.
			}
			WHERE {
					#...the theme of this Publish_45 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_45.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_45.
				?ev TBox:has-result_45 ?r.
				?ev rdf:type TBox:Evaluate_45.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_45 action is the theme of an Approve_45 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_45.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_45.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_45)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_45 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_45), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_45.
			}
			WHERE {
					#...the theme of this Publish_45 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_45.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_45.
				?ev TBox:has-result_45 ?r.
				?ev rdf:type TBox:Evaluate_45.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_45 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_45.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_45 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_45 action is no longer Prohibited (ExceptionArt3b_45), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_45.
			}
			WHERE {
					#...the theme of this Publish_45 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_45.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_45.
				?c TBox:is-comment-of_45 ?ev.
				?ev rdf:type TBox:Evaluate_45.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_45 of this Evaluation is the theme of a Publish_45ing action that is Permitted...
				?ev TBox:has-result_45 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_45.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_45), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_45), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_45 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_45 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_45.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_45.
				?ev TBox:has-result_45 ?r.
				?ev rdf:type TBox:Evaluate_45.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_45}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_45}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_45;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_45 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_45 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_45.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_45.
				?ev TBox:has-result_45 ?r.
				?ev rdf:type TBox:Evaluate_45.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_45}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_45}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_45).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_45 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_45 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_45.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_45.
				?c TBox:is-comment-of_45 ?ev.
				?ev rdf:type TBox:Evaluate_45.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_45 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_45}.
			}
			""";
	];

sh:targetClass TBox:Publish_45.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_46) the Licensee_46 has a Licence_46
###############################################################################################################################################
:evaluatingProduct_46sIsProhibitedUnlessLicence_46 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_46.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_46 action is not Prohibited (ExceptionArt1b_46), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_46 .
			}
			WHERE {
					#... the Product_46 has a Licence_46 which is the theme of a Grant_46 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_46.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_46.
				?l TBox:is-licence-of_46 ?p.
				?l rdf:type TBox:Licence_46.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_46.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_46.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_46 action is the same agent of the Evaluate_46 action.
				?eg TBox:has-receiver_46 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_46 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_46 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_46) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_46.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_46.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_46}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_46.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_46ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_46sOrComment_46sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_46 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_46 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_46), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_46.
			}
			WHERE {
					#...the theme of this Publish_46 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_46.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_46.
				?ev TBox:has-result_46 ?r.
				?ev rdf:type TBox:Evaluate_46.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_46 action is the theme of an Approve_46 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_46.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_46.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_46)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_46 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_46), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_46.
			}
			WHERE {
					#...the theme of this Publish_46 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_46.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_46.
				?ev TBox:has-result_46 ?r.
				?ev rdf:type TBox:Evaluate_46.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_46 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_46.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_46 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_46 action is no longer Prohibited (ExceptionArt3b_46), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_46.
			}
			WHERE {
					#...the theme of this Publish_46 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_46.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_46.
				?c TBox:is-comment-of_46 ?ev.
				?ev rdf:type TBox:Evaluate_46.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_46 of this Evaluation is the theme of a Publish_46ing action that is Permitted...
				?ev TBox:has-result_46 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_46.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_46), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_46), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_46 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_46 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_46.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_46.
				?ev TBox:has-result_46 ?r.
				?ev rdf:type TBox:Evaluate_46.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_46}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_46}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_46;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_46 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_46 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_46.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_46.
				?ev TBox:has-result_46 ?r.
				?ev rdf:type TBox:Evaluate_46.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_46}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_46}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_46).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_46 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_46 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_46.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_46.
				?c TBox:is-comment-of_46 ?ev.
				?ev rdf:type TBox:Evaluate_46.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_46 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_46}.
			}
			""";
	];

sh:targetClass TBox:Publish_46.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_47) the Licensee_47 has a Licence_47
###############################################################################################################################################
:evaluatingProduct_47sIsProhibitedUnlessLicence_47 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_47.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_47 action is not Prohibited (ExceptionArt1b_47), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_47 .
			}
			WHERE {
					#... the Product_47 has a Licence_47 which is the theme of a Grant_47 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_47.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_47.
				?l TBox:is-licence-of_47 ?p.
				?l rdf:type TBox:Licence_47.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_47.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_47.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_47 action is the same agent of the Evaluate_47 action.
				?eg TBox:has-receiver_47 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_47 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_47 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_47) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_47.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_47.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_47}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_47.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_47ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_47sOrComment_47sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_47 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_47 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_47), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_47.
			}
			WHERE {
					#...the theme of this Publish_47 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_47.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_47.
				?ev TBox:has-result_47 ?r.
				?ev rdf:type TBox:Evaluate_47.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_47 action is the theme of an Approve_47 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_47.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_47.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_47)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_47 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_47), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_47.
			}
			WHERE {
					#...the theme of this Publish_47 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_47.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_47.
				?ev TBox:has-result_47 ?r.
				?ev rdf:type TBox:Evaluate_47.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_47 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_47.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_47 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_47 action is no longer Prohibited (ExceptionArt3b_47), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_47.
			}
			WHERE {
					#...the theme of this Publish_47 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_47.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_47.
				?c TBox:is-comment-of_47 ?ev.
				?ev rdf:type TBox:Evaluate_47.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_47 of this Evaluation is the theme of a Publish_47ing action that is Permitted...
				?ev TBox:has-result_47 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_47.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_47), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_47), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_47 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_47 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_47.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_47.
				?ev TBox:has-result_47 ?r.
				?ev rdf:type TBox:Evaluate_47.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_47}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_47}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_47;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_47 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_47 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_47.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_47.
				?ev TBox:has-result_47 ?r.
				?ev rdf:type TBox:Evaluate_47.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_47}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_47}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_47).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_47 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_47 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_47.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_47.
				?c TBox:is-comment-of_47 ?ev.
				?ev rdf:type TBox:Evaluate_47.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_47 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_47}.
			}
			""";
	];

sh:targetClass TBox:Publish_47.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_48) the Licensee_48 has a Licence_48
###############################################################################################################################################
:evaluatingProduct_48sIsProhibitedUnlessLicence_48 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_48.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_48 action is not Prohibited (ExceptionArt1b_48), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_48 .
			}
			WHERE {
					#... the Product_48 has a Licence_48 which is the theme of a Grant_48 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_48.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_48.
				?l TBox:is-licence-of_48 ?p.
				?l rdf:type TBox:Licence_48.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_48.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_48.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_48 action is the same agent of the Evaluate_48 action.
				?eg TBox:has-receiver_48 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_48 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_48 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_48) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_48.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_48.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_48}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_48.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_48ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_48sOrComment_48sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_48 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_48 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_48), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_48.
			}
			WHERE {
					#...the theme of this Publish_48 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_48.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_48.
				?ev TBox:has-result_48 ?r.
				?ev rdf:type TBox:Evaluate_48.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_48 action is the theme of an Approve_48 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_48.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_48.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_48)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_48 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_48), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_48.
			}
			WHERE {
					#...the theme of this Publish_48 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_48.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_48.
				?ev TBox:has-result_48 ?r.
				?ev rdf:type TBox:Evaluate_48.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_48 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_48.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_48 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_48 action is no longer Prohibited (ExceptionArt3b_48), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_48.
			}
			WHERE {
					#...the theme of this Publish_48 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_48.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_48.
				?c TBox:is-comment-of_48 ?ev.
				?ev rdf:type TBox:Evaluate_48.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_48 of this Evaluation is the theme of a Publish_48ing action that is Permitted...
				?ev TBox:has-result_48 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_48.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_48), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_48), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_48 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_48 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_48.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_48.
				?ev TBox:has-result_48 ?r.
				?ev rdf:type TBox:Evaluate_48.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_48}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_48}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_48;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_48 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_48 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_48.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_48.
				?ev TBox:has-result_48 ?r.
				?ev rdf:type TBox:Evaluate_48.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_48}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_48}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_48).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_48 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_48 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_48.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_48.
				?c TBox:is-comment-of_48 ?ev.
				?ev rdf:type TBox:Evaluate_48.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_48 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_48}.
			}
			""";
	];

sh:targetClass TBox:Publish_48.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_49) the Licensee_49 has a Licence_49
###############################################################################################################################################
:evaluatingProduct_49sIsProhibitedUnlessLicence_49 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_49.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_49 action is not Prohibited (ExceptionArt1b_49), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_49 .
			}
			WHERE {
					#... the Product_49 has a Licence_49 which is the theme of a Grant_49 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_49.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_49.
				?l TBox:is-licence-of_49 ?p.
				?l rdf:type TBox:Licence_49.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_49.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_49.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_49 action is the same agent of the Evaluate_49 action.
				?eg TBox:has-receiver_49 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_49 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_49 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_49) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_49.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_49.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_49}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_49.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_49ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_49sOrComment_49sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_49 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_49 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_49), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_49.
			}
			WHERE {
					#...the theme of this Publish_49 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_49.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_49.
				?ev TBox:has-result_49 ?r.
				?ev rdf:type TBox:Evaluate_49.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_49 action is the theme of an Approve_49 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_49.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_49.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_49)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_49 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_49), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_49.
			}
			WHERE {
					#...the theme of this Publish_49 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_49.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_49.
				?ev TBox:has-result_49 ?r.
				?ev rdf:type TBox:Evaluate_49.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_49 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_49.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_49 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_49 action is no longer Prohibited (ExceptionArt3b_49), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_49.
			}
			WHERE {
					#...the theme of this Publish_49 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_49.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_49.
				?c TBox:is-comment-of_49 ?ev.
				?ev rdf:type TBox:Evaluate_49.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_49 of this Evaluation is the theme of a Publish_49ing action that is Permitted...
				?ev TBox:has-result_49 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_49.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_49), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_49), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_49 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_49 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_49.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_49.
				?ev TBox:has-result_49 ?r.
				?ev rdf:type TBox:Evaluate_49.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_49}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_49}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_49;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_49 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_49 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_49.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_49.
				?ev TBox:has-result_49 ?r.
				?ev rdf:type TBox:Evaluate_49.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_49}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_49}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_49).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_49 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_49 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_49.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_49.
				?c TBox:is-comment-of_49 ?ev.
				?ev rdf:type TBox:Evaluate_49.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_49 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_49}.
			}
			""";
	];

sh:targetClass TBox:Publish_49.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_50) the Licensee_50 has a Licence_50
###############################################################################################################################################
:evaluatingProduct_50sIsProhibitedUnlessLicence_50 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_50.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_50 action is not Prohibited (ExceptionArt1b_50), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_50 .
			}
			WHERE {
					#... the Product_50 has a Licence_50 which is the theme of a Grant_50 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_50.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_50.
				?l TBox:is-licence-of_50 ?p.
				?l rdf:type TBox:Licence_50.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_50.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_50.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_50 action is the same agent of the Evaluate_50 action.
				?eg TBox:has-receiver_50 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_50 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_50 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_50) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_50.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_50.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_50}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_50.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_50ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_50sOrComment_50sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_50 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_50 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_50), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_50.
			}
			WHERE {
					#...the theme of this Publish_50 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_50.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_50.
				?ev TBox:has-result_50 ?r.
				?ev rdf:type TBox:Evaluate_50.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_50 action is the theme of an Approve_50 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_50.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_50.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_50)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_50 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_50), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_50.
			}
			WHERE {
					#...the theme of this Publish_50 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_50.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_50.
				?ev TBox:has-result_50 ?r.
				?ev rdf:type TBox:Evaluate_50.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_50 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_50.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_50 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_50 action is no longer Prohibited (ExceptionArt3b_50), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_50.
			}
			WHERE {
					#...the theme of this Publish_50 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_50.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_50.
				?c TBox:is-comment-of_50 ?ev.
				?ev rdf:type TBox:Evaluate_50.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_50 of this Evaluation is the theme of a Publish_50ing action that is Permitted...
				?ev TBox:has-result_50 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_50.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_50), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_50), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_50 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_50 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_50.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_50.
				?ev TBox:has-result_50 ?r.
				?ev rdf:type TBox:Evaluate_50.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_50}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_50}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_50;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_50 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_50 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_50.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_50.
				?ev TBox:has-result_50 ?r.
				?ev rdf:type TBox:Evaluate_50.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_50}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_50}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_50).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_50 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_50 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_50.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_50.
				?c TBox:is-comment-of_50 ?ev.
				?ev rdf:type TBox:Evaluate_50.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_50 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_50}.
			}
			""";
	];

sh:targetClass TBox:Publish_50.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_51) the Licensee_51 has a Licence_51
###############################################################################################################################################
:evaluatingProduct_51sIsProhibitedUnlessLicence_51 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_51.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_51 action is not Prohibited (ExceptionArt1b_51), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_51 .
			}
			WHERE {
					#... the Product_51 has a Licence_51 which is the theme of a Grant_51 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_51.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_51.
				?l TBox:is-licence-of_51 ?p.
				?l rdf:type TBox:Licence_51.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_51.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_51.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_51 action is the same agent of the Evaluate_51 action.
				?eg TBox:has-receiver_51 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_51 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_51 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_51) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_51.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_51.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_51}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_51.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_51ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_51sOrComment_51sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_51 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_51 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_51), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_51.
			}
			WHERE {
					#...the theme of this Publish_51 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_51.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_51.
				?ev TBox:has-result_51 ?r.
				?ev rdf:type TBox:Evaluate_51.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_51 action is the theme of an Approve_51 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_51.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_51.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_51)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_51 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_51), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_51.
			}
			WHERE {
					#...the theme of this Publish_51 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_51.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_51.
				?ev TBox:has-result_51 ?r.
				?ev rdf:type TBox:Evaluate_51.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_51 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_51.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_51 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_51 action is no longer Prohibited (ExceptionArt3b_51), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_51.
			}
			WHERE {
					#...the theme of this Publish_51 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_51.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_51.
				?c TBox:is-comment-of_51 ?ev.
				?ev rdf:type TBox:Evaluate_51.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_51 of this Evaluation is the theme of a Publish_51ing action that is Permitted...
				?ev TBox:has-result_51 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_51.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_51), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_51), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_51 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_51 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_51.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_51.
				?ev TBox:has-result_51 ?r.
				?ev rdf:type TBox:Evaluate_51.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_51}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_51}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_51;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_51 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_51 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_51.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_51.
				?ev TBox:has-result_51 ?r.
				?ev rdf:type TBox:Evaluate_51.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_51}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_51}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_51).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_51 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_51 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_51.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_51.
				?c TBox:is-comment-of_51 ?ev.
				?ev rdf:type TBox:Evaluate_51.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_51 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_51}.
			}
			""";
	];

sh:targetClass TBox:Publish_51.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_52) the Licensee_52 has a Licence_52
###############################################################################################################################################
:evaluatingProduct_52sIsProhibitedUnlessLicence_52 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_52.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_52 action is not Prohibited (ExceptionArt1b_52), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_52 .
			}
			WHERE {
					#... the Product_52 has a Licence_52 which is the theme of a Grant_52 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_52.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_52.
				?l TBox:is-licence-of_52 ?p.
				?l rdf:type TBox:Licence_52.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_52.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_52.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_52 action is the same agent of the Evaluate_52 action.
				?eg TBox:has-receiver_52 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_52 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_52 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_52) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_52.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_52.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_52}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_52.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_52ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_52sOrComment_52sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_52 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_52 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_52), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_52.
			}
			WHERE {
					#...the theme of this Publish_52 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_52.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_52.
				?ev TBox:has-result_52 ?r.
				?ev rdf:type TBox:Evaluate_52.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_52 action is the theme of an Approve_52 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_52.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_52.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_52)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_52 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_52), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_52.
			}
			WHERE {
					#...the theme of this Publish_52 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_52.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_52.
				?ev TBox:has-result_52 ?r.
				?ev rdf:type TBox:Evaluate_52.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_52 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_52.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_52 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_52 action is no longer Prohibited (ExceptionArt3b_52), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_52.
			}
			WHERE {
					#...the theme of this Publish_52 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_52.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_52.
				?c TBox:is-comment-of_52 ?ev.
				?ev rdf:type TBox:Evaluate_52.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_52 of this Evaluation is the theme of a Publish_52ing action that is Permitted...
				?ev TBox:has-result_52 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_52.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_52), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_52), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_52 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_52 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_52.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_52.
				?ev TBox:has-result_52 ?r.
				?ev rdf:type TBox:Evaluate_52.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_52}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_52}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_52;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_52 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_52 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_52.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_52.
				?ev TBox:has-result_52 ?r.
				?ev rdf:type TBox:Evaluate_52.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_52}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_52}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_52).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_52 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_52 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_52.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_52.
				?c TBox:is-comment-of_52 ?ev.
				?ev rdf:type TBox:Evaluate_52.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_52 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_52}.
			}
			""";
	];

sh:targetClass TBox:Publish_52.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_53) the Licensee_53 has a Licence_53
###############################################################################################################################################
:evaluatingProduct_53sIsProhibitedUnlessLicence_53 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_53.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_53 action is not Prohibited (ExceptionArt1b_53), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_53 .
			}
			WHERE {
					#... the Product_53 has a Licence_53 which is the theme of a Grant_53 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_53.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_53.
				?l TBox:is-licence-of_53 ?p.
				?l rdf:type TBox:Licence_53.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_53.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_53.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_53 action is the same agent of the Evaluate_53 action.
				?eg TBox:has-receiver_53 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_53 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_53 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_53) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_53.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_53.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_53}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_53.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_53ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_53sOrComment_53sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_53 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_53 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_53), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_53.
			}
			WHERE {
					#...the theme of this Publish_53 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_53.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_53.
				?ev TBox:has-result_53 ?r.
				?ev rdf:type TBox:Evaluate_53.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_53 action is the theme of an Approve_53 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_53.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_53.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_53)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_53 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_53), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_53.
			}
			WHERE {
					#...the theme of this Publish_53 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_53.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_53.
				?ev TBox:has-result_53 ?r.
				?ev rdf:type TBox:Evaluate_53.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_53 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_53.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_53 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_53 action is no longer Prohibited (ExceptionArt3b_53), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_53.
			}
			WHERE {
					#...the theme of this Publish_53 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_53.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_53.
				?c TBox:is-comment-of_53 ?ev.
				?ev rdf:type TBox:Evaluate_53.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_53 of this Evaluation is the theme of a Publish_53ing action that is Permitted...
				?ev TBox:has-result_53 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_53.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_53), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_53), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_53 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_53 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_53.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_53.
				?ev TBox:has-result_53 ?r.
				?ev rdf:type TBox:Evaluate_53.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_53}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_53}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_53;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_53 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_53 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_53.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_53.
				?ev TBox:has-result_53 ?r.
				?ev rdf:type TBox:Evaluate_53.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_53}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_53}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_53).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_53 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_53 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_53.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_53.
				?c TBox:is-comment-of_53 ?ev.
				?ev rdf:type TBox:Evaluate_53.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_53 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_53}.
			}
			""";
	];

sh:targetClass TBox:Publish_53.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_54) the Licensee_54 has a Licence_54
###############################################################################################################################################
:evaluatingProduct_54sIsProhibitedUnlessLicence_54 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_54.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_54 action is not Prohibited (ExceptionArt1b_54), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_54 .
			}
			WHERE {
					#... the Product_54 has a Licence_54 which is the theme of a Grant_54 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_54.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_54.
				?l TBox:is-licence-of_54 ?p.
				?l rdf:type TBox:Licence_54.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_54.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_54.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_54 action is the same agent of the Evaluate_54 action.
				?eg TBox:has-receiver_54 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_54 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_54 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_54) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_54.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_54.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_54}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_54.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_54ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_54sOrComment_54sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_54 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_54 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_54), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_54.
			}
			WHERE {
					#...the theme of this Publish_54 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_54.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_54.
				?ev TBox:has-result_54 ?r.
				?ev rdf:type TBox:Evaluate_54.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_54 action is the theme of an Approve_54 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_54.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_54.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_54)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_54 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_54), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_54.
			}
			WHERE {
					#...the theme of this Publish_54 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_54.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_54.
				?ev TBox:has-result_54 ?r.
				?ev rdf:type TBox:Evaluate_54.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_54 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_54.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_54 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_54 action is no longer Prohibited (ExceptionArt3b_54), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_54.
			}
			WHERE {
					#...the theme of this Publish_54 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_54.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_54.
				?c TBox:is-comment-of_54 ?ev.
				?ev rdf:type TBox:Evaluate_54.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_54 of this Evaluation is the theme of a Publish_54ing action that is Permitted...
				?ev TBox:has-result_54 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_54.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_54), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_54), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_54 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_54 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_54.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_54.
				?ev TBox:has-result_54 ?r.
				?ev rdf:type TBox:Evaluate_54.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_54}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_54}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_54;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_54 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_54 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_54.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_54.
				?ev TBox:has-result_54 ?r.
				?ev rdf:type TBox:Evaluate_54.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_54}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_54}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_54).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_54 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_54 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_54.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_54.
				?c TBox:is-comment-of_54 ?ev.
				?ev rdf:type TBox:Evaluate_54.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_54 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_54}.
			}
			""";
	];

sh:targetClass TBox:Publish_54.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_55) the Licensee_55 has a Licence_55
###############################################################################################################################################
:evaluatingProduct_55sIsProhibitedUnlessLicence_55 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_55.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_55 action is not Prohibited (ExceptionArt1b_55), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_55 .
			}
			WHERE {
					#... the Product_55 has a Licence_55 which is the theme of a Grant_55 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_55.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_55.
				?l TBox:is-licence-of_55 ?p.
				?l rdf:type TBox:Licence_55.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_55.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_55.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_55 action is the same agent of the Evaluate_55 action.
				?eg TBox:has-receiver_55 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_55 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_55 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_55) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_55.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_55.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_55}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_55.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_55ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_55sOrComment_55sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_55 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_55 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_55), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_55.
			}
			WHERE {
					#...the theme of this Publish_55 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_55.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_55.
				?ev TBox:has-result_55 ?r.
				?ev rdf:type TBox:Evaluate_55.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_55 action is the theme of an Approve_55 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_55.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_55.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_55)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_55 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_55), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_55.
			}
			WHERE {
					#...the theme of this Publish_55 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_55.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_55.
				?ev TBox:has-result_55 ?r.
				?ev rdf:type TBox:Evaluate_55.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_55 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_55.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_55 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_55 action is no longer Prohibited (ExceptionArt3b_55), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_55.
			}
			WHERE {
					#...the theme of this Publish_55 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_55.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_55.
				?c TBox:is-comment-of_55 ?ev.
				?ev rdf:type TBox:Evaluate_55.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_55 of this Evaluation is the theme of a Publish_55ing action that is Permitted...
				?ev TBox:has-result_55 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_55.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_55), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_55), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_55 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_55 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_55.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_55.
				?ev TBox:has-result_55 ?r.
				?ev rdf:type TBox:Evaluate_55.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_55}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_55}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_55;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_55 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_55 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_55.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_55.
				?ev TBox:has-result_55 ?r.
				?ev rdf:type TBox:Evaluate_55.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_55}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_55}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_55).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_55 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_55 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_55.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_55.
				?c TBox:is-comment-of_55 ?ev.
				?ev rdf:type TBox:Evaluate_55.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_55 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_55}.
			}
			""";
	];

sh:targetClass TBox:Publish_55.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_56) the Licensee_56 has a Licence_56
###############################################################################################################################################
:evaluatingProduct_56sIsProhibitedUnlessLicence_56 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_56.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_56 action is not Prohibited (ExceptionArt1b_56), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_56 .
			}
			WHERE {
					#... the Product_56 has a Licence_56 which is the theme of a Grant_56 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_56.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_56.
				?l TBox:is-licence-of_56 ?p.
				?l rdf:type TBox:Licence_56.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_56.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_56.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_56 action is the same agent of the Evaluate_56 action.
				?eg TBox:has-receiver_56 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_56 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_56 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_56) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_56.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_56.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_56}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_56.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_56ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_56sOrComment_56sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_56 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_56 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_56), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_56.
			}
			WHERE {
					#...the theme of this Publish_56 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_56.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_56.
				?ev TBox:has-result_56 ?r.
				?ev rdf:type TBox:Evaluate_56.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_56 action is the theme of an Approve_56 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_56.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_56.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_56)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_56 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_56), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_56.
			}
			WHERE {
					#...the theme of this Publish_56 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_56.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_56.
				?ev TBox:has-result_56 ?r.
				?ev rdf:type TBox:Evaluate_56.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_56 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_56.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_56 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_56 action is no longer Prohibited (ExceptionArt3b_56), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_56.
			}
			WHERE {
					#...the theme of this Publish_56 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_56.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_56.
				?c TBox:is-comment-of_56 ?ev.
				?ev rdf:type TBox:Evaluate_56.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_56 of this Evaluation is the theme of a Publish_56ing action that is Permitted...
				?ev TBox:has-result_56 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_56.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_56), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_56), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_56 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_56 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_56.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_56.
				?ev TBox:has-result_56 ?r.
				?ev rdf:type TBox:Evaluate_56.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_56}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_56}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_56;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_56 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_56 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_56.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_56.
				?ev TBox:has-result_56 ?r.
				?ev rdf:type TBox:Evaluate_56.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_56}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_56}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_56).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_56 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_56 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_56.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_56.
				?c TBox:is-comment-of_56 ?ev.
				?ev rdf:type TBox:Evaluate_56.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_56 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_56}.
			}
			""";
	];

sh:targetClass TBox:Publish_56.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_57) the Licensee_57 has a Licence_57
###############################################################################################################################################
:evaluatingProduct_57sIsProhibitedUnlessLicence_57 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_57.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_57 action is not Prohibited (ExceptionArt1b_57), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_57 .
			}
			WHERE {
					#... the Product_57 has a Licence_57 which is the theme of a Grant_57 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_57.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_57.
				?l TBox:is-licence-of_57 ?p.
				?l rdf:type TBox:Licence_57.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_57.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_57.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_57 action is the same agent of the Evaluate_57 action.
				?eg TBox:has-receiver_57 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_57 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_57 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_57) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_57.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_57.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_57}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_57.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_57ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_57sOrComment_57sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_57 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_57 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_57), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_57.
			}
			WHERE {
					#...the theme of this Publish_57 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_57.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_57.
				?ev TBox:has-result_57 ?r.
				?ev rdf:type TBox:Evaluate_57.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_57 action is the theme of an Approve_57 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_57.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_57.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_57)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_57 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_57), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_57.
			}
			WHERE {
					#...the theme of this Publish_57 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_57.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_57.
				?ev TBox:has-result_57 ?r.
				?ev rdf:type TBox:Evaluate_57.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_57 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_57.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_57 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_57 action is no longer Prohibited (ExceptionArt3b_57), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_57.
			}
			WHERE {
					#...the theme of this Publish_57 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_57.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_57.
				?c TBox:is-comment-of_57 ?ev.
				?ev rdf:type TBox:Evaluate_57.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_57 of this Evaluation is the theme of a Publish_57ing action that is Permitted...
				?ev TBox:has-result_57 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_57.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_57), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_57), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_57 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_57 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_57.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_57.
				?ev TBox:has-result_57 ?r.
				?ev rdf:type TBox:Evaluate_57.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_57}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_57}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_57;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_57 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_57 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_57.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_57.
				?ev TBox:has-result_57 ?r.
				?ev rdf:type TBox:Evaluate_57.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_57}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_57}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_57).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_57 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_57 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_57.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_57.
				?c TBox:is-comment-of_57 ?ev.
				?ev rdf:type TBox:Evaluate_57.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_57 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_57}.
			}
			""";
	];

sh:targetClass TBox:Publish_57.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_58) the Licensee_58 has a Licence_58
###############################################################################################################################################
:evaluatingProduct_58sIsProhibitedUnlessLicence_58 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_58.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_58 action is not Prohibited (ExceptionArt1b_58), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_58 .
			}
			WHERE {
					#... the Product_58 has a Licence_58 which is the theme of a Grant_58 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_58.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_58.
				?l TBox:is-licence-of_58 ?p.
				?l rdf:type TBox:Licence_58.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_58.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_58.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_58 action is the same agent of the Evaluate_58 action.
				?eg TBox:has-receiver_58 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_58 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_58 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_58) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_58.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_58.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_58}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_58.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_58ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_58sOrComment_58sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_58 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_58 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_58), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_58.
			}
			WHERE {
					#...the theme of this Publish_58 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_58.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_58.
				?ev TBox:has-result_58 ?r.
				?ev rdf:type TBox:Evaluate_58.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_58 action is the theme of an Approve_58 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_58.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_58.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_58)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_58 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_58), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_58.
			}
			WHERE {
					#...the theme of this Publish_58 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_58.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_58.
				?ev TBox:has-result_58 ?r.
				?ev rdf:type TBox:Evaluate_58.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_58 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_58.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_58 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_58 action is no longer Prohibited (ExceptionArt3b_58), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_58.
			}
			WHERE {
					#...the theme of this Publish_58 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_58.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_58.
				?c TBox:is-comment-of_58 ?ev.
				?ev rdf:type TBox:Evaluate_58.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_58 of this Evaluation is the theme of a Publish_58ing action that is Permitted...
				?ev TBox:has-result_58 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_58.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_58), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_58), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_58 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_58 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_58.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_58.
				?ev TBox:has-result_58 ?r.
				?ev rdf:type TBox:Evaluate_58.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_58}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_58}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_58;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_58 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_58 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_58.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_58.
				?ev TBox:has-result_58 ?r.
				?ev rdf:type TBox:Evaluate_58.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_58}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_58}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_58).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_58 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_58 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_58.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_58.
				?c TBox:is-comment-of_58 ?ev.
				?ev rdf:type TBox:Evaluate_58.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_58 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_58}.
			}
			""";
	];

sh:targetClass TBox:Publish_58.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_59) the Licensee_59 has a Licence_59
###############################################################################################################################################
:evaluatingProduct_59sIsProhibitedUnlessLicence_59 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_59.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_59 action is not Prohibited (ExceptionArt1b_59), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_59 .
			}
			WHERE {
					#... the Product_59 has a Licence_59 which is the theme of a Grant_59 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_59.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_59.
				?l TBox:is-licence-of_59 ?p.
				?l rdf:type TBox:Licence_59.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_59.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_59.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_59 action is the same agent of the Evaluate_59 action.
				?eg TBox:has-receiver_59 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_59 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_59 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_59) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_59.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_59.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_59}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_59.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_59ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_59sOrComment_59sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_59 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_59 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_59), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_59.
			}
			WHERE {
					#...the theme of this Publish_59 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_59.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_59.
				?ev TBox:has-result_59 ?r.
				?ev rdf:type TBox:Evaluate_59.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_59 action is the theme of an Approve_59 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_59.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_59.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_59)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_59 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_59), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_59.
			}
			WHERE {
					#...the theme of this Publish_59 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_59.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_59.
				?ev TBox:has-result_59 ?r.
				?ev rdf:type TBox:Evaluate_59.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_59 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_59.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_59 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_59 action is no longer Prohibited (ExceptionArt3b_59), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_59.
			}
			WHERE {
					#...the theme of this Publish_59 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_59.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_59.
				?c TBox:is-comment-of_59 ?ev.
				?ev rdf:type TBox:Evaluate_59.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_59 of this Evaluation is the theme of a Publish_59ing action that is Permitted...
				?ev TBox:has-result_59 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_59.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_59), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_59), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_59 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_59 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_59.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_59.
				?ev TBox:has-result_59 ?r.
				?ev rdf:type TBox:Evaluate_59.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_59}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_59}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_59;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_59 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_59 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_59.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_59.
				?ev TBox:has-result_59 ?r.
				?ev rdf:type TBox:Evaluate_59.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_59}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_59}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_59).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_59 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_59 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_59.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_59.
				?c TBox:is-comment-of_59 ?ev.
				?ev rdf:type TBox:Evaluate_59.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_59 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_59}.
			}
			""";
	];

sh:targetClass TBox:Publish_59.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_60) the Licensee_60 has a Licence_60
###############################################################################################################################################
:evaluatingProduct_60sIsProhibitedUnlessLicence_60 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_60.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_60 action is not Prohibited (ExceptionArt1b_60), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_60 .
			}
			WHERE {
					#... the Product_60 has a Licence_60 which is the theme of a Grant_60 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_60.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_60.
				?l TBox:is-licence-of_60 ?p.
				?l rdf:type TBox:Licence_60.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_60.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_60.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_60 action is the same agent of the Evaluate_60 action.
				?eg TBox:has-receiver_60 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_60 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_60 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_60) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_60.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_60.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_60}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_60.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_60ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_60sOrComment_60sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_60 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_60 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_60), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_60.
			}
			WHERE {
					#...the theme of this Publish_60 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_60.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_60.
				?ev TBox:has-result_60 ?r.
				?ev rdf:type TBox:Evaluate_60.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_60 action is the theme of an Approve_60 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_60.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_60.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_60)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_60 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_60), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_60.
			}
			WHERE {
					#...the theme of this Publish_60 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_60.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_60.
				?ev TBox:has-result_60 ?r.
				?ev rdf:type TBox:Evaluate_60.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_60 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_60.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_60 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_60 action is no longer Prohibited (ExceptionArt3b_60), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_60.
			}
			WHERE {
					#...the theme of this Publish_60 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_60.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_60.
				?c TBox:is-comment-of_60 ?ev.
				?ev rdf:type TBox:Evaluate_60.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_60 of this Evaluation is the theme of a Publish_60ing action that is Permitted...
				?ev TBox:has-result_60 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_60.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_60), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_60), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_60 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_60 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_60.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_60.
				?ev TBox:has-result_60 ?r.
				?ev rdf:type TBox:Evaluate_60.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_60}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_60}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_60;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_60 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_60 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_60.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_60.
				?ev TBox:has-result_60 ?r.
				?ev rdf:type TBox:Evaluate_60.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_60}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_60}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_60).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_60 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_60 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_60.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_60.
				?c TBox:is-comment-of_60 ?ev.
				?ev rdf:type TBox:Evaluate_60.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_60 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_60}.
			}
			""";
	];

sh:targetClass TBox:Publish_60.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_61) the Licensee_61 has a Licence_61
###############################################################################################################################################
:evaluatingProduct_61sIsProhibitedUnlessLicence_61 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_61.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_61 action is not Prohibited (ExceptionArt1b_61), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_61 .
			}
			WHERE {
					#... the Product_61 has a Licence_61 which is the theme of a Grant_61 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_61.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_61.
				?l TBox:is-licence-of_61 ?p.
				?l rdf:type TBox:Licence_61.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_61.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_61.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_61 action is the same agent of the Evaluate_61 action.
				?eg TBox:has-receiver_61 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_61 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_61 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_61) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_61.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_61.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_61}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_61.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_61ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_61sOrComment_61sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_61 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_61 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_61), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_61.
			}
			WHERE {
					#...the theme of this Publish_61 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_61.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_61.
				?ev TBox:has-result_61 ?r.
				?ev rdf:type TBox:Evaluate_61.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_61 action is the theme of an Approve_61 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_61.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_61.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_61)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_61 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_61), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_61.
			}
			WHERE {
					#...the theme of this Publish_61 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_61.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_61.
				?ev TBox:has-result_61 ?r.
				?ev rdf:type TBox:Evaluate_61.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_61 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_61.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_61 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_61 action is no longer Prohibited (ExceptionArt3b_61), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_61.
			}
			WHERE {
					#...the theme of this Publish_61 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_61.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_61.
				?c TBox:is-comment-of_61 ?ev.
				?ev rdf:type TBox:Evaluate_61.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_61 of this Evaluation is the theme of a Publish_61ing action that is Permitted...
				?ev TBox:has-result_61 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_61.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_61), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_61), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_61 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_61 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_61.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_61.
				?ev TBox:has-result_61 ?r.
				?ev rdf:type TBox:Evaluate_61.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_61}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_61}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_61;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_61 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_61 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_61.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_61.
				?ev TBox:has-result_61 ?r.
				?ev rdf:type TBox:Evaluate_61.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_61}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_61}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_61).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_61 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_61 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_61.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_61.
				?c TBox:is-comment-of_61 ?ev.
				?ev rdf:type TBox:Evaluate_61.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_61 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_61}.
			}
			""";
	];

sh:targetClass TBox:Publish_61.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_62) the Licensee_62 has a Licence_62
###############################################################################################################################################
:evaluatingProduct_62sIsProhibitedUnlessLicence_62 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_62.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_62 action is not Prohibited (ExceptionArt1b_62), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_62 .
			}
			WHERE {
					#... the Product_62 has a Licence_62 which is the theme of a Grant_62 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_62.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_62.
				?l TBox:is-licence-of_62 ?p.
				?l rdf:type TBox:Licence_62.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_62.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_62.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_62 action is the same agent of the Evaluate_62 action.
				?eg TBox:has-receiver_62 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_62 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_62 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_62) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_62.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_62.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_62}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_62.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_62ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_62sOrComment_62sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_62 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_62 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_62), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_62.
			}
			WHERE {
					#...the theme of this Publish_62 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_62.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_62.
				?ev TBox:has-result_62 ?r.
				?ev rdf:type TBox:Evaluate_62.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_62 action is the theme of an Approve_62 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_62.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_62.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_62)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_62 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_62), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_62.
			}
			WHERE {
					#...the theme of this Publish_62 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_62.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_62.
				?ev TBox:has-result_62 ?r.
				?ev rdf:type TBox:Evaluate_62.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_62 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_62.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_62 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_62 action is no longer Prohibited (ExceptionArt3b_62), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_62.
			}
			WHERE {
					#...the theme of this Publish_62 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_62.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_62.
				?c TBox:is-comment-of_62 ?ev.
				?ev rdf:type TBox:Evaluate_62.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_62 of this Evaluation is the theme of a Publish_62ing action that is Permitted...
				?ev TBox:has-result_62 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_62.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_62), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_62), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_62 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_62 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_62.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_62.
				?ev TBox:has-result_62 ?r.
				?ev rdf:type TBox:Evaluate_62.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_62}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_62}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_62;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_62 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_62 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_62.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_62.
				?ev TBox:has-result_62 ?r.
				?ev rdf:type TBox:Evaluate_62.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_62}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_62}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_62).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_62 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_62 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_62.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_62.
				?c TBox:is-comment-of_62 ?ev.
				?ev rdf:type TBox:Evaluate_62.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_62 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_62}.
			}
			""";
	];

sh:targetClass TBox:Publish_62.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_63) the Licensee_63 has a Licence_63
###############################################################################################################################################
:evaluatingProduct_63sIsProhibitedUnlessLicence_63 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_63.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_63 action is not Prohibited (ExceptionArt1b_63), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_63 .
			}
			WHERE {
					#... the Product_63 has a Licence_63 which is the theme of a Grant_63 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_63.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_63.
				?l TBox:is-licence-of_63 ?p.
				?l rdf:type TBox:Licence_63.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_63.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_63.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_63 action is the same agent of the Evaluate_63 action.
				?eg TBox:has-receiver_63 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_63 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_63 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_63) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_63.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_63.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_63}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_63.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_63ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_63sOrComment_63sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_63 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_63 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_63), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_63.
			}
			WHERE {
					#...the theme of this Publish_63 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_63.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_63.
				?ev TBox:has-result_63 ?r.
				?ev rdf:type TBox:Evaluate_63.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_63 action is the theme of an Approve_63 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_63.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_63.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_63)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_63 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_63), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_63.
			}
			WHERE {
					#...the theme of this Publish_63 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_63.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_63.
				?ev TBox:has-result_63 ?r.
				?ev rdf:type TBox:Evaluate_63.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_63 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_63.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_63 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_63 action is no longer Prohibited (ExceptionArt3b_63), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_63.
			}
			WHERE {
					#...the theme of this Publish_63 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_63.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_63.
				?c TBox:is-comment-of_63 ?ev.
				?ev rdf:type TBox:Evaluate_63.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_63 of this Evaluation is the theme of a Publish_63ing action that is Permitted...
				?ev TBox:has-result_63 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_63.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_63), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_63), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_63 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_63 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_63.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_63.
				?ev TBox:has-result_63 ?r.
				?ev rdf:type TBox:Evaluate_63.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_63}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_63}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_63;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_63 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_63 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_63.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_63.
				?ev TBox:has-result_63 ?r.
				?ev rdf:type TBox:Evaluate_63.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_63}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_63}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_63).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_63 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_63 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_63.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_63.
				?c TBox:is-comment-of_63 ?ev.
				?ev rdf:type TBox:Evaluate_63.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_63 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_63}.
			}
			""";
	];

sh:targetClass TBox:Publish_63.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_64) the Licensee_64 has a Licence_64
###############################################################################################################################################
:evaluatingProduct_64sIsProhibitedUnlessLicence_64 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_64.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_64 action is not Prohibited (ExceptionArt1b_64), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_64 .
			}
			WHERE {
					#... the Product_64 has a Licence_64 which is the theme of a Grant_64 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_64.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_64.
				?l TBox:is-licence-of_64 ?p.
				?l rdf:type TBox:Licence_64.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_64.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_64.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_64 action is the same agent of the Evaluate_64 action.
				?eg TBox:has-receiver_64 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_64 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_64 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_64) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_64.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_64.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_64}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_64.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_64ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_64sOrComment_64sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_64 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_64 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_64), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_64.
			}
			WHERE {
					#...the theme of this Publish_64 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_64.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_64.
				?ev TBox:has-result_64 ?r.
				?ev rdf:type TBox:Evaluate_64.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_64 action is the theme of an Approve_64 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_64.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_64.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_64)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_64 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_64), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_64.
			}
			WHERE {
					#...the theme of this Publish_64 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_64.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_64.
				?ev TBox:has-result_64 ?r.
				?ev rdf:type TBox:Evaluate_64.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_64 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_64.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_64 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_64 action is no longer Prohibited (ExceptionArt3b_64), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_64.
			}
			WHERE {
					#...the theme of this Publish_64 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_64.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_64.
				?c TBox:is-comment-of_64 ?ev.
				?ev rdf:type TBox:Evaluate_64.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_64 of this Evaluation is the theme of a Publish_64ing action that is Permitted...
				?ev TBox:has-result_64 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_64.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_64), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_64), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_64 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_64 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_64.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_64.
				?ev TBox:has-result_64 ?r.
				?ev rdf:type TBox:Evaluate_64.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_64}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_64}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_64;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_64 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_64 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_64.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_64.
				?ev TBox:has-result_64 ?r.
				?ev rdf:type TBox:Evaluate_64.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_64}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_64}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_64).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_64 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_64 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_64.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_64.
				?c TBox:is-comment-of_64 ?ev.
				?ev rdf:type TBox:Evaluate_64.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_64 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_64}.
			}
			""";
	];

sh:targetClass TBox:Publish_64.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_65) the Licensee_65 has a Licence_65
###############################################################################################################################################
:evaluatingProduct_65sIsProhibitedUnlessLicence_65 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_65.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_65 action is not Prohibited (ExceptionArt1b_65), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_65 .
			}
			WHERE {
					#... the Product_65 has a Licence_65 which is the theme of a Grant_65 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_65.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_65.
				?l TBox:is-licence-of_65 ?p.
				?l rdf:type TBox:Licence_65.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_65.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_65.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_65 action is the same agent of the Evaluate_65 action.
				?eg TBox:has-receiver_65 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_65 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_65 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_65) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_65.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_65.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_65}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_65.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_65ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_65sOrComment_65sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_65 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_65 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_65), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_65.
			}
			WHERE {
					#...the theme of this Publish_65 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_65.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_65.
				?ev TBox:has-result_65 ?r.
				?ev rdf:type TBox:Evaluate_65.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_65 action is the theme of an Approve_65 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_65.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_65.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_65)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_65 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_65), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_65.
			}
			WHERE {
					#...the theme of this Publish_65 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_65.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_65.
				?ev TBox:has-result_65 ?r.
				?ev rdf:type TBox:Evaluate_65.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_65 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_65.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_65 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_65 action is no longer Prohibited (ExceptionArt3b_65), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_65.
			}
			WHERE {
					#...the theme of this Publish_65 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_65.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_65.
				?c TBox:is-comment-of_65 ?ev.
				?ev rdf:type TBox:Evaluate_65.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_65 of this Evaluation is the theme of a Publish_65ing action that is Permitted...
				?ev TBox:has-result_65 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_65.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_65), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_65), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_65 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_65 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_65.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_65.
				?ev TBox:has-result_65 ?r.
				?ev rdf:type TBox:Evaluate_65.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_65}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_65}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_65;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_65 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_65 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_65.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_65.
				?ev TBox:has-result_65 ?r.
				?ev rdf:type TBox:Evaluate_65.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_65}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_65}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_65).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_65 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_65 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_65.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_65.
				?c TBox:is-comment-of_65 ?ev.
				?ev rdf:type TBox:Evaluate_65.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_65 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_65}.
			}
			""";
	];

sh:targetClass TBox:Publish_65.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_66) the Licensee_66 has a Licence_66
###############################################################################################################################################
:evaluatingProduct_66sIsProhibitedUnlessLicence_66 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_66.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_66 action is not Prohibited (ExceptionArt1b_66), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_66 .
			}
			WHERE {
					#... the Product_66 has a Licence_66 which is the theme of a Grant_66 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_66.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_66.
				?l TBox:is-licence-of_66 ?p.
				?l rdf:type TBox:Licence_66.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_66.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_66.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_66 action is the same agent of the Evaluate_66 action.
				?eg TBox:has-receiver_66 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_66 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_66 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_66) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_66.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_66.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_66}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_66.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_66ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_66sOrComment_66sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_66 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_66 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_66), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_66.
			}
			WHERE {
					#...the theme of this Publish_66 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_66.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_66.
				?ev TBox:has-result_66 ?r.
				?ev rdf:type TBox:Evaluate_66.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_66 action is the theme of an Approve_66 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_66.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_66.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_66)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_66 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_66), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_66.
			}
			WHERE {
					#...the theme of this Publish_66 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_66.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_66.
				?ev TBox:has-result_66 ?r.
				?ev rdf:type TBox:Evaluate_66.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_66 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_66.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_66 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_66 action is no longer Prohibited (ExceptionArt3b_66), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_66.
			}
			WHERE {
					#...the theme of this Publish_66 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_66.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_66.
				?c TBox:is-comment-of_66 ?ev.
				?ev rdf:type TBox:Evaluate_66.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_66 of this Evaluation is the theme of a Publish_66ing action that is Permitted...
				?ev TBox:has-result_66 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_66.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_66), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_66), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_66 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_66 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_66.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_66.
				?ev TBox:has-result_66 ?r.
				?ev rdf:type TBox:Evaluate_66.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_66}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_66}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_66;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_66 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_66 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_66.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_66.
				?ev TBox:has-result_66 ?r.
				?ev rdf:type TBox:Evaluate_66.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_66}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_66}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_66).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_66 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_66 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_66.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_66.
				?c TBox:is-comment-of_66 ?ev.
				?ev rdf:type TBox:Evaluate_66.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_66 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_66}.
			}
			""";
	];

sh:targetClass TBox:Publish_66.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_67) the Licensee_67 has a Licence_67
###############################################################################################################################################
:evaluatingProduct_67sIsProhibitedUnlessLicence_67 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_67.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_67 action is not Prohibited (ExceptionArt1b_67), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_67 .
			}
			WHERE {
					#... the Product_67 has a Licence_67 which is the theme of a Grant_67 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_67.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_67.
				?l TBox:is-licence-of_67 ?p.
				?l rdf:type TBox:Licence_67.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_67.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_67.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_67 action is the same agent of the Evaluate_67 action.
				?eg TBox:has-receiver_67 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_67 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_67 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_67) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_67.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_67.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_67}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_67.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_67ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_67sOrComment_67sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_67 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_67 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_67), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_67.
			}
			WHERE {
					#...the theme of this Publish_67 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_67.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_67.
				?ev TBox:has-result_67 ?r.
				?ev rdf:type TBox:Evaluate_67.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_67 action is the theme of an Approve_67 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_67.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_67.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_67)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_67 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_67), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_67.
			}
			WHERE {
					#...the theme of this Publish_67 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_67.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_67.
				?ev TBox:has-result_67 ?r.
				?ev rdf:type TBox:Evaluate_67.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_67 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_67.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_67 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_67 action is no longer Prohibited (ExceptionArt3b_67), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_67.
			}
			WHERE {
					#...the theme of this Publish_67 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_67.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_67.
				?c TBox:is-comment-of_67 ?ev.
				?ev rdf:type TBox:Evaluate_67.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_67 of this Evaluation is the theme of a Publish_67ing action that is Permitted...
				?ev TBox:has-result_67 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_67.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_67), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_67), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_67 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_67 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_67.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_67.
				?ev TBox:has-result_67 ?r.
				?ev rdf:type TBox:Evaluate_67.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_67}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_67}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_67;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_67 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_67 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_67.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_67.
				?ev TBox:has-result_67 ?r.
				?ev rdf:type TBox:Evaluate_67.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_67}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_67}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_67).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_67 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_67 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_67.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_67.
				?c TBox:is-comment-of_67 ?ev.
				?ev rdf:type TBox:Evaluate_67.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_67 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_67}.
			}
			""";
	];

sh:targetClass TBox:Publish_67.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_68) the Licensee_68 has a Licence_68
###############################################################################################################################################
:evaluatingProduct_68sIsProhibitedUnlessLicence_68 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_68.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_68 action is not Prohibited (ExceptionArt1b_68), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_68 .
			}
			WHERE {
					#... the Product_68 has a Licence_68 which is the theme of a Grant_68 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_68.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_68.
				?l TBox:is-licence-of_68 ?p.
				?l rdf:type TBox:Licence_68.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_68.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_68.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_68 action is the same agent of the Evaluate_68 action.
				?eg TBox:has-receiver_68 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_68 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_68 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_68) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_68.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_68.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_68}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_68.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_68ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_68sOrComment_68sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_68 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_68 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_68), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_68.
			}
			WHERE {
					#...the theme of this Publish_68 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_68.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_68.
				?ev TBox:has-result_68 ?r.
				?ev rdf:type TBox:Evaluate_68.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_68 action is the theme of an Approve_68 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_68.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_68.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_68)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_68 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_68), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_68.
			}
			WHERE {
					#...the theme of this Publish_68 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_68.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_68.
				?ev TBox:has-result_68 ?r.
				?ev rdf:type TBox:Evaluate_68.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_68 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_68.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_68 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_68 action is no longer Prohibited (ExceptionArt3b_68), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_68.
			}
			WHERE {
					#...the theme of this Publish_68 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_68.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_68.
				?c TBox:is-comment-of_68 ?ev.
				?ev rdf:type TBox:Evaluate_68.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_68 of this Evaluation is the theme of a Publish_68ing action that is Permitted...
				?ev TBox:has-result_68 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_68.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_68), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_68), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_68 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_68 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_68.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_68.
				?ev TBox:has-result_68 ?r.
				?ev rdf:type TBox:Evaluate_68.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_68}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_68}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_68;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_68 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_68 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_68.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_68.
				?ev TBox:has-result_68 ?r.
				?ev rdf:type TBox:Evaluate_68.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_68}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_68}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_68).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_68 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_68 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_68.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_68.
				?c TBox:is-comment-of_68 ?ev.
				?ev rdf:type TBox:Evaluate_68.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_68 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_68}.
			}
			""";
	];

sh:targetClass TBox:Publish_68.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_69) the Licensee_69 has a Licence_69
###############################################################################################################################################
:evaluatingProduct_69sIsProhibitedUnlessLicence_69 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_69.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_69 action is not Prohibited (ExceptionArt1b_69), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_69 .
			}
			WHERE {
					#... the Product_69 has a Licence_69 which is the theme of a Grant_69 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_69.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_69.
				?l TBox:is-licence-of_69 ?p.
				?l rdf:type TBox:Licence_69.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_69.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_69.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_69 action is the same agent of the Evaluate_69 action.
				?eg TBox:has-receiver_69 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_69 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_69 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_69) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_69.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_69.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_69}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_69.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_69ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_69sOrComment_69sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_69 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_69 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_69), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_69.
			}
			WHERE {
					#...the theme of this Publish_69 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_69.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_69.
				?ev TBox:has-result_69 ?r.
				?ev rdf:type TBox:Evaluate_69.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_69 action is the theme of an Approve_69 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_69.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_69.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_69)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_69 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_69), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_69.
			}
			WHERE {
					#...the theme of this Publish_69 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_69.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_69.
				?ev TBox:has-result_69 ?r.
				?ev rdf:type TBox:Evaluate_69.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_69 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_69.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_69 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_69 action is no longer Prohibited (ExceptionArt3b_69), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_69.
			}
			WHERE {
					#...the theme of this Publish_69 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_69.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_69.
				?c TBox:is-comment-of_69 ?ev.
				?ev rdf:type TBox:Evaluate_69.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_69 of this Evaluation is the theme of a Publish_69ing action that is Permitted...
				?ev TBox:has-result_69 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_69.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_69), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_69), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_69 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_69 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_69.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_69.
				?ev TBox:has-result_69 ?r.
				?ev rdf:type TBox:Evaluate_69.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_69}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_69}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_69;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_69 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_69 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_69.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_69.
				?ev TBox:has-result_69 ?r.
				?ev rdf:type TBox:Evaluate_69.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_69}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_69}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_69).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_69 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_69 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_69.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_69.
				?c TBox:is-comment-of_69 ?ev.
				?ev rdf:type TBox:Evaluate_69.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_69 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_69}.
			}
			""";
	];

sh:targetClass TBox:Publish_69.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_70) the Licensee_70 has a Licence_70
###############################################################################################################################################
:evaluatingProduct_70sIsProhibitedUnlessLicence_70 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_70.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_70 action is not Prohibited (ExceptionArt1b_70), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_70 .
			}
			WHERE {
					#... the Product_70 has a Licence_70 which is the theme of a Grant_70 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_70.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_70.
				?l TBox:is-licence-of_70 ?p.
				?l rdf:type TBox:Licence_70.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_70.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_70.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_70 action is the same agent of the Evaluate_70 action.
				?eg TBox:has-receiver_70 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_70 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_70 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_70) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_70.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_70.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_70}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_70.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_70ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_70sOrComment_70sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_70 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_70 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_70), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_70.
			}
			WHERE {
					#...the theme of this Publish_70 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_70.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_70.
				?ev TBox:has-result_70 ?r.
				?ev rdf:type TBox:Evaluate_70.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_70 action is the theme of an Approve_70 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_70.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_70.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_70)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_70 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_70), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_70.
			}
			WHERE {
					#...the theme of this Publish_70 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_70.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_70.
				?ev TBox:has-result_70 ?r.
				?ev rdf:type TBox:Evaluate_70.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_70 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_70.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_70 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_70 action is no longer Prohibited (ExceptionArt3b_70), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_70.
			}
			WHERE {
					#...the theme of this Publish_70 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_70.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_70.
				?c TBox:is-comment-of_70 ?ev.
				?ev rdf:type TBox:Evaluate_70.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_70 of this Evaluation is the theme of a Publish_70ing action that is Permitted...
				?ev TBox:has-result_70 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_70.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_70), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_70), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_70 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_70 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_70.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_70.
				?ev TBox:has-result_70 ?r.
				?ev rdf:type TBox:Evaluate_70.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_70}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_70}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_70;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_70 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_70 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_70.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_70.
				?ev TBox:has-result_70 ?r.
				?ev rdf:type TBox:Evaluate_70.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_70}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_70}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_70).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_70 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_70 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_70.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_70.
				?c TBox:is-comment-of_70 ?ev.
				?ev rdf:type TBox:Evaluate_70.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_70 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_70}.
			}
			""";
	];

sh:targetClass TBox:Publish_70.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_71) the Licensee_71 has a Licence_71
###############################################################################################################################################
:evaluatingProduct_71sIsProhibitedUnlessLicence_71 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_71.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_71 action is not Prohibited (ExceptionArt1b_71), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_71 .
			}
			WHERE {
					#... the Product_71 has a Licence_71 which is the theme of a Grant_71 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_71.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_71.
				?l TBox:is-licence-of_71 ?p.
				?l rdf:type TBox:Licence_71.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_71.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_71.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_71 action is the same agent of the Evaluate_71 action.
				?eg TBox:has-receiver_71 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_71 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_71 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_71) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_71.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_71.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_71}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_71.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_71ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_71sOrComment_71sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_71 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_71 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_71), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_71.
			}
			WHERE {
					#...the theme of this Publish_71 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_71.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_71.
				?ev TBox:has-result_71 ?r.
				?ev rdf:type TBox:Evaluate_71.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_71 action is the theme of an Approve_71 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_71.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_71.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_71)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_71 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_71), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_71.
			}
			WHERE {
					#...the theme of this Publish_71 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_71.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_71.
				?ev TBox:has-result_71 ?r.
				?ev rdf:type TBox:Evaluate_71.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_71 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_71.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_71 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_71 action is no longer Prohibited (ExceptionArt3b_71), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_71.
			}
			WHERE {
					#...the theme of this Publish_71 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_71.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_71.
				?c TBox:is-comment-of_71 ?ev.
				?ev rdf:type TBox:Evaluate_71.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_71 of this Evaluation is the theme of a Publish_71ing action that is Permitted...
				?ev TBox:has-result_71 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_71.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_71), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_71), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_71 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_71 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_71.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_71.
				?ev TBox:has-result_71 ?r.
				?ev rdf:type TBox:Evaluate_71.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_71}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_71}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_71;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_71 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_71 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_71.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_71.
				?ev TBox:has-result_71 ?r.
				?ev rdf:type TBox:Evaluate_71.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_71}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_71}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_71).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_71 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_71 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_71.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_71.
				?c TBox:is-comment-of_71 ?ev.
				?ev rdf:type TBox:Evaluate_71.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_71 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_71}.
			}
			""";
	];

sh:targetClass TBox:Publish_71.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_72) the Licensee_72 has a Licence_72
###############################################################################################################################################
:evaluatingProduct_72sIsProhibitedUnlessLicence_72 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_72.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_72 action is not Prohibited (ExceptionArt1b_72), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_72 .
			}
			WHERE {
					#... the Product_72 has a Licence_72 which is the theme of a Grant_72 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_72.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_72.
				?l TBox:is-licence-of_72 ?p.
				?l rdf:type TBox:Licence_72.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_72.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_72.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_72 action is the same agent of the Evaluate_72 action.
				?eg TBox:has-receiver_72 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_72 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_72 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_72) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_72.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_72.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_72}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_72.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_72ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_72sOrComment_72sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_72 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_72 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_72), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_72.
			}
			WHERE {
					#...the theme of this Publish_72 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_72.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_72.
				?ev TBox:has-result_72 ?r.
				?ev rdf:type TBox:Evaluate_72.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_72 action is the theme of an Approve_72 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_72.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_72.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_72)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_72 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_72), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_72.
			}
			WHERE {
					#...the theme of this Publish_72 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_72.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_72.
				?ev TBox:has-result_72 ?r.
				?ev rdf:type TBox:Evaluate_72.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_72 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_72.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_72 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_72 action is no longer Prohibited (ExceptionArt3b_72), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_72.
			}
			WHERE {
					#...the theme of this Publish_72 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_72.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_72.
				?c TBox:is-comment-of_72 ?ev.
				?ev rdf:type TBox:Evaluate_72.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_72 of this Evaluation is the theme of a Publish_72ing action that is Permitted...
				?ev TBox:has-result_72 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_72.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_72), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_72), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_72 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_72 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_72.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_72.
				?ev TBox:has-result_72 ?r.
				?ev rdf:type TBox:Evaluate_72.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_72}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_72}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_72;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_72 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_72 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_72.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_72.
				?ev TBox:has-result_72 ?r.
				?ev rdf:type TBox:Evaluate_72.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_72}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_72}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_72).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_72 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_72 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_72.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_72.
				?c TBox:is-comment-of_72 ?ev.
				?ev rdf:type TBox:Evaluate_72.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_72 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_72}.
			}
			""";
	];

sh:targetClass TBox:Publish_72.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_73) the Licensee_73 has a Licence_73
###############################################################################################################################################
:evaluatingProduct_73sIsProhibitedUnlessLicence_73 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_73.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_73 action is not Prohibited (ExceptionArt1b_73), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_73 .
			}
			WHERE {
					#... the Product_73 has a Licence_73 which is the theme of a Grant_73 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_73.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_73.
				?l TBox:is-licence-of_73 ?p.
				?l rdf:type TBox:Licence_73.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_73.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_73.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_73 action is the same agent of the Evaluate_73 action.
				?eg TBox:has-receiver_73 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_73 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_73 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_73) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_73.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_73.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_73}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_73.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_73ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_73sOrComment_73sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_73 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_73 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_73), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_73.
			}
			WHERE {
					#...the theme of this Publish_73 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_73.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_73.
				?ev TBox:has-result_73 ?r.
				?ev rdf:type TBox:Evaluate_73.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_73 action is the theme of an Approve_73 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_73.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_73.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_73)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_73 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_73), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_73.
			}
			WHERE {
					#...the theme of this Publish_73 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_73.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_73.
				?ev TBox:has-result_73 ?r.
				?ev rdf:type TBox:Evaluate_73.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_73 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_73.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_73 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_73 action is no longer Prohibited (ExceptionArt3b_73), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_73.
			}
			WHERE {
					#...the theme of this Publish_73 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_73.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_73.
				?c TBox:is-comment-of_73 ?ev.
				?ev rdf:type TBox:Evaluate_73.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_73 of this Evaluation is the theme of a Publish_73ing action that is Permitted...
				?ev TBox:has-result_73 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_73.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_73), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_73), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_73 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_73 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_73.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_73.
				?ev TBox:has-result_73 ?r.
				?ev rdf:type TBox:Evaluate_73.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_73}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_73}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_73;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_73 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_73 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_73.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_73.
				?ev TBox:has-result_73 ?r.
				?ev rdf:type TBox:Evaluate_73.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_73}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_73}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_73).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_73 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_73 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_73.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_73.
				?c TBox:is-comment-of_73 ?ev.
				?ev rdf:type TBox:Evaluate_73.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_73 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_73}.
			}
			""";
	];

sh:targetClass TBox:Publish_73.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_74) the Licensee_74 has a Licence_74
###############################################################################################################################################
:evaluatingProduct_74sIsProhibitedUnlessLicence_74 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_74.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_74 action is not Prohibited (ExceptionArt1b_74), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_74 .
			}
			WHERE {
					#... the Product_74 has a Licence_74 which is the theme of a Grant_74 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_74.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_74.
				?l TBox:is-licence-of_74 ?p.
				?l rdf:type TBox:Licence_74.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_74.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_74.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_74 action is the same agent of the Evaluate_74 action.
				?eg TBox:has-receiver_74 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_74 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_74 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_74) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_74.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_74.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_74}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_74.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_74ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_74sOrComment_74sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_74 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_74 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_74), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_74.
			}
			WHERE {
					#...the theme of this Publish_74 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_74.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_74.
				?ev TBox:has-result_74 ?r.
				?ev rdf:type TBox:Evaluate_74.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_74 action is the theme of an Approve_74 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_74.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_74.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_74)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_74 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_74), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_74.
			}
			WHERE {
					#...the theme of this Publish_74 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_74.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_74.
				?ev TBox:has-result_74 ?r.
				?ev rdf:type TBox:Evaluate_74.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_74 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_74.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_74 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_74 action is no longer Prohibited (ExceptionArt3b_74), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_74.
			}
			WHERE {
					#...the theme of this Publish_74 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_74.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_74.
				?c TBox:is-comment-of_74 ?ev.
				?ev rdf:type TBox:Evaluate_74.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_74 of this Evaluation is the theme of a Publish_74ing action that is Permitted...
				?ev TBox:has-result_74 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_74.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_74), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_74), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_74 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_74 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_74.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_74.
				?ev TBox:has-result_74 ?r.
				?ev rdf:type TBox:Evaluate_74.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_74}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_74}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_74;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_74 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_74 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_74.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_74.
				?ev TBox:has-result_74 ?r.
				?ev rdf:type TBox:Evaluate_74.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_74}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_74}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_74).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_74 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_74 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_74.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_74.
				?c TBox:is-comment-of_74 ?ev.
				?ev rdf:type TBox:Evaluate_74.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_74 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_74}.
			}
			""";
	];

sh:targetClass TBox:Publish_74.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_75) the Licensee_75 has a Licence_75
###############################################################################################################################################
:evaluatingProduct_75sIsProhibitedUnlessLicence_75 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_75.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_75 action is not Prohibited (ExceptionArt1b_75), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_75 .
			}
			WHERE {
					#... the Product_75 has a Licence_75 which is the theme of a Grant_75 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_75.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_75.
				?l TBox:is-licence-of_75 ?p.
				?l rdf:type TBox:Licence_75.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_75.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_75.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_75 action is the same agent of the Evaluate_75 action.
				?eg TBox:has-receiver_75 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_75 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_75 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_75) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_75.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_75.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_75}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_75.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_75ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_75sOrComment_75sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_75 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_75 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_75), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_75.
			}
			WHERE {
					#...the theme of this Publish_75 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_75.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_75.
				?ev TBox:has-result_75 ?r.
				?ev rdf:type TBox:Evaluate_75.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_75 action is the theme of an Approve_75 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_75.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_75.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_75)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_75 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_75), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_75.
			}
			WHERE {
					#...the theme of this Publish_75 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_75.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_75.
				?ev TBox:has-result_75 ?r.
				?ev rdf:type TBox:Evaluate_75.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_75 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_75.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_75 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_75 action is no longer Prohibited (ExceptionArt3b_75), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_75.
			}
			WHERE {
					#...the theme of this Publish_75 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_75.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_75.
				?c TBox:is-comment-of_75 ?ev.
				?ev rdf:type TBox:Evaluate_75.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_75 of this Evaluation is the theme of a Publish_75ing action that is Permitted...
				?ev TBox:has-result_75 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_75.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_75), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_75), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_75 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_75 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_75.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_75.
				?ev TBox:has-result_75 ?r.
				?ev rdf:type TBox:Evaluate_75.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_75}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_75}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_75;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_75 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_75 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_75.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_75.
				?ev TBox:has-result_75 ?r.
				?ev rdf:type TBox:Evaluate_75.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_75}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_75}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_75).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_75 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_75 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_75.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_75.
				?c TBox:is-comment-of_75 ?ev.
				?ev rdf:type TBox:Evaluate_75.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_75 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_75}.
			}
			""";
	];

sh:targetClass TBox:Publish_75.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_76) the Licensee_76 has a Licence_76
###############################################################################################################################################
:evaluatingProduct_76sIsProhibitedUnlessLicence_76 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_76.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_76 action is not Prohibited (ExceptionArt1b_76), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_76 .
			}
			WHERE {
					#... the Product_76 has a Licence_76 which is the theme of a Grant_76 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_76.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_76.
				?l TBox:is-licence-of_76 ?p.
				?l rdf:type TBox:Licence_76.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_76.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_76.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_76 action is the same agent of the Evaluate_76 action.
				?eg TBox:has-receiver_76 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_76 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_76 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_76) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_76.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_76.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_76}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_76.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_76ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_76sOrComment_76sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_76 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_76 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_76), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_76.
			}
			WHERE {
					#...the theme of this Publish_76 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_76.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_76.
				?ev TBox:has-result_76 ?r.
				?ev rdf:type TBox:Evaluate_76.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_76 action is the theme of an Approve_76 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_76.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_76.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_76)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_76 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_76), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_76.
			}
			WHERE {
					#...the theme of this Publish_76 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_76.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_76.
				?ev TBox:has-result_76 ?r.
				?ev rdf:type TBox:Evaluate_76.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_76 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_76.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_76 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_76 action is no longer Prohibited (ExceptionArt3b_76), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_76.
			}
			WHERE {
					#...the theme of this Publish_76 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_76.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_76.
				?c TBox:is-comment-of_76 ?ev.
				?ev rdf:type TBox:Evaluate_76.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_76 of this Evaluation is the theme of a Publish_76ing action that is Permitted...
				?ev TBox:has-result_76 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_76.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_76), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_76), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_76 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_76 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_76.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_76.
				?ev TBox:has-result_76 ?r.
				?ev rdf:type TBox:Evaluate_76.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_76}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_76}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_76;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_76 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_76 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_76.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_76.
				?ev TBox:has-result_76 ?r.
				?ev rdf:type TBox:Evaluate_76.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_76}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_76}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_76).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_76 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_76 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_76.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_76.
				?c TBox:is-comment-of_76 ?ev.
				?ev rdf:type TBox:Evaluate_76.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_76 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_76}.
			}
			""";
	];

sh:targetClass TBox:Publish_76.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_77) the Licensee_77 has a Licence_77
###############################################################################################################################################
:evaluatingProduct_77sIsProhibitedUnlessLicence_77 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_77.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_77 action is not Prohibited (ExceptionArt1b_77), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_77 .
			}
			WHERE {
					#... the Product_77 has a Licence_77 which is the theme of a Grant_77 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_77.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_77.
				?l TBox:is-licence-of_77 ?p.
				?l rdf:type TBox:Licence_77.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_77.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_77.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_77 action is the same agent of the Evaluate_77 action.
				?eg TBox:has-receiver_77 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_77 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_77 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_77) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_77.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_77.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_77}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_77.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_77ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_77sOrComment_77sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_77 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_77 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_77), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_77.
			}
			WHERE {
					#...the theme of this Publish_77 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_77.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_77.
				?ev TBox:has-result_77 ?r.
				?ev rdf:type TBox:Evaluate_77.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_77 action is the theme of an Approve_77 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_77.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_77.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_77)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_77 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_77), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_77.
			}
			WHERE {
					#...the theme of this Publish_77 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_77.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_77.
				?ev TBox:has-result_77 ?r.
				?ev rdf:type TBox:Evaluate_77.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_77 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_77.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_77 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_77 action is no longer Prohibited (ExceptionArt3b_77), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_77.
			}
			WHERE {
					#...the theme of this Publish_77 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_77.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_77.
				?c TBox:is-comment-of_77 ?ev.
				?ev rdf:type TBox:Evaluate_77.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_77 of this Evaluation is the theme of a Publish_77ing action that is Permitted...
				?ev TBox:has-result_77 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_77.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_77), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_77), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_77 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_77 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_77.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_77.
				?ev TBox:has-result_77 ?r.
				?ev rdf:type TBox:Evaluate_77.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_77}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_77}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_77;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_77 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_77 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_77.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_77.
				?ev TBox:has-result_77 ?r.
				?ev rdf:type TBox:Evaluate_77.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_77}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_77}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_77).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_77 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_77 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_77.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_77.
				?c TBox:is-comment-of_77 ?ev.
				?ev rdf:type TBox:Evaluate_77.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_77 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_77}.
			}
			""";
	];

sh:targetClass TBox:Publish_77.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_78) the Licensee_78 has a Licence_78
###############################################################################################################################################
:evaluatingProduct_78sIsProhibitedUnlessLicence_78 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_78.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_78 action is not Prohibited (ExceptionArt1b_78), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_78 .
			}
			WHERE {
					#... the Product_78 has a Licence_78 which is the theme of a Grant_78 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_78.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_78.
				?l TBox:is-licence-of_78 ?p.
				?l rdf:type TBox:Licence_78.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_78.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_78.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_78 action is the same agent of the Evaluate_78 action.
				?eg TBox:has-receiver_78 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_78 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_78 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_78) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_78.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_78.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_78}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_78.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_78ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_78sOrComment_78sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_78 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_78 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_78), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_78.
			}
			WHERE {
					#...the theme of this Publish_78 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_78.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_78.
				?ev TBox:has-result_78 ?r.
				?ev rdf:type TBox:Evaluate_78.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_78 action is the theme of an Approve_78 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_78.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_78.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_78)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_78 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_78), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_78.
			}
			WHERE {
					#...the theme of this Publish_78 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_78.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_78.
				?ev TBox:has-result_78 ?r.
				?ev rdf:type TBox:Evaluate_78.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_78 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_78.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_78 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_78 action is no longer Prohibited (ExceptionArt3b_78), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_78.
			}
			WHERE {
					#...the theme of this Publish_78 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_78.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_78.
				?c TBox:is-comment-of_78 ?ev.
				?ev rdf:type TBox:Evaluate_78.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_78 of this Evaluation is the theme of a Publish_78ing action that is Permitted...
				?ev TBox:has-result_78 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_78.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_78), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_78), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_78 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_78 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_78.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_78.
				?ev TBox:has-result_78 ?r.
				?ev rdf:type TBox:Evaluate_78.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_78}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_78}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_78;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_78 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_78 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_78.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_78.
				?ev TBox:has-result_78 ?r.
				?ev rdf:type TBox:Evaluate_78.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_78}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_78}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_78).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_78 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_78 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_78.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_78.
				?c TBox:is-comment-of_78 ?ev.
				?ev rdf:type TBox:Evaluate_78.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_78 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_78}.
			}
			""";
	];

sh:targetClass TBox:Publish_78.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_79) the Licensee_79 has a Licence_79
###############################################################################################################################################
:evaluatingProduct_79sIsProhibitedUnlessLicence_79 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_79.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_79 action is not Prohibited (ExceptionArt1b_79), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_79 .
			}
			WHERE {
					#... the Product_79 has a Licence_79 which is the theme of a Grant_79 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_79.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_79.
				?l TBox:is-licence-of_79 ?p.
				?l rdf:type TBox:Licence_79.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_79.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_79.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_79 action is the same agent of the Evaluate_79 action.
				?eg TBox:has-receiver_79 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_79 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_79 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_79) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_79.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_79.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_79}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_79.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_79ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_79sOrComment_79sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_79 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_79 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_79), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_79.
			}
			WHERE {
					#...the theme of this Publish_79 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_79.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_79.
				?ev TBox:has-result_79 ?r.
				?ev rdf:type TBox:Evaluate_79.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_79 action is the theme of an Approve_79 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_79.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_79.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_79)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_79 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_79), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_79.
			}
			WHERE {
					#...the theme of this Publish_79 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_79.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_79.
				?ev TBox:has-result_79 ?r.
				?ev rdf:type TBox:Evaluate_79.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_79 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_79.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_79 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_79 action is no longer Prohibited (ExceptionArt3b_79), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_79.
			}
			WHERE {
					#...the theme of this Publish_79 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_79.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_79.
				?c TBox:is-comment-of_79 ?ev.
				?ev rdf:type TBox:Evaluate_79.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_79 of this Evaluation is the theme of a Publish_79ing action that is Permitted...
				?ev TBox:has-result_79 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_79.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_79), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_79), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_79 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_79 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_79.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_79.
				?ev TBox:has-result_79 ?r.
				?ev rdf:type TBox:Evaluate_79.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_79}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_79}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_79;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_79 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_79 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_79.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_79.
				?ev TBox:has-result_79 ?r.
				?ev rdf:type TBox:Evaluate_79.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_79}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_79}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_79).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_79 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_79 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_79.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_79.
				?c TBox:is-comment-of_79 ?ev.
				?ev rdf:type TBox:Evaluate_79.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_79 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_79}.
			}
			""";
	];

sh:targetClass TBox:Publish_79.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_80) the Licensee_80 has a Licence_80
###############################################################################################################################################
:evaluatingProduct_80sIsProhibitedUnlessLicence_80 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_80.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_80 action is not Prohibited (ExceptionArt1b_80), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_80 .
			}
			WHERE {
					#... the Product_80 has a Licence_80 which is the theme of a Grant_80 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_80.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_80.
				?l TBox:is-licence-of_80 ?p.
				?l rdf:type TBox:Licence_80.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_80.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_80.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_80 action is the same agent of the Evaluate_80 action.
				?eg TBox:has-receiver_80 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_80 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_80 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_80) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_80.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_80.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_80}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_80.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_80ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_80sOrComment_80sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_80 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_80 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_80), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_80.
			}
			WHERE {
					#...the theme of this Publish_80 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_80.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_80.
				?ev TBox:has-result_80 ?r.
				?ev rdf:type TBox:Evaluate_80.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_80 action is the theme of an Approve_80 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_80.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_80.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_80)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_80 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_80), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_80.
			}
			WHERE {
					#...the theme of this Publish_80 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_80.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_80.
				?ev TBox:has-result_80 ?r.
				?ev rdf:type TBox:Evaluate_80.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_80 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_80.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_80 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_80 action is no longer Prohibited (ExceptionArt3b_80), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_80.
			}
			WHERE {
					#...the theme of this Publish_80 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_80.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_80.
				?c TBox:is-comment-of_80 ?ev.
				?ev rdf:type TBox:Evaluate_80.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_80 of this Evaluation is the theme of a Publish_80ing action that is Permitted...
				?ev TBox:has-result_80 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_80.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_80), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_80), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_80 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_80 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_80.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_80.
				?ev TBox:has-result_80 ?r.
				?ev rdf:type TBox:Evaluate_80.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_80}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_80}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_80;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_80 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_80 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_80.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_80.
				?ev TBox:has-result_80 ?r.
				?ev rdf:type TBox:Evaluate_80.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_80}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_80}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_80).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_80 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_80 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_80.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_80.
				?c TBox:is-comment-of_80 ?ev.
				?ev rdf:type TBox:Evaluate_80.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_80 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_80}.
			}
			""";
	];

sh:targetClass TBox:Publish_80.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_81) the Licensee_81 has a Licence_81
###############################################################################################################################################
:evaluatingProduct_81sIsProhibitedUnlessLicence_81 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_81.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_81 action is not Prohibited (ExceptionArt1b_81), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_81 .
			}
			WHERE {
					#... the Product_81 has a Licence_81 which is the theme of a Grant_81 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_81.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_81.
				?l TBox:is-licence-of_81 ?p.
				?l rdf:type TBox:Licence_81.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_81.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_81.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_81 action is the same agent of the Evaluate_81 action.
				?eg TBox:has-receiver_81 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_81 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_81 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_81) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_81.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_81.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_81}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_81.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_81ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_81sOrComment_81sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_81 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_81 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_81), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_81.
			}
			WHERE {
					#...the theme of this Publish_81 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_81.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_81.
				?ev TBox:has-result_81 ?r.
				?ev rdf:type TBox:Evaluate_81.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_81 action is the theme of an Approve_81 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_81.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_81.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_81)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_81 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_81), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_81.
			}
			WHERE {
					#...the theme of this Publish_81 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_81.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_81.
				?ev TBox:has-result_81 ?r.
				?ev rdf:type TBox:Evaluate_81.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_81 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_81.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_81 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_81 action is no longer Prohibited (ExceptionArt3b_81), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_81.
			}
			WHERE {
					#...the theme of this Publish_81 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_81.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_81.
				?c TBox:is-comment-of_81 ?ev.
				?ev rdf:type TBox:Evaluate_81.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_81 of this Evaluation is the theme of a Publish_81ing action that is Permitted...
				?ev TBox:has-result_81 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_81.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_81), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_81), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_81 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_81 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_81.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_81.
				?ev TBox:has-result_81 ?r.
				?ev rdf:type TBox:Evaluate_81.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_81}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_81}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_81;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_81 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_81 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_81.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_81.
				?ev TBox:has-result_81 ?r.
				?ev rdf:type TBox:Evaluate_81.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_81}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_81}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_81).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_81 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_81 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_81.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_81.
				?c TBox:is-comment-of_81 ?ev.
				?ev rdf:type TBox:Evaluate_81.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_81 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_81}.
			}
			""";
	];

sh:targetClass TBox:Publish_81.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_82) the Licensee_82 has a Licence_82
###############################################################################################################################################
:evaluatingProduct_82sIsProhibitedUnlessLicence_82 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_82.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_82 action is not Prohibited (ExceptionArt1b_82), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_82 .
			}
			WHERE {
					#... the Product_82 has a Licence_82 which is the theme of a Grant_82 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_82.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_82.
				?l TBox:is-licence-of_82 ?p.
				?l rdf:type TBox:Licence_82.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_82.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_82.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_82 action is the same agent of the Evaluate_82 action.
				?eg TBox:has-receiver_82 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_82 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_82 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_82) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_82.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_82.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_82}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_82.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_82ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_82sOrComment_82sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_82 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_82 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_82), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_82.
			}
			WHERE {
					#...the theme of this Publish_82 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_82.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_82.
				?ev TBox:has-result_82 ?r.
				?ev rdf:type TBox:Evaluate_82.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_82 action is the theme of an Approve_82 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_82.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_82.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_82)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_82 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_82), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_82.
			}
			WHERE {
					#...the theme of this Publish_82 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_82.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_82.
				?ev TBox:has-result_82 ?r.
				?ev rdf:type TBox:Evaluate_82.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_82 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_82.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_82 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_82 action is no longer Prohibited (ExceptionArt3b_82), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_82.
			}
			WHERE {
					#...the theme of this Publish_82 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_82.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_82.
				?c TBox:is-comment-of_82 ?ev.
				?ev rdf:type TBox:Evaluate_82.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_82 of this Evaluation is the theme of a Publish_82ing action that is Permitted...
				?ev TBox:has-result_82 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_82.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_82), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_82), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_82 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_82 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_82.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_82.
				?ev TBox:has-result_82 ?r.
				?ev rdf:type TBox:Evaluate_82.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_82}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_82}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_82;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_82 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_82 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_82.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_82.
				?ev TBox:has-result_82 ?r.
				?ev rdf:type TBox:Evaluate_82.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_82}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_82}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_82).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_82 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_82 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_82.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_82.
				?c TBox:is-comment-of_82 ?ev.
				?ev rdf:type TBox:Evaluate_82.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_82 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_82}.
			}
			""";
	];

sh:targetClass TBox:Publish_82.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_83) the Licensee_83 has a Licence_83
###############################################################################################################################################
:evaluatingProduct_83sIsProhibitedUnlessLicence_83 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_83.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_83 action is not Prohibited (ExceptionArt1b_83), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_83 .
			}
			WHERE {
					#... the Product_83 has a Licence_83 which is the theme of a Grant_83 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_83.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_83.
				?l TBox:is-licence-of_83 ?p.
				?l rdf:type TBox:Licence_83.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_83.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_83.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_83 action is the same agent of the Evaluate_83 action.
				?eg TBox:has-receiver_83 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_83 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_83 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_83) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_83.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_83.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_83}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_83.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_83ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_83sOrComment_83sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_83 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_83 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_83), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_83.
			}
			WHERE {
					#...the theme of this Publish_83 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_83.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_83.
				?ev TBox:has-result_83 ?r.
				?ev rdf:type TBox:Evaluate_83.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_83 action is the theme of an Approve_83 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_83.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_83.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_83)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_83 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_83), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_83.
			}
			WHERE {
					#...the theme of this Publish_83 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_83.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_83.
				?ev TBox:has-result_83 ?r.
				?ev rdf:type TBox:Evaluate_83.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_83 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_83.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_83 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_83 action is no longer Prohibited (ExceptionArt3b_83), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_83.
			}
			WHERE {
					#...the theme of this Publish_83 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_83.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_83.
				?c TBox:is-comment-of_83 ?ev.
				?ev rdf:type TBox:Evaluate_83.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_83 of this Evaluation is the theme of a Publish_83ing action that is Permitted...
				?ev TBox:has-result_83 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_83.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_83), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_83), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_83 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_83 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_83.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_83.
				?ev TBox:has-result_83 ?r.
				?ev rdf:type TBox:Evaluate_83.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_83}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_83}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_83;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_83 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_83 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_83.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_83.
				?ev TBox:has-result_83 ?r.
				?ev rdf:type TBox:Evaluate_83.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_83}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_83}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_83).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_83 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_83 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_83.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_83.
				?c TBox:is-comment-of_83 ?ev.
				?ev rdf:type TBox:Evaluate_83.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_83 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_83}.
			}
			""";
	];

sh:targetClass TBox:Publish_83.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_84) the Licensee_84 has a Licence_84
###############################################################################################################################################
:evaluatingProduct_84sIsProhibitedUnlessLicence_84 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_84.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_84 action is not Prohibited (ExceptionArt1b_84), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_84 .
			}
			WHERE {
					#... the Product_84 has a Licence_84 which is the theme of a Grant_84 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_84.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_84.
				?l TBox:is-licence-of_84 ?p.
				?l rdf:type TBox:Licence_84.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_84.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_84.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_84 action is the same agent of the Evaluate_84 action.
				?eg TBox:has-receiver_84 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_84 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_84 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_84) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_84.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_84.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_84}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_84.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_84ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_84sOrComment_84sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_84 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_84 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_84), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_84.
			}
			WHERE {
					#...the theme of this Publish_84 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_84.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_84.
				?ev TBox:has-result_84 ?r.
				?ev rdf:type TBox:Evaluate_84.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_84 action is the theme of an Approve_84 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_84.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_84.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_84)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_84 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_84), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_84.
			}
			WHERE {
					#...the theme of this Publish_84 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_84.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_84.
				?ev TBox:has-result_84 ?r.
				?ev rdf:type TBox:Evaluate_84.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_84 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_84.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_84 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_84 action is no longer Prohibited (ExceptionArt3b_84), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_84.
			}
			WHERE {
					#...the theme of this Publish_84 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_84.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_84.
				?c TBox:is-comment-of_84 ?ev.
				?ev rdf:type TBox:Evaluate_84.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_84 of this Evaluation is the theme of a Publish_84ing action that is Permitted...
				?ev TBox:has-result_84 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_84.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_84), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_84), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_84 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_84 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_84.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_84.
				?ev TBox:has-result_84 ?r.
				?ev rdf:type TBox:Evaluate_84.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_84}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_84}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_84;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_84 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_84 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_84.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_84.
				?ev TBox:has-result_84 ?r.
				?ev rdf:type TBox:Evaluate_84.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_84}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_84}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_84).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_84 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_84 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_84.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_84.
				?c TBox:is-comment-of_84 ?ev.
				?ev rdf:type TBox:Evaluate_84.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_84 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_84}.
			}
			""";
	];

sh:targetClass TBox:Publish_84.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_85) the Licensee_85 has a Licence_85
###############################################################################################################################################
:evaluatingProduct_85sIsProhibitedUnlessLicence_85 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_85.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_85 action is not Prohibited (ExceptionArt1b_85), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_85 .
			}
			WHERE {
					#... the Product_85 has a Licence_85 which is the theme of a Grant_85 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_85.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_85.
				?l TBox:is-licence-of_85 ?p.
				?l rdf:type TBox:Licence_85.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_85.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_85.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_85 action is the same agent of the Evaluate_85 action.
				?eg TBox:has-receiver_85 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_85 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_85 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_85) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_85.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_85.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_85}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_85.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_85ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_85sOrComment_85sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_85 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_85 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_85), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_85.
			}
			WHERE {
					#...the theme of this Publish_85 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_85.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_85.
				?ev TBox:has-result_85 ?r.
				?ev rdf:type TBox:Evaluate_85.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_85 action is the theme of an Approve_85 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_85.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_85.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_85)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_85 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_85), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_85.
			}
			WHERE {
					#...the theme of this Publish_85 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_85.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_85.
				?ev TBox:has-result_85 ?r.
				?ev rdf:type TBox:Evaluate_85.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_85 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_85.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_85 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_85 action is no longer Prohibited (ExceptionArt3b_85), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_85.
			}
			WHERE {
					#...the theme of this Publish_85 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_85.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_85.
				?c TBox:is-comment-of_85 ?ev.
				?ev rdf:type TBox:Evaluate_85.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_85 of this Evaluation is the theme of a Publish_85ing action that is Permitted...
				?ev TBox:has-result_85 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_85.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_85), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_85), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_85 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_85 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_85.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_85.
				?ev TBox:has-result_85 ?r.
				?ev rdf:type TBox:Evaluate_85.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_85}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_85}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_85;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_85 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_85 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_85.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_85.
				?ev TBox:has-result_85 ?r.
				?ev rdf:type TBox:Evaluate_85.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_85}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_85}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_85).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_85 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_85 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_85.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_85.
				?c TBox:is-comment-of_85 ?ev.
				?ev rdf:type TBox:Evaluate_85.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_85 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_85}.
			}
			""";
	];

sh:targetClass TBox:Publish_85.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_86) the Licensee_86 has a Licence_86
###############################################################################################################################################
:evaluatingProduct_86sIsProhibitedUnlessLicence_86 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_86.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_86 action is not Prohibited (ExceptionArt1b_86), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_86 .
			}
			WHERE {
					#... the Product_86 has a Licence_86 which is the theme of a Grant_86 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_86.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_86.
				?l TBox:is-licence-of_86 ?p.
				?l rdf:type TBox:Licence_86.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_86.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_86.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_86 action is the same agent of the Evaluate_86 action.
				?eg TBox:has-receiver_86 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_86 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_86 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_86) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_86.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_86.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_86}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_86.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_86ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_86sOrComment_86sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_86 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_86 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_86), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_86.
			}
			WHERE {
					#...the theme of this Publish_86 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_86.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_86.
				?ev TBox:has-result_86 ?r.
				?ev rdf:type TBox:Evaluate_86.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_86 action is the theme of an Approve_86 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_86.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_86.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_86)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_86 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_86), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_86.
			}
			WHERE {
					#...the theme of this Publish_86 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_86.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_86.
				?ev TBox:has-result_86 ?r.
				?ev rdf:type TBox:Evaluate_86.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_86 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_86.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_86 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_86 action is no longer Prohibited (ExceptionArt3b_86), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_86.
			}
			WHERE {
					#...the theme of this Publish_86 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_86.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_86.
				?c TBox:is-comment-of_86 ?ev.
				?ev rdf:type TBox:Evaluate_86.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_86 of this Evaluation is the theme of a Publish_86ing action that is Permitted...
				?ev TBox:has-result_86 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_86.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_86), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_86), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_86 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_86 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_86.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_86.
				?ev TBox:has-result_86 ?r.
				?ev rdf:type TBox:Evaluate_86.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_86}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_86}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_86;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_86 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_86 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_86.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_86.
				?ev TBox:has-result_86 ?r.
				?ev rdf:type TBox:Evaluate_86.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_86}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_86}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_86).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_86 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_86 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_86.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_86.
				?c TBox:is-comment-of_86 ?ev.
				?ev rdf:type TBox:Evaluate_86.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_86 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_86}.
			}
			""";
	];

sh:targetClass TBox:Publish_86.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_87) the Licensee_87 has a Licence_87
###############################################################################################################################################
:evaluatingProduct_87sIsProhibitedUnlessLicence_87 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_87.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_87 action is not Prohibited (ExceptionArt1b_87), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_87 .
			}
			WHERE {
					#... the Product_87 has a Licence_87 which is the theme of a Grant_87 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_87.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_87.
				?l TBox:is-licence-of_87 ?p.
				?l rdf:type TBox:Licence_87.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_87.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_87.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_87 action is the same agent of the Evaluate_87 action.
				?eg TBox:has-receiver_87 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_87 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_87 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_87) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_87.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_87.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_87}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_87.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_87ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_87sOrComment_87sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_87 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_87 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_87), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_87.
			}
			WHERE {
					#...the theme of this Publish_87 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_87.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_87.
				?ev TBox:has-result_87 ?r.
				?ev rdf:type TBox:Evaluate_87.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_87 action is the theme of an Approve_87 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_87.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_87.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_87)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_87 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_87), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_87.
			}
			WHERE {
					#...the theme of this Publish_87 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_87.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_87.
				?ev TBox:has-result_87 ?r.
				?ev rdf:type TBox:Evaluate_87.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_87 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_87.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_87 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_87 action is no longer Prohibited (ExceptionArt3b_87), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_87.
			}
			WHERE {
					#...the theme of this Publish_87 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_87.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_87.
				?c TBox:is-comment-of_87 ?ev.
				?ev rdf:type TBox:Evaluate_87.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_87 of this Evaluation is the theme of a Publish_87ing action that is Permitted...
				?ev TBox:has-result_87 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_87.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_87), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_87), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_87 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_87 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_87.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_87.
				?ev TBox:has-result_87 ?r.
				?ev rdf:type TBox:Evaluate_87.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_87}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_87}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_87;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_87 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_87 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_87.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_87.
				?ev TBox:has-result_87 ?r.
				?ev rdf:type TBox:Evaluate_87.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_87}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_87}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_87).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_87 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_87 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_87.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_87.
				?c TBox:is-comment-of_87 ?ev.
				?ev rdf:type TBox:Evaluate_87.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_87 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_87}.
			}
			""";
	];

sh:targetClass TBox:Publish_87.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_88) the Licensee_88 has a Licence_88
###############################################################################################################################################
:evaluatingProduct_88sIsProhibitedUnlessLicence_88 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_88.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_88 action is not Prohibited (ExceptionArt1b_88), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_88 .
			}
			WHERE {
					#... the Product_88 has a Licence_88 which is the theme of a Grant_88 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_88.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_88.
				?l TBox:is-licence-of_88 ?p.
				?l rdf:type TBox:Licence_88.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_88.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_88.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_88 action is the same agent of the Evaluate_88 action.
				?eg TBox:has-receiver_88 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_88 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_88 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_88) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_88.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_88.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_88}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_88.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_88ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_88sOrComment_88sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_88 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_88 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_88), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_88.
			}
			WHERE {
					#...the theme of this Publish_88 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_88.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_88.
				?ev TBox:has-result_88 ?r.
				?ev rdf:type TBox:Evaluate_88.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_88 action is the theme of an Approve_88 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_88.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_88.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_88)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_88 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_88), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_88.
			}
			WHERE {
					#...the theme of this Publish_88 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_88.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_88.
				?ev TBox:has-result_88 ?r.
				?ev rdf:type TBox:Evaluate_88.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_88 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_88.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_88 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_88 action is no longer Prohibited (ExceptionArt3b_88), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_88.
			}
			WHERE {
					#...the theme of this Publish_88 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_88.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_88.
				?c TBox:is-comment-of_88 ?ev.
				?ev rdf:type TBox:Evaluate_88.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_88 of this Evaluation is the theme of a Publish_88ing action that is Permitted...
				?ev TBox:has-result_88 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_88.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_88), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_88), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_88 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_88 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_88.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_88.
				?ev TBox:has-result_88 ?r.
				?ev rdf:type TBox:Evaluate_88.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_88}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_88}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_88;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_88 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_88 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_88.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_88.
				?ev TBox:has-result_88 ?r.
				?ev rdf:type TBox:Evaluate_88.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_88}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_88}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_88).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_88 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_88 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_88.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_88.
				?c TBox:is-comment-of_88 ?ev.
				?ev rdf:type TBox:Evaluate_88.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_88 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_88}.
			}
			""";
	];

sh:targetClass TBox:Publish_88.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_89) the Licensee_89 has a Licence_89
###############################################################################################################################################
:evaluatingProduct_89sIsProhibitedUnlessLicence_89 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_89.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_89 action is not Prohibited (ExceptionArt1b_89), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_89 .
			}
			WHERE {
					#... the Product_89 has a Licence_89 which is the theme of a Grant_89 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_89.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_89.
				?l TBox:is-licence-of_89 ?p.
				?l rdf:type TBox:Licence_89.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_89.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_89.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_89 action is the same agent of the Evaluate_89 action.
				?eg TBox:has-receiver_89 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_89 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_89 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_89) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_89.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_89.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_89}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_89.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_89ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_89sOrComment_89sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_89 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_89 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_89), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_89.
			}
			WHERE {
					#...the theme of this Publish_89 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_89.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_89.
				?ev TBox:has-result_89 ?r.
				?ev rdf:type TBox:Evaluate_89.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_89 action is the theme of an Approve_89 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_89.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_89.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_89)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_89 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_89), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_89.
			}
			WHERE {
					#...the theme of this Publish_89 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_89.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_89.
				?ev TBox:has-result_89 ?r.
				?ev rdf:type TBox:Evaluate_89.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_89 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_89.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_89 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_89 action is no longer Prohibited (ExceptionArt3b_89), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_89.
			}
			WHERE {
					#...the theme of this Publish_89 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_89.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_89.
				?c TBox:is-comment-of_89 ?ev.
				?ev rdf:type TBox:Evaluate_89.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_89 of this Evaluation is the theme of a Publish_89ing action that is Permitted...
				?ev TBox:has-result_89 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_89.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_89), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_89), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_89 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_89 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_89.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_89.
				?ev TBox:has-result_89 ?r.
				?ev rdf:type TBox:Evaluate_89.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_89}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_89}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_89;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_89 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_89 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_89.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_89.
				?ev TBox:has-result_89 ?r.
				?ev rdf:type TBox:Evaluate_89.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_89}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_89}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_89).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_89 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_89 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_89.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_89.
				?c TBox:is-comment-of_89 ?ev.
				?ev rdf:type TBox:Evaluate_89.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_89 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_89}.
			}
			""";
	];

sh:targetClass TBox:Publish_89.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_90) the Licensee_90 has a Licence_90
###############################################################################################################################################
:evaluatingProduct_90sIsProhibitedUnlessLicence_90 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_90.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_90 action is not Prohibited (ExceptionArt1b_90), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_90 .
			}
			WHERE {
					#... the Product_90 has a Licence_90 which is the theme of a Grant_90 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_90.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_90.
				?l TBox:is-licence-of_90 ?p.
				?l rdf:type TBox:Licence_90.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_90.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_90.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_90 action is the same agent of the Evaluate_90 action.
				?eg TBox:has-receiver_90 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_90 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_90 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_90) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_90.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_90.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_90}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_90.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_90ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_90sOrComment_90sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_90 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_90 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_90), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_90.
			}
			WHERE {
					#...the theme of this Publish_90 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_90.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_90.
				?ev TBox:has-result_90 ?r.
				?ev rdf:type TBox:Evaluate_90.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_90 action is the theme of an Approve_90 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_90.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_90.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_90)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_90 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_90), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_90.
			}
			WHERE {
					#...the theme of this Publish_90 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_90.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_90.
				?ev TBox:has-result_90 ?r.
				?ev rdf:type TBox:Evaluate_90.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_90 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_90.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_90 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_90 action is no longer Prohibited (ExceptionArt3b_90), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_90.
			}
			WHERE {
					#...the theme of this Publish_90 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_90.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_90.
				?c TBox:is-comment-of_90 ?ev.
				?ev rdf:type TBox:Evaluate_90.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_90 of this Evaluation is the theme of a Publish_90ing action that is Permitted...
				?ev TBox:has-result_90 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_90.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_90), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_90), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_90 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_90 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_90.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_90.
				?ev TBox:has-result_90 ?r.
				?ev rdf:type TBox:Evaluate_90.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_90}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_90}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_90;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_90 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_90 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_90.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_90.
				?ev TBox:has-result_90 ?r.
				?ev rdf:type TBox:Evaluate_90.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_90}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_90}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_90).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_90 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_90 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_90.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_90.
				?c TBox:is-comment-of_90 ?ev.
				?ev rdf:type TBox:Evaluate_90.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_90 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_90}.
			}
			""";
	];

sh:targetClass TBox:Publish_90.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_91) the Licensee_91 has a Licence_91
###############################################################################################################################################
:evaluatingProduct_91sIsProhibitedUnlessLicence_91 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_91.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_91 action is not Prohibited (ExceptionArt1b_91), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_91 .
			}
			WHERE {
					#... the Product_91 has a Licence_91 which is the theme of a Grant_91 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_91.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_91.
				?l TBox:is-licence-of_91 ?p.
				?l rdf:type TBox:Licence_91.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_91.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_91.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_91 action is the same agent of the Evaluate_91 action.
				?eg TBox:has-receiver_91 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_91 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_91 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_91) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_91.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_91.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_91}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_91.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_91ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_91sOrComment_91sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_91 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_91 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_91), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_91.
			}
			WHERE {
					#...the theme of this Publish_91 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_91.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_91.
				?ev TBox:has-result_91 ?r.
				?ev rdf:type TBox:Evaluate_91.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_91 action is the theme of an Approve_91 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_91.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_91.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_91)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_91 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_91), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_91.
			}
			WHERE {
					#...the theme of this Publish_91 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_91.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_91.
				?ev TBox:has-result_91 ?r.
				?ev rdf:type TBox:Evaluate_91.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_91 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_91.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_91 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_91 action is no longer Prohibited (ExceptionArt3b_91), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_91.
			}
			WHERE {
					#...the theme of this Publish_91 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_91.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_91.
				?c TBox:is-comment-of_91 ?ev.
				?ev rdf:type TBox:Evaluate_91.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_91 of this Evaluation is the theme of a Publish_91ing action that is Permitted...
				?ev TBox:has-result_91 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_91.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_91), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_91), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_91 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_91 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_91.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_91.
				?ev TBox:has-result_91 ?r.
				?ev rdf:type TBox:Evaluate_91.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_91}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_91}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_91;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_91 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_91 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_91.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_91.
				?ev TBox:has-result_91 ?r.
				?ev rdf:type TBox:Evaluate_91.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_91}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_91}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_91).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_91 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_91 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_91.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_91.
				?c TBox:is-comment-of_91 ?ev.
				?ev rdf:type TBox:Evaluate_91.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_91 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_91}.
			}
			""";
	];

sh:targetClass TBox:Publish_91.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_92) the Licensee_92 has a Licence_92
###############################################################################################################################################
:evaluatingProduct_92sIsProhibitedUnlessLicence_92 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_92.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_92 action is not Prohibited (ExceptionArt1b_92), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_92 .
			}
			WHERE {
					#... the Product_92 has a Licence_92 which is the theme of a Grant_92 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_92.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_92.
				?l TBox:is-licence-of_92 ?p.
				?l rdf:type TBox:Licence_92.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_92.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_92.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_92 action is the same agent of the Evaluate_92 action.
				?eg TBox:has-receiver_92 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_92 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_92 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_92) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_92.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_92.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_92}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_92.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_92ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_92sOrComment_92sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_92 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_92 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_92), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_92.
			}
			WHERE {
					#...the theme of this Publish_92 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_92.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_92.
				?ev TBox:has-result_92 ?r.
				?ev rdf:type TBox:Evaluate_92.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_92 action is the theme of an Approve_92 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_92.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_92.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_92)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_92 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_92), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_92.
			}
			WHERE {
					#...the theme of this Publish_92 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_92.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_92.
				?ev TBox:has-result_92 ?r.
				?ev rdf:type TBox:Evaluate_92.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_92 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_92.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_92 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_92 action is no longer Prohibited (ExceptionArt3b_92), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_92.
			}
			WHERE {
					#...the theme of this Publish_92 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_92.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_92.
				?c TBox:is-comment-of_92 ?ev.
				?ev rdf:type TBox:Evaluate_92.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_92 of this Evaluation is the theme of a Publish_92ing action that is Permitted...
				?ev TBox:has-result_92 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_92.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_92), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_92), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_92 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_92 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_92.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_92.
				?ev TBox:has-result_92 ?r.
				?ev rdf:type TBox:Evaluate_92.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_92}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_92}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_92;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_92 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_92 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_92.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_92.
				?ev TBox:has-result_92 ?r.
				?ev rdf:type TBox:Evaluate_92.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_92}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_92}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_92).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_92 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_92 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_92.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_92.
				?c TBox:is-comment-of_92 ?ev.
				?ev rdf:type TBox:Evaluate_92.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_92 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_92}.
			}
			""";
	];

sh:targetClass TBox:Publish_92.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_93) the Licensee_93 has a Licence_93
###############################################################################################################################################
:evaluatingProduct_93sIsProhibitedUnlessLicence_93 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_93.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_93 action is not Prohibited (ExceptionArt1b_93), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_93 .
			}
			WHERE {
					#... the Product_93 has a Licence_93 which is the theme of a Grant_93 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_93.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_93.
				?l TBox:is-licence-of_93 ?p.
				?l rdf:type TBox:Licence_93.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_93.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_93.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_93 action is the same agent of the Evaluate_93 action.
				?eg TBox:has-receiver_93 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_93 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_93 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_93) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_93.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_93.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_93}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_93.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_93ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_93sOrComment_93sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_93 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_93 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_93), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_93.
			}
			WHERE {
					#...the theme of this Publish_93 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_93.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_93.
				?ev TBox:has-result_93 ?r.
				?ev rdf:type TBox:Evaluate_93.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_93 action is the theme of an Approve_93 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_93.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_93.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_93)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_93 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_93), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_93.
			}
			WHERE {
					#...the theme of this Publish_93 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_93.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_93.
				?ev TBox:has-result_93 ?r.
				?ev rdf:type TBox:Evaluate_93.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_93 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_93.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_93 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_93 action is no longer Prohibited (ExceptionArt3b_93), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_93.
			}
			WHERE {
					#...the theme of this Publish_93 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_93.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_93.
				?c TBox:is-comment-of_93 ?ev.
				?ev rdf:type TBox:Evaluate_93.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_93 of this Evaluation is the theme of a Publish_93ing action that is Permitted...
				?ev TBox:has-result_93 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_93.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_93), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_93), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_93 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_93 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_93.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_93.
				?ev TBox:has-result_93 ?r.
				?ev rdf:type TBox:Evaluate_93.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_93}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_93}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_93;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_93 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_93 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_93.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_93.
				?ev TBox:has-result_93 ?r.
				?ev rdf:type TBox:Evaluate_93.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_93}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_93}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_93).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_93 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_93 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_93.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_93.
				?c TBox:is-comment-of_93 ?ev.
				?ev rdf:type TBox:Evaluate_93.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_93 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_93}.
			}
			""";
	];

sh:targetClass TBox:Publish_93.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_94) the Licensee_94 has a Licence_94
###############################################################################################################################################
:evaluatingProduct_94sIsProhibitedUnlessLicence_94 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_94.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_94 action is not Prohibited (ExceptionArt1b_94), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_94 .
			}
			WHERE {
					#... the Product_94 has a Licence_94 which is the theme of a Grant_94 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_94.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_94.
				?l TBox:is-licence-of_94 ?p.
				?l rdf:type TBox:Licence_94.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_94.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_94.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_94 action is the same agent of the Evaluate_94 action.
				?eg TBox:has-receiver_94 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_94 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_94 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_94) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_94.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_94.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_94}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_94.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_94ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_94sOrComment_94sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_94 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_94 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_94), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_94.
			}
			WHERE {
					#...the theme of this Publish_94 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_94.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_94.
				?ev TBox:has-result_94 ?r.
				?ev rdf:type TBox:Evaluate_94.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_94 action is the theme of an Approve_94 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_94.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_94.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_94)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_94 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_94), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_94.
			}
			WHERE {
					#...the theme of this Publish_94 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_94.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_94.
				?ev TBox:has-result_94 ?r.
				?ev rdf:type TBox:Evaluate_94.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_94 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_94.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_94 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_94 action is no longer Prohibited (ExceptionArt3b_94), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_94.
			}
			WHERE {
					#...the theme of this Publish_94 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_94.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_94.
				?c TBox:is-comment-of_94 ?ev.
				?ev rdf:type TBox:Evaluate_94.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_94 of this Evaluation is the theme of a Publish_94ing action that is Permitted...
				?ev TBox:has-result_94 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_94.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_94), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_94), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_94 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_94 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_94.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_94.
				?ev TBox:has-result_94 ?r.
				?ev rdf:type TBox:Evaluate_94.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_94}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_94}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_94;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_94 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_94 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_94.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_94.
				?ev TBox:has-result_94 ?r.
				?ev rdf:type TBox:Evaluate_94.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_94}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_94}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_94).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_94 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_94 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_94.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_94.
				?c TBox:is-comment-of_94 ?ev.
				?ev rdf:type TBox:Evaluate_94.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_94 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_94}.
			}
			""";
	];

sh:targetClass TBox:Publish_94.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_95) the Licensee_95 has a Licence_95
###############################################################################################################################################
:evaluatingProduct_95sIsProhibitedUnlessLicence_95 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_95.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_95 action is not Prohibited (ExceptionArt1b_95), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_95 .
			}
			WHERE {
					#... the Product_95 has a Licence_95 which is the theme of a Grant_95 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_95.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_95.
				?l TBox:is-licence-of_95 ?p.
				?l rdf:type TBox:Licence_95.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_95.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_95.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_95 action is the same agent of the Evaluate_95 action.
				?eg TBox:has-receiver_95 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_95 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_95 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_95) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_95.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_95.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_95}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_95.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_95ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_95sOrComment_95sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_95 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_95 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_95), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_95.
			}
			WHERE {
					#...the theme of this Publish_95 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_95.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_95.
				?ev TBox:has-result_95 ?r.
				?ev rdf:type TBox:Evaluate_95.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_95 action is the theme of an Approve_95 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_95.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_95.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_95)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_95 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_95), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_95.
			}
			WHERE {
					#...the theme of this Publish_95 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_95.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_95.
				?ev TBox:has-result_95 ?r.
				?ev rdf:type TBox:Evaluate_95.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_95 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_95.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_95 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_95 action is no longer Prohibited (ExceptionArt3b_95), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_95.
			}
			WHERE {
					#...the theme of this Publish_95 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_95.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_95.
				?c TBox:is-comment-of_95 ?ev.
				?ev rdf:type TBox:Evaluate_95.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_95 of this Evaluation is the theme of a Publish_95ing action that is Permitted...
				?ev TBox:has-result_95 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_95.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_95), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_95), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_95 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_95 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_95.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_95.
				?ev TBox:has-result_95 ?r.
				?ev rdf:type TBox:Evaluate_95.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_95}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_95}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_95;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_95 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_95 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_95.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_95.
				?ev TBox:has-result_95 ?r.
				?ev rdf:type TBox:Evaluate_95.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_95}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_95}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_95).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_95 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_95 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_95.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_95.
				?c TBox:is-comment-of_95 ?ev.
				?ev rdf:type TBox:Evaluate_95.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_95 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_95}.
			}
			""";
	];

sh:targetClass TBox:Publish_95.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_96) the Licensee_96 has a Licence_96
###############################################################################################################################################
:evaluatingProduct_96sIsProhibitedUnlessLicence_96 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_96.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_96 action is not Prohibited (ExceptionArt1b_96), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_96 .
			}
			WHERE {
					#... the Product_96 has a Licence_96 which is the theme of a Grant_96 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_96.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_96.
				?l TBox:is-licence-of_96 ?p.
				?l rdf:type TBox:Licence_96.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_96.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_96.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_96 action is the same agent of the Evaluate_96 action.
				?eg TBox:has-receiver_96 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_96 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_96 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_96) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_96.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_96.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_96}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_96.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_96ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_96sOrComment_96sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_96 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_96 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_96), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_96.
			}
			WHERE {
					#...the theme of this Publish_96 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_96.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_96.
				?ev TBox:has-result_96 ?r.
				?ev rdf:type TBox:Evaluate_96.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_96 action is the theme of an Approve_96 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_96.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_96.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_96)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_96 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_96), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_96.
			}
			WHERE {
					#...the theme of this Publish_96 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_96.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_96.
				?ev TBox:has-result_96 ?r.
				?ev rdf:type TBox:Evaluate_96.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_96 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_96.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_96 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_96 action is no longer Prohibited (ExceptionArt3b_96), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_96.
			}
			WHERE {
					#...the theme of this Publish_96 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_96.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_96.
				?c TBox:is-comment-of_96 ?ev.
				?ev rdf:type TBox:Evaluate_96.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_96 of this Evaluation is the theme of a Publish_96ing action that is Permitted...
				?ev TBox:has-result_96 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_96.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_96), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_96), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_96 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_96 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_96.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_96.
				?ev TBox:has-result_96 ?r.
				?ev rdf:type TBox:Evaluate_96.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_96}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_96}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_96;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_96 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_96 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_96.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_96.
				?ev TBox:has-result_96 ?r.
				?ev rdf:type TBox:Evaluate_96.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_96}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_96}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_96).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_96 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_96 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_96.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_96.
				?c TBox:is-comment-of_96 ?ev.
				?ev rdf:type TBox:Evaluate_96.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_96 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_96}.
			}
			""";
	];

sh:targetClass TBox:Publish_96.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_97) the Licensee_97 has a Licence_97
###############################################################################################################################################
:evaluatingProduct_97sIsProhibitedUnlessLicence_97 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_97.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_97 action is not Prohibited (ExceptionArt1b_97), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_97 .
			}
			WHERE {
					#... the Product_97 has a Licence_97 which is the theme of a Grant_97 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_97.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_97.
				?l TBox:is-licence-of_97 ?p.
				?l rdf:type TBox:Licence_97.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_97.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_97.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_97 action is the same agent of the Evaluate_97 action.
				?eg TBox:has-receiver_97 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_97 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_97 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_97) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_97.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_97.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_97}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_97.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_97ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_97sOrComment_97sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_97 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_97 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_97), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_97.
			}
			WHERE {
					#...the theme of this Publish_97 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_97.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_97.
				?ev TBox:has-result_97 ?r.
				?ev rdf:type TBox:Evaluate_97.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_97 action is the theme of an Approve_97 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_97.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_97.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_97)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_97 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_97), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_97.
			}
			WHERE {
					#...the theme of this Publish_97 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_97.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_97.
				?ev TBox:has-result_97 ?r.
				?ev rdf:type TBox:Evaluate_97.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_97 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_97.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_97 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_97 action is no longer Prohibited (ExceptionArt3b_97), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_97.
			}
			WHERE {
					#...the theme of this Publish_97 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_97.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_97.
				?c TBox:is-comment-of_97 ?ev.
				?ev rdf:type TBox:Evaluate_97.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_97 of this Evaluation is the theme of a Publish_97ing action that is Permitted...
				?ev TBox:has-result_97 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_97.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_97), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_97), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_97 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_97 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_97.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_97.
				?ev TBox:has-result_97 ?r.
				?ev rdf:type TBox:Evaluate_97.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_97}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_97}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_97;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_97 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_97 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_97.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_97.
				?ev TBox:has-result_97 ?r.
				?ev rdf:type TBox:Evaluate_97.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_97}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_97}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_97).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_97 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_97 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_97.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_97.
				?c TBox:is-comment-of_97 ?ev.
				?ev rdf:type TBox:Evaluate_97.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_97 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_97}.
			}
			""";
	];

sh:targetClass TBox:Publish_97.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_98) the Licensee_98 has a Licence_98
###############################################################################################################################################
:evaluatingProduct_98sIsProhibitedUnlessLicence_98 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_98.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_98 action is not Prohibited (ExceptionArt1b_98), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_98 .
			}
			WHERE {
					#... the Product_98 has a Licence_98 which is the theme of a Grant_98 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_98.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_98.
				?l TBox:is-licence-of_98 ?p.
				?l rdf:type TBox:Licence_98.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_98.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_98.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_98 action is the same agent of the Evaluate_98 action.
				?eg TBox:has-receiver_98 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_98 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_98 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_98) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_98.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_98.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_98}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_98.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_98ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_98sOrComment_98sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_98 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_98 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_98), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_98.
			}
			WHERE {
					#...the theme of this Publish_98 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_98.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_98.
				?ev TBox:has-result_98 ?r.
				?ev rdf:type TBox:Evaluate_98.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_98 action is the theme of an Approve_98 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_98.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_98.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_98)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_98 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_98), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_98.
			}
			WHERE {
					#...the theme of this Publish_98 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_98.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_98.
				?ev TBox:has-result_98 ?r.
				?ev rdf:type TBox:Evaluate_98.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_98 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_98.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_98 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_98 action is no longer Prohibited (ExceptionArt3b_98), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_98.
			}
			WHERE {
					#...the theme of this Publish_98 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_98.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_98.
				?c TBox:is-comment-of_98 ?ev.
				?ev rdf:type TBox:Evaluate_98.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_98 of this Evaluation is the theme of a Publish_98ing action that is Permitted...
				?ev TBox:has-result_98 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_98.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_98), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_98), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_98 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_98 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_98.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_98.
				?ev TBox:has-result_98 ?r.
				?ev rdf:type TBox:Evaluate_98.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_98}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_98}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_98;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_98 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_98 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_98.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_98.
				?ev TBox:has-result_98 ?r.
				?ev rdf:type TBox:Evaluate_98.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_98}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_98}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_98).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_98 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_98 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_98.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_98.
				?c TBox:is-comment-of_98 ?ev.
				?ev rdf:type TBox:Evaluate_98.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_98 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_98}.
			}
			""";
	];

sh:targetClass TBox:Publish_98.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_99) the Licensee_99 has a Licence_99
###############################################################################################################################################
:evaluatingProduct_99sIsProhibitedUnlessLicence_99 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_99.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_99 action is not Prohibited (ExceptionArt1b_99), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_99 .
			}
			WHERE {
					#... the Product_99 has a Licence_99 which is the theme of a Grant_99 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_99.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_99.
				?l TBox:is-licence-of_99 ?p.
				?l rdf:type TBox:Licence_99.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_99.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_99.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_99 action is the same agent of the Evaluate_99 action.
				?eg TBox:has-receiver_99 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_99 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_99 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_99) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_99.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_99.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_99}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_99.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_99ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_99sOrComment_99sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_99 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_99 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_99), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_99.
			}
			WHERE {
					#...the theme of this Publish_99 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_99.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_99.
				?ev TBox:has-result_99 ?r.
				?ev rdf:type TBox:Evaluate_99.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_99 action is the theme of an Approve_99 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_99.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_99.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_99)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_99 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_99), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_99.
			}
			WHERE {
					#...the theme of this Publish_99 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_99.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_99.
				?ev TBox:has-result_99 ?r.
				?ev rdf:type TBox:Evaluate_99.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_99 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_99.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_99 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_99 action is no longer Prohibited (ExceptionArt3b_99), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_99.
			}
			WHERE {
					#...the theme of this Publish_99 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_99.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_99.
				?c TBox:is-comment-of_99 ?ev.
				?ev rdf:type TBox:Evaluate_99.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_99 of this Evaluation is the theme of a Publish_99ing action that is Permitted...
				?ev TBox:has-result_99 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_99.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_99), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_99), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_99 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_99 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_99.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_99.
				?ev TBox:has-result_99 ?r.
				?ev rdf:type TBox:Evaluate_99.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_99}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_99}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_99;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_99 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_99 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_99.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_99.
				?ev TBox:has-result_99 ?r.
				?ev rdf:type TBox:Evaluate_99.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_99}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_99}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_99).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_99 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_99 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_99.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_99.
				?c TBox:is-comment-of_99 ?ev.
				?ev rdf:type TBox:Evaluate_99.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_99 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_99}.
			}
			""";
	];

sh:targetClass TBox:Publish_99.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_100) the Licensee_100 has a Licence_100
###############################################################################################################################################
:evaluatingProduct_100sIsProhibitedUnlessLicence_100 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_100.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_100 action is not Prohibited (ExceptionArt1b_100), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_100 .
			}
			WHERE {
					#... the Product_100 has a Licence_100 which is the theme of a Grant_100 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_100.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_100.
				?l TBox:is-licence-of_100 ?p.
				?l rdf:type TBox:Licence_100.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_100.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_100.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_100 action is the same agent of the Evaluate_100 action.
				?eg TBox:has-receiver_100 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_100 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_100 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_100) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_100.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_100.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_100}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_100.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_100ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_100sOrComment_100sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_100 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_100 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_100), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_100.
			}
			WHERE {
					#...the theme of this Publish_100 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_100.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_100.
				?ev TBox:has-result_100 ?r.
				?ev rdf:type TBox:Evaluate_100.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_100 action is the theme of an Approve_100 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_100.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_100.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_100)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_100 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_100), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_100.
			}
			WHERE {
					#...the theme of this Publish_100 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_100.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_100.
				?ev TBox:has-result_100 ?r.
				?ev rdf:type TBox:Evaluate_100.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_100 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_100.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_100 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_100 action is no longer Prohibited (ExceptionArt3b_100), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_100.
			}
			WHERE {
					#...the theme of this Publish_100 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_100.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_100.
				?c TBox:is-comment-of_100 ?ev.
				?ev rdf:type TBox:Evaluate_100.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_100 of this Evaluation is the theme of a Publish_100ing action that is Permitted...
				?ev TBox:has-result_100 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_100.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_100), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_100), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_100 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_100 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_100.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_100.
				?ev TBox:has-result_100 ?r.
				?ev rdf:type TBox:Evaluate_100.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_100}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_100}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_100;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_100 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_100 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_100.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_100.
				?ev TBox:has-result_100 ?r.
				?ev rdf:type TBox:Evaluate_100.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_100}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_100}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_100).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_100 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_100 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_100.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_100.
				?c TBox:is-comment-of_100 ?ev.
				?ev rdf:type TBox:Evaluate_100.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_100 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_100}.
			}
			""";
	];

sh:targetClass TBox:Publish_100.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_101) the Licensee_101 has a Licence_101
###############################################################################################################################################
:evaluatingProduct_101sIsProhibitedUnlessLicence_101 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_101.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_101 action is not Prohibited (ExceptionArt1b_101), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_101 .
			}
			WHERE {
					#... the Product_101 has a Licence_101 which is the theme of a Grant_101 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_101.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_101.
				?l TBox:is-licence-of_101 ?p.
				?l rdf:type TBox:Licence_101.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_101.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_101.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_101 action is the same agent of the Evaluate_101 action.
				?eg TBox:has-receiver_101 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_101 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_101 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_101) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_101.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_101.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_101}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_101.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_101ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_101sOrComment_101sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_101 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_101 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_101), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_101.
			}
			WHERE {
					#...the theme of this Publish_101 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_101.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_101.
				?ev TBox:has-result_101 ?r.
				?ev rdf:type TBox:Evaluate_101.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_101 action is the theme of an Approve_101 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_101.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_101.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_101)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_101 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_101), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_101.
			}
			WHERE {
					#...the theme of this Publish_101 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_101.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_101.
				?ev TBox:has-result_101 ?r.
				?ev rdf:type TBox:Evaluate_101.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_101 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_101.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_101 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_101 action is no longer Prohibited (ExceptionArt3b_101), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_101.
			}
			WHERE {
					#...the theme of this Publish_101 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_101.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_101.
				?c TBox:is-comment-of_101 ?ev.
				?ev rdf:type TBox:Evaluate_101.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_101 of this Evaluation is the theme of a Publish_101ing action that is Permitted...
				?ev TBox:has-result_101 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_101.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_101), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_101), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_101 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_101 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_101.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_101.
				?ev TBox:has-result_101 ?r.
				?ev rdf:type TBox:Evaluate_101.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_101}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_101}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_101;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_101 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_101 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_101.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_101.
				?ev TBox:has-result_101 ?r.
				?ev rdf:type TBox:Evaluate_101.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_101}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_101}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_101).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_101 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_101 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_101.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_101.
				?c TBox:is-comment-of_101 ?ev.
				?ev rdf:type TBox:Evaluate_101.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_101 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_101}.
			}
			""";
	];

sh:targetClass TBox:Publish_101.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_102) the Licensee_102 has a Licence_102
###############################################################################################################################################
:evaluatingProduct_102sIsProhibitedUnlessLicence_102 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_102.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_102 action is not Prohibited (ExceptionArt1b_102), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_102 .
			}
			WHERE {
					#... the Product_102 has a Licence_102 which is the theme of a Grant_102 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_102.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_102.
				?l TBox:is-licence-of_102 ?p.
				?l rdf:type TBox:Licence_102.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_102.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_102.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_102 action is the same agent of the Evaluate_102 action.
				?eg TBox:has-receiver_102 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_102 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_102 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_102) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_102.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_102.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_102}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_102.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_102ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_102sOrComment_102sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_102 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_102 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_102), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_102.
			}
			WHERE {
					#...the theme of this Publish_102 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_102.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_102.
				?ev TBox:has-result_102 ?r.
				?ev rdf:type TBox:Evaluate_102.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_102 action is the theme of an Approve_102 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_102.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_102.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_102)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_102 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_102), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_102.
			}
			WHERE {
					#...the theme of this Publish_102 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_102.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_102.
				?ev TBox:has-result_102 ?r.
				?ev rdf:type TBox:Evaluate_102.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_102 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_102.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_102 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_102 action is no longer Prohibited (ExceptionArt3b_102), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_102.
			}
			WHERE {
					#...the theme of this Publish_102 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_102.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_102.
				?c TBox:is-comment-of_102 ?ev.
				?ev rdf:type TBox:Evaluate_102.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_102 of this Evaluation is the theme of a Publish_102ing action that is Permitted...
				?ev TBox:has-result_102 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_102.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_102), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_102), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_102 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_102 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_102.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_102.
				?ev TBox:has-result_102 ?r.
				?ev rdf:type TBox:Evaluate_102.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_102}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_102}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_102;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_102 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_102 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_102.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_102.
				?ev TBox:has-result_102 ?r.
				?ev rdf:type TBox:Evaluate_102.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_102}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_102}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_102).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_102 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_102 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_102.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_102.
				?c TBox:is-comment-of_102 ?ev.
				?ev rdf:type TBox:Evaluate_102.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_102 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_102}.
			}
			""";
	];

sh:targetClass TBox:Publish_102.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_103) the Licensee_103 has a Licence_103
###############################################################################################################################################
:evaluatingProduct_103sIsProhibitedUnlessLicence_103 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_103.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_103 action is not Prohibited (ExceptionArt1b_103), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_103 .
			}
			WHERE {
					#... the Product_103 has a Licence_103 which is the theme of a Grant_103 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_103.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_103.
				?l TBox:is-licence-of_103 ?p.
				?l rdf:type TBox:Licence_103.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_103.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_103.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_103 action is the same agent of the Evaluate_103 action.
				?eg TBox:has-receiver_103 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_103 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_103 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_103) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_103.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_103.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_103}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_103.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_103ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_103sOrComment_103sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_103 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_103 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_103), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_103.
			}
			WHERE {
					#...the theme of this Publish_103 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_103.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_103.
				?ev TBox:has-result_103 ?r.
				?ev rdf:type TBox:Evaluate_103.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_103 action is the theme of an Approve_103 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_103.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_103.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_103)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_103 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_103), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_103.
			}
			WHERE {
					#...the theme of this Publish_103 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_103.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_103.
				?ev TBox:has-result_103 ?r.
				?ev rdf:type TBox:Evaluate_103.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_103 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_103.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_103 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_103 action is no longer Prohibited (ExceptionArt3b_103), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_103.
			}
			WHERE {
					#...the theme of this Publish_103 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_103.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_103.
				?c TBox:is-comment-of_103 ?ev.
				?ev rdf:type TBox:Evaluate_103.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_103 of this Evaluation is the theme of a Publish_103ing action that is Permitted...
				?ev TBox:has-result_103 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_103.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_103), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_103), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_103 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_103 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_103.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_103.
				?ev TBox:has-result_103 ?r.
				?ev rdf:type TBox:Evaluate_103.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_103}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_103}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_103;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_103 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_103 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_103.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_103.
				?ev TBox:has-result_103 ?r.
				?ev rdf:type TBox:Evaluate_103.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_103}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_103}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_103).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_103 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_103 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_103.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_103.
				?c TBox:is-comment-of_103 ?ev.
				?ev rdf:type TBox:Evaluate_103.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_103 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_103}.
			}
			""";
	];

sh:targetClass TBox:Publish_103.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_104) the Licensee_104 has a Licence_104
###############################################################################################################################################
:evaluatingProduct_104sIsProhibitedUnlessLicence_104 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_104.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_104 action is not Prohibited (ExceptionArt1b_104), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_104 .
			}
			WHERE {
					#... the Product_104 has a Licence_104 which is the theme of a Grant_104 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_104.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_104.
				?l TBox:is-licence-of_104 ?p.
				?l rdf:type TBox:Licence_104.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_104.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_104.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_104 action is the same agent of the Evaluate_104 action.
				?eg TBox:has-receiver_104 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_104 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_104 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_104) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_104.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_104.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_104}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_104.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_104ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_104sOrComment_104sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_104 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_104 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_104), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_104.
			}
			WHERE {
					#...the theme of this Publish_104 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_104.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_104.
				?ev TBox:has-result_104 ?r.
				?ev rdf:type TBox:Evaluate_104.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_104 action is the theme of an Approve_104 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_104.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_104.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_104)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_104 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_104), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_104.
			}
			WHERE {
					#...the theme of this Publish_104 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_104.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_104.
				?ev TBox:has-result_104 ?r.
				?ev rdf:type TBox:Evaluate_104.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_104 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_104.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_104 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_104 action is no longer Prohibited (ExceptionArt3b_104), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_104.
			}
			WHERE {
					#...the theme of this Publish_104 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_104.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_104.
				?c TBox:is-comment-of_104 ?ev.
				?ev rdf:type TBox:Evaluate_104.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_104 of this Evaluation is the theme of a Publish_104ing action that is Permitted...
				?ev TBox:has-result_104 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_104.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_104), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_104), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_104 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_104 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_104.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_104.
				?ev TBox:has-result_104 ?r.
				?ev rdf:type TBox:Evaluate_104.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_104}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_104}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_104;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_104 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_104 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_104.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_104.
				?ev TBox:has-result_104 ?r.
				?ev rdf:type TBox:Evaluate_104.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_104}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_104}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_104).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_104 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_104 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_104.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_104.
				?c TBox:is-comment-of_104 ?ev.
				?ev rdf:type TBox:Evaluate_104.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_104 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_104}.
			}
			""";
	];

sh:targetClass TBox:Publish_104.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_105) the Licensee_105 has a Licence_105
###############################################################################################################################################
:evaluatingProduct_105sIsProhibitedUnlessLicence_105 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_105.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_105 action is not Prohibited (ExceptionArt1b_105), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_105 .
			}
			WHERE {
					#... the Product_105 has a Licence_105 which is the theme of a Grant_105 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_105.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_105.
				?l TBox:is-licence-of_105 ?p.
				?l rdf:type TBox:Licence_105.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_105.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_105.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_105 action is the same agent of the Evaluate_105 action.
				?eg TBox:has-receiver_105 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_105 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_105 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_105) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_105.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_105.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_105}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_105.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_105ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_105sOrComment_105sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_105 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_105 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_105), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_105.
			}
			WHERE {
					#...the theme of this Publish_105 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_105.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_105.
				?ev TBox:has-result_105 ?r.
				?ev rdf:type TBox:Evaluate_105.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_105 action is the theme of an Approve_105 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_105.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_105.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_105)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_105 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_105), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_105.
			}
			WHERE {
					#...the theme of this Publish_105 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_105.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_105.
				?ev TBox:has-result_105 ?r.
				?ev rdf:type TBox:Evaluate_105.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_105 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_105.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_105 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_105 action is no longer Prohibited (ExceptionArt3b_105), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_105.
			}
			WHERE {
					#...the theme of this Publish_105 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_105.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_105.
				?c TBox:is-comment-of_105 ?ev.
				?ev rdf:type TBox:Evaluate_105.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_105 of this Evaluation is the theme of a Publish_105ing action that is Permitted...
				?ev TBox:has-result_105 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_105.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_105), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_105), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_105 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_105 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_105.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_105.
				?ev TBox:has-result_105 ?r.
				?ev rdf:type TBox:Evaluate_105.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_105}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_105}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_105;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_105 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_105 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_105.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_105.
				?ev TBox:has-result_105 ?r.
				?ev rdf:type TBox:Evaluate_105.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_105}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_105}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_105).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_105 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_105 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_105.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_105.
				?c TBox:is-comment-of_105 ?ev.
				?ev rdf:type TBox:Evaluate_105.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_105 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_105}.
			}
			""";
	];

sh:targetClass TBox:Publish_105.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_106) the Licensee_106 has a Licence_106
###############################################################################################################################################
:evaluatingProduct_106sIsProhibitedUnlessLicence_106 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_106.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_106 action is not Prohibited (ExceptionArt1b_106), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_106 .
			}
			WHERE {
					#... the Product_106 has a Licence_106 which is the theme of a Grant_106 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_106.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_106.
				?l TBox:is-licence-of_106 ?p.
				?l rdf:type TBox:Licence_106.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_106.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_106.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_106 action is the same agent of the Evaluate_106 action.
				?eg TBox:has-receiver_106 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_106 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_106 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_106) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_106.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_106.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_106}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_106.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_106ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_106sOrComment_106sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_106 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_106 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_106), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_106.
			}
			WHERE {
					#...the theme of this Publish_106 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_106.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_106.
				?ev TBox:has-result_106 ?r.
				?ev rdf:type TBox:Evaluate_106.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_106 action is the theme of an Approve_106 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_106.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_106.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_106)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_106 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_106), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_106.
			}
			WHERE {
					#...the theme of this Publish_106 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_106.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_106.
				?ev TBox:has-result_106 ?r.
				?ev rdf:type TBox:Evaluate_106.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_106 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_106.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_106 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_106 action is no longer Prohibited (ExceptionArt3b_106), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_106.
			}
			WHERE {
					#...the theme of this Publish_106 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_106.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_106.
				?c TBox:is-comment-of_106 ?ev.
				?ev rdf:type TBox:Evaluate_106.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_106 of this Evaluation is the theme of a Publish_106ing action that is Permitted...
				?ev TBox:has-result_106 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_106.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_106), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_106), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_106 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_106 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_106.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_106.
				?ev TBox:has-result_106 ?r.
				?ev rdf:type TBox:Evaluate_106.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_106}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_106}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_106;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_106 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_106 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_106.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_106.
				?ev TBox:has-result_106 ?r.
				?ev rdf:type TBox:Evaluate_106.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_106}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_106}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_106).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_106 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_106 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_106.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_106.
				?c TBox:is-comment-of_106 ?ev.
				?ev rdf:type TBox:Evaluate_106.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_106 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_106}.
			}
			""";
	];

sh:targetClass TBox:Publish_106.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_107) the Licensee_107 has a Licence_107
###############################################################################################################################################
:evaluatingProduct_107sIsProhibitedUnlessLicence_107 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_107.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_107 action is not Prohibited (ExceptionArt1b_107), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_107 .
			}
			WHERE {
					#... the Product_107 has a Licence_107 which is the theme of a Grant_107 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_107.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_107.
				?l TBox:is-licence-of_107 ?p.
				?l rdf:type TBox:Licence_107.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_107.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_107.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_107 action is the same agent of the Evaluate_107 action.
				?eg TBox:has-receiver_107 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_107 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_107 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_107) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_107.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_107.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_107}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_107.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_107ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_107sOrComment_107sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_107 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_107 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_107), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_107.
			}
			WHERE {
					#...the theme of this Publish_107 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_107.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_107.
				?ev TBox:has-result_107 ?r.
				?ev rdf:type TBox:Evaluate_107.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_107 action is the theme of an Approve_107 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_107.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_107.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_107)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_107 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_107), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_107.
			}
			WHERE {
					#...the theme of this Publish_107 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_107.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_107.
				?ev TBox:has-result_107 ?r.
				?ev rdf:type TBox:Evaluate_107.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_107 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_107.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_107 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_107 action is no longer Prohibited (ExceptionArt3b_107), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_107.
			}
			WHERE {
					#...the theme of this Publish_107 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_107.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_107.
				?c TBox:is-comment-of_107 ?ev.
				?ev rdf:type TBox:Evaluate_107.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_107 of this Evaluation is the theme of a Publish_107ing action that is Permitted...
				?ev TBox:has-result_107 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_107.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_107), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_107), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_107 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_107 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_107.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_107.
				?ev TBox:has-result_107 ?r.
				?ev rdf:type TBox:Evaluate_107.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_107}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_107}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_107;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_107 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_107 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_107.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_107.
				?ev TBox:has-result_107 ?r.
				?ev rdf:type TBox:Evaluate_107.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_107}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_107}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_107).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_107 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_107 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_107.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_107.
				?c TBox:is-comment-of_107 ?ev.
				?ev rdf:type TBox:Evaluate_107.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_107 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_107}.
			}
			""";
	];

sh:targetClass TBox:Publish_107.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_108) the Licensee_108 has a Licence_108
###############################################################################################################################################
:evaluatingProduct_108sIsProhibitedUnlessLicence_108 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_108.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_108 action is not Prohibited (ExceptionArt1b_108), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_108 .
			}
			WHERE {
					#... the Product_108 has a Licence_108 which is the theme of a Grant_108 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_108.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_108.
				?l TBox:is-licence-of_108 ?p.
				?l rdf:type TBox:Licence_108.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_108.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_108.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_108 action is the same agent of the Evaluate_108 action.
				?eg TBox:has-receiver_108 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_108 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_108 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_108) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_108.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_108.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_108}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_108.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_108ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_108sOrComment_108sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_108 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_108 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_108), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_108.
			}
			WHERE {
					#...the theme of this Publish_108 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_108.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_108.
				?ev TBox:has-result_108 ?r.
				?ev rdf:type TBox:Evaluate_108.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_108 action is the theme of an Approve_108 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_108.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_108.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_108)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_108 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_108), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_108.
			}
			WHERE {
					#...the theme of this Publish_108 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_108.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_108.
				?ev TBox:has-result_108 ?r.
				?ev rdf:type TBox:Evaluate_108.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_108 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_108.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_108 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_108 action is no longer Prohibited (ExceptionArt3b_108), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_108.
			}
			WHERE {
					#...the theme of this Publish_108 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_108.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_108.
				?c TBox:is-comment-of_108 ?ev.
				?ev rdf:type TBox:Evaluate_108.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_108 of this Evaluation is the theme of a Publish_108ing action that is Permitted...
				?ev TBox:has-result_108 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_108.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_108), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_108), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_108 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_108 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_108.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_108.
				?ev TBox:has-result_108 ?r.
				?ev rdf:type TBox:Evaluate_108.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_108}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_108}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_108;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_108 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_108 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_108.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_108.
				?ev TBox:has-result_108 ?r.
				?ev rdf:type TBox:Evaluate_108.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_108}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_108}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_108).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_108 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_108 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_108.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_108.
				?c TBox:is-comment-of_108 ?ev.
				?ev rdf:type TBox:Evaluate_108.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_108 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_108}.
			}
			""";
	];

sh:targetClass TBox:Publish_108.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_109) the Licensee_109 has a Licence_109
###############################################################################################################################################
:evaluatingProduct_109sIsProhibitedUnlessLicence_109 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_109.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_109 action is not Prohibited (ExceptionArt1b_109), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_109 .
			}
			WHERE {
					#... the Product_109 has a Licence_109 which is the theme of a Grant_109 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_109.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_109.
				?l TBox:is-licence-of_109 ?p.
				?l rdf:type TBox:Licence_109.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_109.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_109.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_109 action is the same agent of the Evaluate_109 action.
				?eg TBox:has-receiver_109 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_109 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_109 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_109) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_109.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_109.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_109}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_109.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_109ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_109sOrComment_109sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_109 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_109 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_109), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_109.
			}
			WHERE {
					#...the theme of this Publish_109 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_109.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_109.
				?ev TBox:has-result_109 ?r.
				?ev rdf:type TBox:Evaluate_109.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_109 action is the theme of an Approve_109 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_109.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_109.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_109)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_109 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_109), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_109.
			}
			WHERE {
					#...the theme of this Publish_109 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_109.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_109.
				?ev TBox:has-result_109 ?r.
				?ev rdf:type TBox:Evaluate_109.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_109 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_109.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_109 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_109 action is no longer Prohibited (ExceptionArt3b_109), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_109.
			}
			WHERE {
					#...the theme of this Publish_109 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_109.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_109.
				?c TBox:is-comment-of_109 ?ev.
				?ev rdf:type TBox:Evaluate_109.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_109 of this Evaluation is the theme of a Publish_109ing action that is Permitted...
				?ev TBox:has-result_109 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_109.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_109), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_109), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_109 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_109 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_109.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_109.
				?ev TBox:has-result_109 ?r.
				?ev rdf:type TBox:Evaluate_109.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_109}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_109}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_109;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_109 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_109 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_109.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_109.
				?ev TBox:has-result_109 ?r.
				?ev rdf:type TBox:Evaluate_109.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_109}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_109}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_109).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_109 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_109 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_109.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_109.
				?c TBox:is-comment-of_109 ?ev.
				?ev rdf:type TBox:Evaluate_109.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_109 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_109}.
			}
			""";
	];

sh:targetClass TBox:Publish_109.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_110) the Licensee_110 has a Licence_110
###############################################################################################################################################
:evaluatingProduct_110sIsProhibitedUnlessLicence_110 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_110.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_110 action is not Prohibited (ExceptionArt1b_110), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_110 .
			}
			WHERE {
					#... the Product_110 has a Licence_110 which is the theme of a Grant_110 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_110.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_110.
				?l TBox:is-licence-of_110 ?p.
				?l rdf:type TBox:Licence_110.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_110.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_110.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_110 action is the same agent of the Evaluate_110 action.
				?eg TBox:has-receiver_110 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_110 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_110 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_110) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_110.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_110.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_110}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_110.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_110ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_110sOrComment_110sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_110 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_110 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_110), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_110.
			}
			WHERE {
					#...the theme of this Publish_110 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_110.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_110.
				?ev TBox:has-result_110 ?r.
				?ev rdf:type TBox:Evaluate_110.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_110 action is the theme of an Approve_110 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_110.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_110.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_110)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_110 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_110), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_110.
			}
			WHERE {
					#...the theme of this Publish_110 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_110.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_110.
				?ev TBox:has-result_110 ?r.
				?ev rdf:type TBox:Evaluate_110.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_110 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_110.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_110 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_110 action is no longer Prohibited (ExceptionArt3b_110), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_110.
			}
			WHERE {
					#...the theme of this Publish_110 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_110.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_110.
				?c TBox:is-comment-of_110 ?ev.
				?ev rdf:type TBox:Evaluate_110.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_110 of this Evaluation is the theme of a Publish_110ing action that is Permitted...
				?ev TBox:has-result_110 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_110.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_110), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_110), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_110 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_110 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_110.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_110.
				?ev TBox:has-result_110 ?r.
				?ev rdf:type TBox:Evaluate_110.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_110}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_110}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_110;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_110 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_110 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_110.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_110.
				?ev TBox:has-result_110 ?r.
				?ev rdf:type TBox:Evaluate_110.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_110}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_110}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_110).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_110 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_110 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_110.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_110.
				?c TBox:is-comment-of_110 ?ev.
				?ev rdf:type TBox:Evaluate_110.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_110 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_110}.
			}
			""";
	];

sh:targetClass TBox:Publish_110.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_111) the Licensee_111 has a Licence_111
###############################################################################################################################################
:evaluatingProduct_111sIsProhibitedUnlessLicence_111 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_111.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_111 action is not Prohibited (ExceptionArt1b_111), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_111 .
			}
			WHERE {
					#... the Product_111 has a Licence_111 which is the theme of a Grant_111 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_111.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_111.
				?l TBox:is-licence-of_111 ?p.
				?l rdf:type TBox:Licence_111.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_111.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_111.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_111 action is the same agent of the Evaluate_111 action.
				?eg TBox:has-receiver_111 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_111 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_111 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_111) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_111.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_111.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_111}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_111.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_111ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_111sOrComment_111sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_111 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_111 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_111), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_111.
			}
			WHERE {
					#...the theme of this Publish_111 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_111.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_111.
				?ev TBox:has-result_111 ?r.
				?ev rdf:type TBox:Evaluate_111.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_111 action is the theme of an Approve_111 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_111.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_111.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_111)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_111 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_111), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_111.
			}
			WHERE {
					#...the theme of this Publish_111 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_111.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_111.
				?ev TBox:has-result_111 ?r.
				?ev rdf:type TBox:Evaluate_111.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_111 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_111.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_111 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_111 action is no longer Prohibited (ExceptionArt3b_111), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_111.
			}
			WHERE {
					#...the theme of this Publish_111 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_111.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_111.
				?c TBox:is-comment-of_111 ?ev.
				?ev rdf:type TBox:Evaluate_111.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_111 of this Evaluation is the theme of a Publish_111ing action that is Permitted...
				?ev TBox:has-result_111 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_111.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_111), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_111), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_111 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_111 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_111.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_111.
				?ev TBox:has-result_111 ?r.
				?ev rdf:type TBox:Evaluate_111.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_111}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_111}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_111;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_111 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_111 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_111.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_111.
				?ev TBox:has-result_111 ?r.
				?ev rdf:type TBox:Evaluate_111.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_111}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_111}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_111).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_111 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_111 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_111.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_111.
				?c TBox:is-comment-of_111 ?ev.
				?ev rdf:type TBox:Evaluate_111.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_111 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_111}.
			}
			""";
	];

sh:targetClass TBox:Publish_111.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_112) the Licensee_112 has a Licence_112
###############################################################################################################################################
:evaluatingProduct_112sIsProhibitedUnlessLicence_112 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_112.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_112 action is not Prohibited (ExceptionArt1b_112), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_112 .
			}
			WHERE {
					#... the Product_112 has a Licence_112 which is the theme of a Grant_112 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_112.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_112.
				?l TBox:is-licence-of_112 ?p.
				?l rdf:type TBox:Licence_112.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_112.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_112.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_112 action is the same agent of the Evaluate_112 action.
				?eg TBox:has-receiver_112 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_112 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_112 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_112) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_112.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_112.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_112}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_112.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_112ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_112sOrComment_112sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_112 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_112 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_112), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_112.
			}
			WHERE {
					#...the theme of this Publish_112 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_112.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_112.
				?ev TBox:has-result_112 ?r.
				?ev rdf:type TBox:Evaluate_112.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_112 action is the theme of an Approve_112 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_112.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_112.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_112)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_112 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_112), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_112.
			}
			WHERE {
					#...the theme of this Publish_112 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_112.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_112.
				?ev TBox:has-result_112 ?r.
				?ev rdf:type TBox:Evaluate_112.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_112 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_112.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_112 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_112 action is no longer Prohibited (ExceptionArt3b_112), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_112.
			}
			WHERE {
					#...the theme of this Publish_112 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_112.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_112.
				?c TBox:is-comment-of_112 ?ev.
				?ev rdf:type TBox:Evaluate_112.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_112 of this Evaluation is the theme of a Publish_112ing action that is Permitted...
				?ev TBox:has-result_112 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_112.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_112), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_112), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_112 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_112 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_112.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_112.
				?ev TBox:has-result_112 ?r.
				?ev rdf:type TBox:Evaluate_112.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_112}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_112}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_112;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_112 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_112 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_112.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_112.
				?ev TBox:has-result_112 ?r.
				?ev rdf:type TBox:Evaluate_112.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_112}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_112}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_112).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_112 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_112 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_112.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_112.
				?c TBox:is-comment-of_112 ?ev.
				?ev rdf:type TBox:Evaluate_112.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_112 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_112}.
			}
			""";
	];

sh:targetClass TBox:Publish_112.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_113) the Licensee_113 has a Licence_113
###############################################################################################################################################
:evaluatingProduct_113sIsProhibitedUnlessLicence_113 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_113.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_113 action is not Prohibited (ExceptionArt1b_113), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_113 .
			}
			WHERE {
					#... the Product_113 has a Licence_113 which is the theme of a Grant_113 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_113.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_113.
				?l TBox:is-licence-of_113 ?p.
				?l rdf:type TBox:Licence_113.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_113.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_113.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_113 action is the same agent of the Evaluate_113 action.
				?eg TBox:has-receiver_113 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_113 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_113 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_113) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_113.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_113.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_113}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_113.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_113ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_113sOrComment_113sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_113 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_113 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_113), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_113.
			}
			WHERE {
					#...the theme of this Publish_113 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_113.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_113.
				?ev TBox:has-result_113 ?r.
				?ev rdf:type TBox:Evaluate_113.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_113 action is the theme of an Approve_113 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_113.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_113.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_113)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_113 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_113), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_113.
			}
			WHERE {
					#...the theme of this Publish_113 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_113.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_113.
				?ev TBox:has-result_113 ?r.
				?ev rdf:type TBox:Evaluate_113.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_113 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_113.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_113 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_113 action is no longer Prohibited (ExceptionArt3b_113), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_113.
			}
			WHERE {
					#...the theme of this Publish_113 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_113.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_113.
				?c TBox:is-comment-of_113 ?ev.
				?ev rdf:type TBox:Evaluate_113.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_113 of this Evaluation is the theme of a Publish_113ing action that is Permitted...
				?ev TBox:has-result_113 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_113.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_113), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_113), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_113 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_113 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_113.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_113.
				?ev TBox:has-result_113 ?r.
				?ev rdf:type TBox:Evaluate_113.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_113}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_113}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_113;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_113 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_113 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_113.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_113.
				?ev TBox:has-result_113 ?r.
				?ev rdf:type TBox:Evaluate_113.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_113}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_113}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_113).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_113 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_113 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_113.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_113.
				?c TBox:is-comment-of_113 ?ev.
				?ev rdf:type TBox:Evaluate_113.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_113 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_113}.
			}
			""";
	];

sh:targetClass TBox:Publish_113.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_114) the Licensee_114 has a Licence_114
###############################################################################################################################################
:evaluatingProduct_114sIsProhibitedUnlessLicence_114 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_114.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_114 action is not Prohibited (ExceptionArt1b_114), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_114 .
			}
			WHERE {
					#... the Product_114 has a Licence_114 which is the theme of a Grant_114 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_114.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_114.
				?l TBox:is-licence-of_114 ?p.
				?l rdf:type TBox:Licence_114.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_114.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_114.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_114 action is the same agent of the Evaluate_114 action.
				?eg TBox:has-receiver_114 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_114 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_114 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_114) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_114.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_114.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_114}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_114.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_114ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_114sOrComment_114sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_114 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_114 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_114), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_114.
			}
			WHERE {
					#...the theme of this Publish_114 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_114.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_114.
				?ev TBox:has-result_114 ?r.
				?ev rdf:type TBox:Evaluate_114.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_114 action is the theme of an Approve_114 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_114.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_114.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_114)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_114 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_114), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_114.
			}
			WHERE {
					#...the theme of this Publish_114 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_114.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_114.
				?ev TBox:has-result_114 ?r.
				?ev rdf:type TBox:Evaluate_114.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_114 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_114.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_114 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_114 action is no longer Prohibited (ExceptionArt3b_114), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_114.
			}
			WHERE {
					#...the theme of this Publish_114 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_114.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_114.
				?c TBox:is-comment-of_114 ?ev.
				?ev rdf:type TBox:Evaluate_114.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_114 of this Evaluation is the theme of a Publish_114ing action that is Permitted...
				?ev TBox:has-result_114 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_114.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_114), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_114), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_114 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_114 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_114.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_114.
				?ev TBox:has-result_114 ?r.
				?ev rdf:type TBox:Evaluate_114.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_114}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_114}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_114;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_114 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_114 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_114.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_114.
				?ev TBox:has-result_114 ?r.
				?ev rdf:type TBox:Evaluate_114.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_114}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_114}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_114).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_114 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_114 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_114.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_114.
				?c TBox:is-comment-of_114 ?ev.
				?ev rdf:type TBox:Evaluate_114.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_114 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_114}.
			}
			""";
	];

sh:targetClass TBox:Publish_114.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_115) the Licensee_115 has a Licence_115
###############################################################################################################################################
:evaluatingProduct_115sIsProhibitedUnlessLicence_115 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_115.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_115 action is not Prohibited (ExceptionArt1b_115), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_115 .
			}
			WHERE {
					#... the Product_115 has a Licence_115 which is the theme of a Grant_115 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_115.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_115.
				?l TBox:is-licence-of_115 ?p.
				?l rdf:type TBox:Licence_115.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_115.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_115.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_115 action is the same agent of the Evaluate_115 action.
				?eg TBox:has-receiver_115 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_115 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_115 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_115) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_115.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_115.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_115}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_115.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_115ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_115sOrComment_115sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_115 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_115 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_115), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_115.
			}
			WHERE {
					#...the theme of this Publish_115 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_115.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_115.
				?ev TBox:has-result_115 ?r.
				?ev rdf:type TBox:Evaluate_115.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_115 action is the theme of an Approve_115 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_115.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_115.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_115)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_115 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_115), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_115.
			}
			WHERE {
					#...the theme of this Publish_115 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_115.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_115.
				?ev TBox:has-result_115 ?r.
				?ev rdf:type TBox:Evaluate_115.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_115 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_115.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_115 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_115 action is no longer Prohibited (ExceptionArt3b_115), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_115.
			}
			WHERE {
					#...the theme of this Publish_115 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_115.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_115.
				?c TBox:is-comment-of_115 ?ev.
				?ev rdf:type TBox:Evaluate_115.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_115 of this Evaluation is the theme of a Publish_115ing action that is Permitted...
				?ev TBox:has-result_115 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_115.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_115), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_115), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_115 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_115 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_115.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_115.
				?ev TBox:has-result_115 ?r.
				?ev rdf:type TBox:Evaluate_115.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_115}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_115}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_115;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_115 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_115 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_115.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_115.
				?ev TBox:has-result_115 ?r.
				?ev rdf:type TBox:Evaluate_115.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_115}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_115}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_115).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_115 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_115 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_115.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_115.
				?c TBox:is-comment-of_115 ?ev.
				?ev rdf:type TBox:Evaluate_115.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_115 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_115}.
			}
			""";
	];

sh:targetClass TBox:Publish_115.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_116) the Licensee_116 has a Licence_116
###############################################################################################################################################
:evaluatingProduct_116sIsProhibitedUnlessLicence_116 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_116.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_116 action is not Prohibited (ExceptionArt1b_116), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_116 .
			}
			WHERE {
					#... the Product_116 has a Licence_116 which is the theme of a Grant_116 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_116.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_116.
				?l TBox:is-licence-of_116 ?p.
				?l rdf:type TBox:Licence_116.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_116.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_116.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_116 action is the same agent of the Evaluate_116 action.
				?eg TBox:has-receiver_116 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_116 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_116 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_116) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_116.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_116.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_116}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_116.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_116ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_116sOrComment_116sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_116 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_116 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_116), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_116.
			}
			WHERE {
					#...the theme of this Publish_116 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_116.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_116.
				?ev TBox:has-result_116 ?r.
				?ev rdf:type TBox:Evaluate_116.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_116 action is the theme of an Approve_116 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_116.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_116.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_116)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_116 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_116), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_116.
			}
			WHERE {
					#...the theme of this Publish_116 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_116.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_116.
				?ev TBox:has-result_116 ?r.
				?ev rdf:type TBox:Evaluate_116.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_116 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_116.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_116 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_116 action is no longer Prohibited (ExceptionArt3b_116), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_116.
			}
			WHERE {
					#...the theme of this Publish_116 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_116.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_116.
				?c TBox:is-comment-of_116 ?ev.
				?ev rdf:type TBox:Evaluate_116.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_116 of this Evaluation is the theme of a Publish_116ing action that is Permitted...
				?ev TBox:has-result_116 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_116.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_116), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_116), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_116 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_116 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_116.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_116.
				?ev TBox:has-result_116 ?r.
				?ev rdf:type TBox:Evaluate_116.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_116}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_116}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_116;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_116 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_116 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_116.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_116.
				?ev TBox:has-result_116 ?r.
				?ev rdf:type TBox:Evaluate_116.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_116}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_116}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_116).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_116 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_116 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_116.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_116.
				?c TBox:is-comment-of_116 ?ev.
				?ev rdf:type TBox:Evaluate_116.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_116 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_116}.
			}
			""";
	];

sh:targetClass TBox:Publish_116.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_117) the Licensee_117 has a Licence_117
###############################################################################################################################################
:evaluatingProduct_117sIsProhibitedUnlessLicence_117 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_117.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_117 action is not Prohibited (ExceptionArt1b_117), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_117 .
			}
			WHERE {
					#... the Product_117 has a Licence_117 which is the theme of a Grant_117 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_117.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_117.
				?l TBox:is-licence-of_117 ?p.
				?l rdf:type TBox:Licence_117.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_117.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_117.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_117 action is the same agent of the Evaluate_117 action.
				?eg TBox:has-receiver_117 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_117 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_117 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_117) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_117.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_117.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_117}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_117.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_117ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_117sOrComment_117sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_117 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_117 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_117), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_117.
			}
			WHERE {
					#...the theme of this Publish_117 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_117.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_117.
				?ev TBox:has-result_117 ?r.
				?ev rdf:type TBox:Evaluate_117.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_117 action is the theme of an Approve_117 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_117.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_117.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_117)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_117 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_117), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_117.
			}
			WHERE {
					#...the theme of this Publish_117 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_117.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_117.
				?ev TBox:has-result_117 ?r.
				?ev rdf:type TBox:Evaluate_117.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_117 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_117.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_117 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_117 action is no longer Prohibited (ExceptionArt3b_117), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_117.
			}
			WHERE {
					#...the theme of this Publish_117 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_117.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_117.
				?c TBox:is-comment-of_117 ?ev.
				?ev rdf:type TBox:Evaluate_117.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_117 of this Evaluation is the theme of a Publish_117ing action that is Permitted...
				?ev TBox:has-result_117 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_117.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_117), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_117), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_117 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_117 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_117.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_117.
				?ev TBox:has-result_117 ?r.
				?ev rdf:type TBox:Evaluate_117.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_117}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_117}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_117;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_117 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_117 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_117.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_117.
				?ev TBox:has-result_117 ?r.
				?ev rdf:type TBox:Evaluate_117.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_117}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_117}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_117).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_117 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_117 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_117.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_117.
				?c TBox:is-comment-of_117 ?ev.
				?ev rdf:type TBox:Evaluate_117.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_117 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_117}.
			}
			""";
	];

sh:targetClass TBox:Publish_117.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_118) the Licensee_118 has a Licence_118
###############################################################################################################################################
:evaluatingProduct_118sIsProhibitedUnlessLicence_118 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_118.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_118 action is not Prohibited (ExceptionArt1b_118), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_118 .
			}
			WHERE {
					#... the Product_118 has a Licence_118 which is the theme of a Grant_118 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_118.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_118.
				?l TBox:is-licence-of_118 ?p.
				?l rdf:type TBox:Licence_118.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_118.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_118.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_118 action is the same agent of the Evaluate_118 action.
				?eg TBox:has-receiver_118 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_118 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_118 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_118) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_118.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_118.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_118}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_118.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_118ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_118sOrComment_118sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_118 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_118 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_118), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_118.
			}
			WHERE {
					#...the theme of this Publish_118 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_118.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_118.
				?ev TBox:has-result_118 ?r.
				?ev rdf:type TBox:Evaluate_118.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_118 action is the theme of an Approve_118 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_118.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_118.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_118)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_118 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_118), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_118.
			}
			WHERE {
					#...the theme of this Publish_118 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_118.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_118.
				?ev TBox:has-result_118 ?r.
				?ev rdf:type TBox:Evaluate_118.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_118 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_118.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_118 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_118 action is no longer Prohibited (ExceptionArt3b_118), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_118.
			}
			WHERE {
					#...the theme of this Publish_118 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_118.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_118.
				?c TBox:is-comment-of_118 ?ev.
				?ev rdf:type TBox:Evaluate_118.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_118 of this Evaluation is the theme of a Publish_118ing action that is Permitted...
				?ev TBox:has-result_118 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_118.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_118), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_118), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_118 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_118 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_118.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_118.
				?ev TBox:has-result_118 ?r.
				?ev rdf:type TBox:Evaluate_118.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_118}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_118}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_118;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_118 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_118 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_118.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_118.
				?ev TBox:has-result_118 ?r.
				?ev rdf:type TBox:Evaluate_118.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_118}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_118}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_118).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_118 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_118 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_118.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_118.
				?c TBox:is-comment-of_118 ?ev.
				?ev rdf:type TBox:Evaluate_118.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_118 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_118}.
			}
			""";
	];

sh:targetClass TBox:Publish_118.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_119) the Licensee_119 has a Licence_119
###############################################################################################################################################
:evaluatingProduct_119sIsProhibitedUnlessLicence_119 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_119.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_119 action is not Prohibited (ExceptionArt1b_119), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_119 .
			}
			WHERE {
					#... the Product_119 has a Licence_119 which is the theme of a Grant_119 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_119.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_119.
				?l TBox:is-licence-of_119 ?p.
				?l rdf:type TBox:Licence_119.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_119.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_119.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_119 action is the same agent of the Evaluate_119 action.
				?eg TBox:has-receiver_119 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_119 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_119 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_119) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_119.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_119.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_119}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_119.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_119ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_119sOrComment_119sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_119 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_119 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_119), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_119.
			}
			WHERE {
					#...the theme of this Publish_119 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_119.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_119.
				?ev TBox:has-result_119 ?r.
				?ev rdf:type TBox:Evaluate_119.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_119 action is the theme of an Approve_119 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_119.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_119.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_119)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_119 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_119), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_119.
			}
			WHERE {
					#...the theme of this Publish_119 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_119.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_119.
				?ev TBox:has-result_119 ?r.
				?ev rdf:type TBox:Evaluate_119.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_119 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_119.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_119 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_119 action is no longer Prohibited (ExceptionArt3b_119), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_119.
			}
			WHERE {
					#...the theme of this Publish_119 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_119.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_119.
				?c TBox:is-comment-of_119 ?ev.
				?ev rdf:type TBox:Evaluate_119.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_119 of this Evaluation is the theme of a Publish_119ing action that is Permitted...
				?ev TBox:has-result_119 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_119.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_119), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_119), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_119 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_119 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_119.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_119.
				?ev TBox:has-result_119 ?r.
				?ev rdf:type TBox:Evaluate_119.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_119}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_119}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_119;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_119 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_119 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_119.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_119.
				?ev TBox:has-result_119 ?r.
				?ev rdf:type TBox:Evaluate_119.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_119}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_119}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_119).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_119 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_119 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_119.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_119.
				?c TBox:is-comment-of_119 ?ev.
				?ev rdf:type TBox:Evaluate_119.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_119 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_119}.
			}
			""";
	];

sh:targetClass TBox:Publish_119.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_120) the Licensee_120 has a Licence_120
###############################################################################################################################################
:evaluatingProduct_120sIsProhibitedUnlessLicence_120 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_120.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_120 action is not Prohibited (ExceptionArt1b_120), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_120 .
			}
			WHERE {
					#... the Product_120 has a Licence_120 which is the theme of a Grant_120 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_120.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_120.
				?l TBox:is-licence-of_120 ?p.
				?l rdf:type TBox:Licence_120.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_120.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_120.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_120 action is the same agent of the Evaluate_120 action.
				?eg TBox:has-receiver_120 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_120 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_120 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_120) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_120.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_120.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_120}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_120.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_120ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_120sOrComment_120sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_120 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_120 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_120), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_120.
			}
			WHERE {
					#...the theme of this Publish_120 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_120.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_120.
				?ev TBox:has-result_120 ?r.
				?ev rdf:type TBox:Evaluate_120.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_120 action is the theme of an Approve_120 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_120.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_120.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_120)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_120 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_120), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_120.
			}
			WHERE {
					#...the theme of this Publish_120 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_120.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_120.
				?ev TBox:has-result_120 ?r.
				?ev rdf:type TBox:Evaluate_120.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_120 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_120.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_120 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_120 action is no longer Prohibited (ExceptionArt3b_120), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_120.
			}
			WHERE {
					#...the theme of this Publish_120 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_120.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_120.
				?c TBox:is-comment-of_120 ?ev.
				?ev rdf:type TBox:Evaluate_120.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_120 of this Evaluation is the theme of a Publish_120ing action that is Permitted...
				?ev TBox:has-result_120 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_120.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_120), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_120), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_120 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_120 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_120.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_120.
				?ev TBox:has-result_120 ?r.
				?ev rdf:type TBox:Evaluate_120.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_120}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_120}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_120;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_120 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_120 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_120.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_120.
				?ev TBox:has-result_120 ?r.
				?ev rdf:type TBox:Evaluate_120.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_120}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_120}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_120).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_120 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_120 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_120.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_120.
				?c TBox:is-comment-of_120 ?ev.
				?ev rdf:type TBox:Evaluate_120.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_120 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_120}.
			}
			""";
	];

sh:targetClass TBox:Publish_120.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_121) the Licensee_121 has a Licence_121
###############################################################################################################################################
:evaluatingProduct_121sIsProhibitedUnlessLicence_121 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_121.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_121 action is not Prohibited (ExceptionArt1b_121), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_121 .
			}
			WHERE {
					#... the Product_121 has a Licence_121 which is the theme of a Grant_121 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_121.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_121.
				?l TBox:is-licence-of_121 ?p.
				?l rdf:type TBox:Licence_121.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_121.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_121.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_121 action is the same agent of the Evaluate_121 action.
				?eg TBox:has-receiver_121 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_121 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_121 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_121) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_121.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_121.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_121}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_121.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_121ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_121sOrComment_121sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_121 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_121 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_121), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_121.
			}
			WHERE {
					#...the theme of this Publish_121 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_121.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_121.
				?ev TBox:has-result_121 ?r.
				?ev rdf:type TBox:Evaluate_121.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_121 action is the theme of an Approve_121 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_121.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_121.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_121)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_121 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_121), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_121.
			}
			WHERE {
					#...the theme of this Publish_121 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_121.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_121.
				?ev TBox:has-result_121 ?r.
				?ev rdf:type TBox:Evaluate_121.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_121 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_121.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_121 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_121 action is no longer Prohibited (ExceptionArt3b_121), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_121.
			}
			WHERE {
					#...the theme of this Publish_121 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_121.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_121.
				?c TBox:is-comment-of_121 ?ev.
				?ev rdf:type TBox:Evaluate_121.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_121 of this Evaluation is the theme of a Publish_121ing action that is Permitted...
				?ev TBox:has-result_121 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_121.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_121), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_121), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_121 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_121 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_121.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_121.
				?ev TBox:has-result_121 ?r.
				?ev rdf:type TBox:Evaluate_121.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_121}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_121}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_121;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_121 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_121 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_121.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_121.
				?ev TBox:has-result_121 ?r.
				?ev rdf:type TBox:Evaluate_121.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_121}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_121}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_121).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_121 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_121 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_121.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_121.
				?c TBox:is-comment-of_121 ?ev.
				?ev rdf:type TBox:Evaluate_121.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_121 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_121}.
			}
			""";
	];

sh:targetClass TBox:Publish_121.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_122) the Licensee_122 has a Licence_122
###############################################################################################################################################
:evaluatingProduct_122sIsProhibitedUnlessLicence_122 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_122.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_122 action is not Prohibited (ExceptionArt1b_122), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_122 .
			}
			WHERE {
					#... the Product_122 has a Licence_122 which is the theme of a Grant_122 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_122.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_122.
				?l TBox:is-licence-of_122 ?p.
				?l rdf:type TBox:Licence_122.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_122.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_122.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_122 action is the same agent of the Evaluate_122 action.
				?eg TBox:has-receiver_122 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_122 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_122 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_122) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_122.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_122.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_122}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_122.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_122ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_122sOrComment_122sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_122 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_122 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_122), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_122.
			}
			WHERE {
					#...the theme of this Publish_122 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_122.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_122.
				?ev TBox:has-result_122 ?r.
				?ev rdf:type TBox:Evaluate_122.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_122 action is the theme of an Approve_122 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_122.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_122.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_122)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_122 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_122), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_122.
			}
			WHERE {
					#...the theme of this Publish_122 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_122.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_122.
				?ev TBox:has-result_122 ?r.
				?ev rdf:type TBox:Evaluate_122.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_122 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_122.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_122 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_122 action is no longer Prohibited (ExceptionArt3b_122), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_122.
			}
			WHERE {
					#...the theme of this Publish_122 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_122.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_122.
				?c TBox:is-comment-of_122 ?ev.
				?ev rdf:type TBox:Evaluate_122.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_122 of this Evaluation is the theme of a Publish_122ing action that is Permitted...
				?ev TBox:has-result_122 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_122.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_122), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_122), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_122 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_122 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_122.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_122.
				?ev TBox:has-result_122 ?r.
				?ev rdf:type TBox:Evaluate_122.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_122}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_122}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_122;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_122 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_122 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_122.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_122.
				?ev TBox:has-result_122 ?r.
				?ev rdf:type TBox:Evaluate_122.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_122}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_122}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_122).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_122 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_122 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_122.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_122.
				?c TBox:is-comment-of_122 ?ev.
				?ev rdf:type TBox:Evaluate_122.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_122 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_122}.
			}
			""";
	];

sh:targetClass TBox:Publish_122.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_123) the Licensee_123 has a Licence_123
###############################################################################################################################################
:evaluatingProduct_123sIsProhibitedUnlessLicence_123 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_123.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_123 action is not Prohibited (ExceptionArt1b_123), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_123 .
			}
			WHERE {
					#... the Product_123 has a Licence_123 which is the theme of a Grant_123 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_123.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_123.
				?l TBox:is-licence-of_123 ?p.
				?l rdf:type TBox:Licence_123.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_123.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_123.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_123 action is the same agent of the Evaluate_123 action.
				?eg TBox:has-receiver_123 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_123 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_123 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_123) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_123.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_123.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_123}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_123.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_123ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_123sOrComment_123sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_123 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_123 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_123), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_123.
			}
			WHERE {
					#...the theme of this Publish_123 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_123.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_123.
				?ev TBox:has-result_123 ?r.
				?ev rdf:type TBox:Evaluate_123.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_123 action is the theme of an Approve_123 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_123.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_123.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_123)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_123 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_123), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_123.
			}
			WHERE {
					#...the theme of this Publish_123 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_123.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_123.
				?ev TBox:has-result_123 ?r.
				?ev rdf:type TBox:Evaluate_123.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_123 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_123.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_123 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_123 action is no longer Prohibited (ExceptionArt3b_123), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_123.
			}
			WHERE {
					#...the theme of this Publish_123 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_123.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_123.
				?c TBox:is-comment-of_123 ?ev.
				?ev rdf:type TBox:Evaluate_123.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_123 of this Evaluation is the theme of a Publish_123ing action that is Permitted...
				?ev TBox:has-result_123 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_123.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_123), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_123), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_123 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_123 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_123.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_123.
				?ev TBox:has-result_123 ?r.
				?ev rdf:type TBox:Evaluate_123.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_123}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_123}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_123;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_123 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_123 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_123.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_123.
				?ev TBox:has-result_123 ?r.
				?ev rdf:type TBox:Evaluate_123.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_123}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_123}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_123).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_123 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_123 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_123.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_123.
				?c TBox:is-comment-of_123 ?ev.
				?ev rdf:type TBox:Evaluate_123.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_123 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_123}.
			}
			""";
	];

sh:targetClass TBox:Publish_123.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_124) the Licensee_124 has a Licence_124
###############################################################################################################################################
:evaluatingProduct_124sIsProhibitedUnlessLicence_124 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_124.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_124 action is not Prohibited (ExceptionArt1b_124), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_124 .
			}
			WHERE {
					#... the Product_124 has a Licence_124 which is the theme of a Grant_124 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_124.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_124.
				?l TBox:is-licence-of_124 ?p.
				?l rdf:type TBox:Licence_124.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_124.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_124.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_124 action is the same agent of the Evaluate_124 action.
				?eg TBox:has-receiver_124 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_124 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_124 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_124) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_124.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_124.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_124}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_124.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_124ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_124sOrComment_124sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_124 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_124 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_124), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_124.
			}
			WHERE {
					#...the theme of this Publish_124 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_124.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_124.
				?ev TBox:has-result_124 ?r.
				?ev rdf:type TBox:Evaluate_124.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_124 action is the theme of an Approve_124 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_124.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_124.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_124)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_124 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_124), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_124.
			}
			WHERE {
					#...the theme of this Publish_124 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_124.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_124.
				?ev TBox:has-result_124 ?r.
				?ev rdf:type TBox:Evaluate_124.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_124 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_124.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_124 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_124 action is no longer Prohibited (ExceptionArt3b_124), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_124.
			}
			WHERE {
					#...the theme of this Publish_124 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_124.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_124.
				?c TBox:is-comment-of_124 ?ev.
				?ev rdf:type TBox:Evaluate_124.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_124 of this Evaluation is the theme of a Publish_124ing action that is Permitted...
				?ev TBox:has-result_124 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_124.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_124), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_124), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_124 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_124 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_124.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_124.
				?ev TBox:has-result_124 ?r.
				?ev rdf:type TBox:Evaluate_124.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_124}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_124}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_124;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_124 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_124 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_124.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_124.
				?ev TBox:has-result_124 ?r.
				?ev rdf:type TBox:Evaluate_124.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_124}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_124}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_124).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_124 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_124 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_124.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_124.
				?c TBox:is-comment-of_124 ?ev.
				?ev rdf:type TBox:Evaluate_124.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_124 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_124}.
			}
			""";
	];

sh:targetClass TBox:Publish_124.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_125) the Licensee_125 has a Licence_125
###############################################################################################################################################
:evaluatingProduct_125sIsProhibitedUnlessLicence_125 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_125.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_125 action is not Prohibited (ExceptionArt1b_125), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_125 .
			}
			WHERE {
					#... the Product_125 has a Licence_125 which is the theme of a Grant_125 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_125.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_125.
				?l TBox:is-licence-of_125 ?p.
				?l rdf:type TBox:Licence_125.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_125.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_125.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_125 action is the same agent of the Evaluate_125 action.
				?eg TBox:has-receiver_125 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_125 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_125 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_125) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_125.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_125.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_125}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_125.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_125ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_125sOrComment_125sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_125 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_125 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_125), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_125.
			}
			WHERE {
					#...the theme of this Publish_125 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_125.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_125.
				?ev TBox:has-result_125 ?r.
				?ev rdf:type TBox:Evaluate_125.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_125 action is the theme of an Approve_125 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_125.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_125.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_125)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_125 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_125), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_125.
			}
			WHERE {
					#...the theme of this Publish_125 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_125.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_125.
				?ev TBox:has-result_125 ?r.
				?ev rdf:type TBox:Evaluate_125.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_125 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_125.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_125 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_125 action is no longer Prohibited (ExceptionArt3b_125), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_125.
			}
			WHERE {
					#...the theme of this Publish_125 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_125.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_125.
				?c TBox:is-comment-of_125 ?ev.
				?ev rdf:type TBox:Evaluate_125.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_125 of this Evaluation is the theme of a Publish_125ing action that is Permitted...
				?ev TBox:has-result_125 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_125.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_125), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_125), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_125 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_125 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_125.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_125.
				?ev TBox:has-result_125 ?r.
				?ev rdf:type TBox:Evaluate_125.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_125}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_125}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_125;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_125 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_125 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_125.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_125.
				?ev TBox:has-result_125 ?r.
				?ev rdf:type TBox:Evaluate_125.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_125}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_125}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_125).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_125 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_125 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_125.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_125.
				?c TBox:is-comment-of_125 ?ev.
				?ev rdf:type TBox:Evaluate_125.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_125 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_125}.
			}
			""";
	];

sh:targetClass TBox:Publish_125.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_126) the Licensee_126 has a Licence_126
###############################################################################################################################################
:evaluatingProduct_126sIsProhibitedUnlessLicence_126 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_126.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_126 action is not Prohibited (ExceptionArt1b_126), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_126 .
			}
			WHERE {
					#... the Product_126 has a Licence_126 which is the theme of a Grant_126 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_126.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_126.
				?l TBox:is-licence-of_126 ?p.
				?l rdf:type TBox:Licence_126.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_126.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_126.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_126 action is the same agent of the Evaluate_126 action.
				?eg TBox:has-receiver_126 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_126 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_126 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_126) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_126.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_126.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_126}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_126.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_126ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_126sOrComment_126sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_126 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_126 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_126), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_126.
			}
			WHERE {
					#...the theme of this Publish_126 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_126.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_126.
				?ev TBox:has-result_126 ?r.
				?ev rdf:type TBox:Evaluate_126.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_126 action is the theme of an Approve_126 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_126.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_126.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_126)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_126 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_126), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_126.
			}
			WHERE {
					#...the theme of this Publish_126 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_126.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_126.
				?ev TBox:has-result_126 ?r.
				?ev rdf:type TBox:Evaluate_126.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_126 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_126.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_126 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_126 action is no longer Prohibited (ExceptionArt3b_126), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_126.
			}
			WHERE {
					#...the theme of this Publish_126 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_126.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_126.
				?c TBox:is-comment-of_126 ?ev.
				?ev rdf:type TBox:Evaluate_126.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_126 of this Evaluation is the theme of a Publish_126ing action that is Permitted...
				?ev TBox:has-result_126 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_126.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_126), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_126), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_126 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_126 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_126.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_126.
				?ev TBox:has-result_126 ?r.
				?ev rdf:type TBox:Evaluate_126.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_126}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_126}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_126;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_126 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_126 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_126.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_126.
				?ev TBox:has-result_126 ?r.
				?ev rdf:type TBox:Evaluate_126.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_126}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_126}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_126).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_126 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_126 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_126.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_126.
				?c TBox:is-comment-of_126 ?ev.
				?ev rdf:type TBox:Evaluate_126.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_126 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_126}.
			}
			""";
	];

sh:targetClass TBox:Publish_126.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_127) the Licensee_127 has a Licence_127
###############################################################################################################################################
:evaluatingProduct_127sIsProhibitedUnlessLicence_127 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_127.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_127 action is not Prohibited (ExceptionArt1b_127), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_127 .
			}
			WHERE {
					#... the Product_127 has a Licence_127 which is the theme of a Grant_127 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_127.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_127.
				?l TBox:is-licence-of_127 ?p.
				?l rdf:type TBox:Licence_127.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_127.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_127.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_127 action is the same agent of the Evaluate_127 action.
				?eg TBox:has-receiver_127 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_127 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_127 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_127) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_127.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_127.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_127}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_127.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_127ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_127sOrComment_127sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_127 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_127 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_127), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_127.
			}
			WHERE {
					#...the theme of this Publish_127 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_127.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_127.
				?ev TBox:has-result_127 ?r.
				?ev rdf:type TBox:Evaluate_127.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_127 action is the theme of an Approve_127 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_127.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_127.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_127)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_127 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_127), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_127.
			}
			WHERE {
					#...the theme of this Publish_127 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_127.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_127.
				?ev TBox:has-result_127 ?r.
				?ev rdf:type TBox:Evaluate_127.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_127 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_127.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_127 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_127 action is no longer Prohibited (ExceptionArt3b_127), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_127.
			}
			WHERE {
					#...the theme of this Publish_127 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_127.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_127.
				?c TBox:is-comment-of_127 ?ev.
				?ev rdf:type TBox:Evaluate_127.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_127 of this Evaluation is the theme of a Publish_127ing action that is Permitted...
				?ev TBox:has-result_127 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_127.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_127), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_127), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_127 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_127 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_127.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_127.
				?ev TBox:has-result_127 ?r.
				?ev rdf:type TBox:Evaluate_127.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_127}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_127}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_127;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_127 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_127 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_127.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_127.
				?ev TBox:has-result_127 ?r.
				?ev rdf:type TBox:Evaluate_127.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_127}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_127}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_127).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_127 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_127 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_127.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_127.
				?c TBox:is-comment-of_127 ?ev.
				?ev rdf:type TBox:Evaluate_127.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_127 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_127}.
			}
			""";
	];

sh:targetClass TBox:Publish_127.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_128) the Licensee_128 has a Licence_128
###############################################################################################################################################
:evaluatingProduct_128sIsProhibitedUnlessLicence_128 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_128.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_128 action is not Prohibited (ExceptionArt1b_128), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_128 .
			}
			WHERE {
					#... the Product_128 has a Licence_128 which is the theme of a Grant_128 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_128.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_128.
				?l TBox:is-licence-of_128 ?p.
				?l rdf:type TBox:Licence_128.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_128.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_128.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_128 action is the same agent of the Evaluate_128 action.
				?eg TBox:has-receiver_128 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_128 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_128 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_128) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_128.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_128.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_128}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_128.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_128ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_128sOrComment_128sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_128 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_128 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_128), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_128.
			}
			WHERE {
					#...the theme of this Publish_128 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_128.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_128.
				?ev TBox:has-result_128 ?r.
				?ev rdf:type TBox:Evaluate_128.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_128 action is the theme of an Approve_128 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_128.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_128.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_128)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_128 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_128), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_128.
			}
			WHERE {
					#...the theme of this Publish_128 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_128.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_128.
				?ev TBox:has-result_128 ?r.
				?ev rdf:type TBox:Evaluate_128.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_128 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_128.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_128 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_128 action is no longer Prohibited (ExceptionArt3b_128), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_128.
			}
			WHERE {
					#...the theme of this Publish_128 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_128.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_128.
				?c TBox:is-comment-of_128 ?ev.
				?ev rdf:type TBox:Evaluate_128.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_128 of this Evaluation is the theme of a Publish_128ing action that is Permitted...
				?ev TBox:has-result_128 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_128.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_128), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_128), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_128 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_128 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_128.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_128.
				?ev TBox:has-result_128 ?r.
				?ev rdf:type TBox:Evaluate_128.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_128}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_128}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_128;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_128 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_128 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_128.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_128.
				?ev TBox:has-result_128 ?r.
				?ev rdf:type TBox:Evaluate_128.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_128}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_128}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_128).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_128 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_128 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_128.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_128.
				?c TBox:is-comment-of_128 ?ev.
				?ev rdf:type TBox:Evaluate_128.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_128 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_128}.
			}
			""";
	];

sh:targetClass TBox:Publish_128.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_129) the Licensee_129 has a Licence_129
###############################################################################################################################################
:evaluatingProduct_129sIsProhibitedUnlessLicence_129 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_129.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_129 action is not Prohibited (ExceptionArt1b_129), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_129 .
			}
			WHERE {
					#... the Product_129 has a Licence_129 which is the theme of a Grant_129 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_129.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_129.
				?l TBox:is-licence-of_129 ?p.
				?l rdf:type TBox:Licence_129.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_129.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_129.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_129 action is the same agent of the Evaluate_129 action.
				?eg TBox:has-receiver_129 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_129 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_129 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_129) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_129.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_129.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_129}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_129.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_129ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_129sOrComment_129sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_129 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_129 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_129), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_129.
			}
			WHERE {
					#...the theme of this Publish_129 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_129.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_129.
				?ev TBox:has-result_129 ?r.
				?ev rdf:type TBox:Evaluate_129.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_129 action is the theme of an Approve_129 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_129.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_129.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_129)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_129 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_129), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_129.
			}
			WHERE {
					#...the theme of this Publish_129 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_129.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_129.
				?ev TBox:has-result_129 ?r.
				?ev rdf:type TBox:Evaluate_129.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_129 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_129.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_129 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_129 action is no longer Prohibited (ExceptionArt3b_129), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_129.
			}
			WHERE {
					#...the theme of this Publish_129 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_129.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_129.
				?c TBox:is-comment-of_129 ?ev.
				?ev rdf:type TBox:Evaluate_129.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_129 of this Evaluation is the theme of a Publish_129ing action that is Permitted...
				?ev TBox:has-result_129 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_129.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_129), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_129), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_129 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_129 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_129.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_129.
				?ev TBox:has-result_129 ?r.
				?ev rdf:type TBox:Evaluate_129.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_129}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_129}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_129;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_129 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_129 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_129.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_129.
				?ev TBox:has-result_129 ?r.
				?ev rdf:type TBox:Evaluate_129.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_129}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_129}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_129).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_129 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_129 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_129.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_129.
				?c TBox:is-comment-of_129 ?ev.
				?ev rdf:type TBox:Evaluate_129.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_129 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_129}.
			}
			""";
	];

sh:targetClass TBox:Publish_129.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_130) the Licensee_130 has a Licence_130
###############################################################################################################################################
:evaluatingProduct_130sIsProhibitedUnlessLicence_130 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_130.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_130 action is not Prohibited (ExceptionArt1b_130), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_130 .
			}
			WHERE {
					#... the Product_130 has a Licence_130 which is the theme of a Grant_130 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_130.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_130.
				?l TBox:is-licence-of_130 ?p.
				?l rdf:type TBox:Licence_130.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_130.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_130.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_130 action is the same agent of the Evaluate_130 action.
				?eg TBox:has-receiver_130 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_130 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_130 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_130) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_130.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_130.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_130}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_130.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_130ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_130sOrComment_130sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_130 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_130 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_130), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_130.
			}
			WHERE {
					#...the theme of this Publish_130 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_130.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_130.
				?ev TBox:has-result_130 ?r.
				?ev rdf:type TBox:Evaluate_130.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_130 action is the theme of an Approve_130 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_130.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_130.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_130)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_130 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_130), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_130.
			}
			WHERE {
					#...the theme of this Publish_130 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_130.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_130.
				?ev TBox:has-result_130 ?r.
				?ev rdf:type TBox:Evaluate_130.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_130 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_130.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_130 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_130 action is no longer Prohibited (ExceptionArt3b_130), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_130.
			}
			WHERE {
					#...the theme of this Publish_130 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_130.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_130.
				?c TBox:is-comment-of_130 ?ev.
				?ev rdf:type TBox:Evaluate_130.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_130 of this Evaluation is the theme of a Publish_130ing action that is Permitted...
				?ev TBox:has-result_130 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_130.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_130), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_130), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_130 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_130 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_130.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_130.
				?ev TBox:has-result_130 ?r.
				?ev rdf:type TBox:Evaluate_130.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_130}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_130}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_130;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_130 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_130 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_130.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_130.
				?ev TBox:has-result_130 ?r.
				?ev rdf:type TBox:Evaluate_130.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_130}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_130}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_130).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_130 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_130 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_130.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_130.
				?c TBox:is-comment-of_130 ?ev.
				?ev rdf:type TBox:Evaluate_130.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_130 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_130}.
			}
			""";
	];

sh:targetClass TBox:Publish_130.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_131) the Licensee_131 has a Licence_131
###############################################################################################################################################
:evaluatingProduct_131sIsProhibitedUnlessLicence_131 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_131.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_131 action is not Prohibited (ExceptionArt1b_131), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_131 .
			}
			WHERE {
					#... the Product_131 has a Licence_131 which is the theme of a Grant_131 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_131.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_131.
				?l TBox:is-licence-of_131 ?p.
				?l rdf:type TBox:Licence_131.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_131.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_131.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_131 action is the same agent of the Evaluate_131 action.
				?eg TBox:has-receiver_131 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_131 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_131 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_131) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_131.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_131.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_131}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_131.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_131ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_131sOrComment_131sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_131 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_131 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_131), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_131.
			}
			WHERE {
					#...the theme of this Publish_131 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_131.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_131.
				?ev TBox:has-result_131 ?r.
				?ev rdf:type TBox:Evaluate_131.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_131 action is the theme of an Approve_131 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_131.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_131.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_131)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_131 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_131), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_131.
			}
			WHERE {
					#...the theme of this Publish_131 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_131.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_131.
				?ev TBox:has-result_131 ?r.
				?ev rdf:type TBox:Evaluate_131.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_131 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_131.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_131 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_131 action is no longer Prohibited (ExceptionArt3b_131), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_131.
			}
			WHERE {
					#...the theme of this Publish_131 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_131.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_131.
				?c TBox:is-comment-of_131 ?ev.
				?ev rdf:type TBox:Evaluate_131.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_131 of this Evaluation is the theme of a Publish_131ing action that is Permitted...
				?ev TBox:has-result_131 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_131.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_131), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_131), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_131 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_131 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_131.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_131.
				?ev TBox:has-result_131 ?r.
				?ev rdf:type TBox:Evaluate_131.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_131}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_131}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_131;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_131 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_131 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_131.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_131.
				?ev TBox:has-result_131 ?r.
				?ev rdf:type TBox:Evaluate_131.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_131}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_131}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_131).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_131 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_131 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_131.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_131.
				?c TBox:is-comment-of_131 ?ev.
				?ev rdf:type TBox:Evaluate_131.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_131 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_131}.
			}
			""";
	];

sh:targetClass TBox:Publish_131.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_132) the Licensee_132 has a Licence_132
###############################################################################################################################################
:evaluatingProduct_132sIsProhibitedUnlessLicence_132 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_132.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_132 action is not Prohibited (ExceptionArt1b_132), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_132 .
			}
			WHERE {
					#... the Product_132 has a Licence_132 which is the theme of a Grant_132 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_132.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_132.
				?l TBox:is-licence-of_132 ?p.
				?l rdf:type TBox:Licence_132.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_132.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_132.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_132 action is the same agent of the Evaluate_132 action.
				?eg TBox:has-receiver_132 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_132 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_132 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_132) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_132.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_132.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_132}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_132.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_132ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_132sOrComment_132sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_132 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_132 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_132), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_132.
			}
			WHERE {
					#...the theme of this Publish_132 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_132.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_132.
				?ev TBox:has-result_132 ?r.
				?ev rdf:type TBox:Evaluate_132.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_132 action is the theme of an Approve_132 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_132.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_132.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_132)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_132 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_132), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_132.
			}
			WHERE {
					#...the theme of this Publish_132 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_132.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_132.
				?ev TBox:has-result_132 ?r.
				?ev rdf:type TBox:Evaluate_132.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_132 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_132.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_132 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_132 action is no longer Prohibited (ExceptionArt3b_132), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_132.
			}
			WHERE {
					#...the theme of this Publish_132 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_132.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_132.
				?c TBox:is-comment-of_132 ?ev.
				?ev rdf:type TBox:Evaluate_132.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_132 of this Evaluation is the theme of a Publish_132ing action that is Permitted...
				?ev TBox:has-result_132 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_132.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_132), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_132), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_132 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_132 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_132.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_132.
				?ev TBox:has-result_132 ?r.
				?ev rdf:type TBox:Evaluate_132.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_132}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_132}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_132;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_132 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_132 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_132.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_132.
				?ev TBox:has-result_132 ?r.
				?ev rdf:type TBox:Evaluate_132.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_132}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_132}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_132).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_132 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_132 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_132.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_132.
				?c TBox:is-comment-of_132 ?ev.
				?ev rdf:type TBox:Evaluate_132.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_132 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_132}.
			}
			""";
	];

sh:targetClass TBox:Publish_132.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_133) the Licensee_133 has a Licence_133
###############################################################################################################################################
:evaluatingProduct_133sIsProhibitedUnlessLicence_133 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_133.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_133 action is not Prohibited (ExceptionArt1b_133), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_133 .
			}
			WHERE {
					#... the Product_133 has a Licence_133 which is the theme of a Grant_133 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_133.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_133.
				?l TBox:is-licence-of_133 ?p.
				?l rdf:type TBox:Licence_133.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_133.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_133.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_133 action is the same agent of the Evaluate_133 action.
				?eg TBox:has-receiver_133 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_133 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_133 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_133) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_133.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_133.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_133}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_133.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_133ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_133sOrComment_133sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_133 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_133 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_133), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_133.
			}
			WHERE {
					#...the theme of this Publish_133 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_133.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_133.
				?ev TBox:has-result_133 ?r.
				?ev rdf:type TBox:Evaluate_133.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_133 action is the theme of an Approve_133 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_133.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_133.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_133)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_133 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_133), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_133.
			}
			WHERE {
					#...the theme of this Publish_133 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_133.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_133.
				?ev TBox:has-result_133 ?r.
				?ev rdf:type TBox:Evaluate_133.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_133 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_133.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_133 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_133 action is no longer Prohibited (ExceptionArt3b_133), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_133.
			}
			WHERE {
					#...the theme of this Publish_133 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_133.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_133.
				?c TBox:is-comment-of_133 ?ev.
				?ev rdf:type TBox:Evaluate_133.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_133 of this Evaluation is the theme of a Publish_133ing action that is Permitted...
				?ev TBox:has-result_133 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_133.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_133), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_133), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_133 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_133 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_133.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_133.
				?ev TBox:has-result_133 ?r.
				?ev rdf:type TBox:Evaluate_133.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_133}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_133}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_133;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_133 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_133 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_133.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_133.
				?ev TBox:has-result_133 ?r.
				?ev rdf:type TBox:Evaluate_133.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_133}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_133}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_133).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_133 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_133 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_133.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_133.
				?c TBox:is-comment-of_133 ?ev.
				?ev rdf:type TBox:Evaluate_133.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_133 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_133}.
			}
			""";
	];

sh:targetClass TBox:Publish_133.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_134) the Licensee_134 has a Licence_134
###############################################################################################################################################
:evaluatingProduct_134sIsProhibitedUnlessLicence_134 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_134.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_134 action is not Prohibited (ExceptionArt1b_134), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_134 .
			}
			WHERE {
					#... the Product_134 has a Licence_134 which is the theme of a Grant_134 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_134.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_134.
				?l TBox:is-licence-of_134 ?p.
				?l rdf:type TBox:Licence_134.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_134.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_134.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_134 action is the same agent of the Evaluate_134 action.
				?eg TBox:has-receiver_134 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_134 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_134 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_134) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_134.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_134.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_134}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_134.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_134ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_134sOrComment_134sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_134 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_134 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_134), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_134.
			}
			WHERE {
					#...the theme of this Publish_134 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_134.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_134.
				?ev TBox:has-result_134 ?r.
				?ev rdf:type TBox:Evaluate_134.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_134 action is the theme of an Approve_134 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_134.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_134.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_134)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_134 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_134), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_134.
			}
			WHERE {
					#...the theme of this Publish_134 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_134.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_134.
				?ev TBox:has-result_134 ?r.
				?ev rdf:type TBox:Evaluate_134.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_134 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_134.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_134 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_134 action is no longer Prohibited (ExceptionArt3b_134), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_134.
			}
			WHERE {
					#...the theme of this Publish_134 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_134.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_134.
				?c TBox:is-comment-of_134 ?ev.
				?ev rdf:type TBox:Evaluate_134.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_134 of this Evaluation is the theme of a Publish_134ing action that is Permitted...
				?ev TBox:has-result_134 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_134.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_134), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_134), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_134 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_134 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_134.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_134.
				?ev TBox:has-result_134 ?r.
				?ev rdf:type TBox:Evaluate_134.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_134}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_134}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_134;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_134 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_134 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_134.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_134.
				?ev TBox:has-result_134 ?r.
				?ev rdf:type TBox:Evaluate_134.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_134}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_134}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_134).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_134 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_134 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_134.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_134.
				?c TBox:is-comment-of_134 ?ev.
				?ev rdf:type TBox:Evaluate_134.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_134 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_134}.
			}
			""";
	];

sh:targetClass TBox:Publish_134.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_135) the Licensee_135 has a Licence_135
###############################################################################################################################################
:evaluatingProduct_135sIsProhibitedUnlessLicence_135 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_135.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_135 action is not Prohibited (ExceptionArt1b_135), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_135 .
			}
			WHERE {
					#... the Product_135 has a Licence_135 which is the theme of a Grant_135 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_135.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_135.
				?l TBox:is-licence-of_135 ?p.
				?l rdf:type TBox:Licence_135.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_135.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_135.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_135 action is the same agent of the Evaluate_135 action.
				?eg TBox:has-receiver_135 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_135 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_135 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_135) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_135.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_135.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_135}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_135.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_135ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_135sOrComment_135sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_135 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_135 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_135), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_135.
			}
			WHERE {
					#...the theme of this Publish_135 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_135.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_135.
				?ev TBox:has-result_135 ?r.
				?ev rdf:type TBox:Evaluate_135.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_135 action is the theme of an Approve_135 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_135.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_135.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_135)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_135 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_135), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_135.
			}
			WHERE {
					#...the theme of this Publish_135 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_135.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_135.
				?ev TBox:has-result_135 ?r.
				?ev rdf:type TBox:Evaluate_135.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_135 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_135.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_135 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_135 action is no longer Prohibited (ExceptionArt3b_135), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_135.
			}
			WHERE {
					#...the theme of this Publish_135 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_135.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_135.
				?c TBox:is-comment-of_135 ?ev.
				?ev rdf:type TBox:Evaluate_135.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_135 of this Evaluation is the theme of a Publish_135ing action that is Permitted...
				?ev TBox:has-result_135 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_135.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_135), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_135), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_135 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_135 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_135.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_135.
				?ev TBox:has-result_135 ?r.
				?ev rdf:type TBox:Evaluate_135.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_135}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_135}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_135;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_135 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_135 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_135.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_135.
				?ev TBox:has-result_135 ?r.
				?ev rdf:type TBox:Evaluate_135.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_135}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_135}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_135).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_135 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_135 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_135.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_135.
				?c TBox:is-comment-of_135 ?ev.
				?ev rdf:type TBox:Evaluate_135.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_135 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_135}.
			}
			""";
	];

sh:targetClass TBox:Publish_135.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_136) the Licensee_136 has a Licence_136
###############################################################################################################################################
:evaluatingProduct_136sIsProhibitedUnlessLicence_136 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_136.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_136 action is not Prohibited (ExceptionArt1b_136), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_136 .
			}
			WHERE {
					#... the Product_136 has a Licence_136 which is the theme of a Grant_136 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_136.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_136.
				?l TBox:is-licence-of_136 ?p.
				?l rdf:type TBox:Licence_136.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_136.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_136.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_136 action is the same agent of the Evaluate_136 action.
				?eg TBox:has-receiver_136 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_136 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_136 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_136) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_136.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_136.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_136}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_136.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_136ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_136sOrComment_136sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_136 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_136 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_136), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_136.
			}
			WHERE {
					#...the theme of this Publish_136 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_136.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_136.
				?ev TBox:has-result_136 ?r.
				?ev rdf:type TBox:Evaluate_136.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_136 action is the theme of an Approve_136 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_136.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_136.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_136)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_136 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_136), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_136.
			}
			WHERE {
					#...the theme of this Publish_136 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_136.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_136.
				?ev TBox:has-result_136 ?r.
				?ev rdf:type TBox:Evaluate_136.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_136 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_136.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_136 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_136 action is no longer Prohibited (ExceptionArt3b_136), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_136.
			}
			WHERE {
					#...the theme of this Publish_136 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_136.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_136.
				?c TBox:is-comment-of_136 ?ev.
				?ev rdf:type TBox:Evaluate_136.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_136 of this Evaluation is the theme of a Publish_136ing action that is Permitted...
				?ev TBox:has-result_136 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_136.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_136), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_136), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_136 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_136 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_136.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_136.
				?ev TBox:has-result_136 ?r.
				?ev rdf:type TBox:Evaluate_136.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_136}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_136}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_136;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_136 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_136 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_136.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_136.
				?ev TBox:has-result_136 ?r.
				?ev rdf:type TBox:Evaluate_136.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_136}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_136}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_136).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_136 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_136 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_136.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_136.
				?c TBox:is-comment-of_136 ?ev.
				?ev rdf:type TBox:Evaluate_136.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_136 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_136}.
			}
			""";
	];

sh:targetClass TBox:Publish_136.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_137) the Licensee_137 has a Licence_137
###############################################################################################################################################
:evaluatingProduct_137sIsProhibitedUnlessLicence_137 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_137.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_137 action is not Prohibited (ExceptionArt1b_137), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_137 .
			}
			WHERE {
					#... the Product_137 has a Licence_137 which is the theme of a Grant_137 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_137.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_137.
				?l TBox:is-licence-of_137 ?p.
				?l rdf:type TBox:Licence_137.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_137.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_137.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_137 action is the same agent of the Evaluate_137 action.
				?eg TBox:has-receiver_137 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_137 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_137 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_137) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_137.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_137.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_137}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_137.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_137ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_137sOrComment_137sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_137 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_137 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_137), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_137.
			}
			WHERE {
					#...the theme of this Publish_137 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_137.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_137.
				?ev TBox:has-result_137 ?r.
				?ev rdf:type TBox:Evaluate_137.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_137 action is the theme of an Approve_137 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_137.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_137.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_137)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_137 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_137), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_137.
			}
			WHERE {
					#...the theme of this Publish_137 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_137.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_137.
				?ev TBox:has-result_137 ?r.
				?ev rdf:type TBox:Evaluate_137.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_137 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_137.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_137 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_137 action is no longer Prohibited (ExceptionArt3b_137), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_137.
			}
			WHERE {
					#...the theme of this Publish_137 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_137.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_137.
				?c TBox:is-comment-of_137 ?ev.
				?ev rdf:type TBox:Evaluate_137.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_137 of this Evaluation is the theme of a Publish_137ing action that is Permitted...
				?ev TBox:has-result_137 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_137.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_137), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_137), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_137 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_137 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_137.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_137.
				?ev TBox:has-result_137 ?r.
				?ev rdf:type TBox:Evaluate_137.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_137}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_137}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_137;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_137 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_137 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_137.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_137.
				?ev TBox:has-result_137 ?r.
				?ev rdf:type TBox:Evaluate_137.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_137}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_137}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_137).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_137 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_137 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_137.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_137.
				?c TBox:is-comment-of_137 ?ev.
				?ev rdf:type TBox:Evaluate_137.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_137 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_137}.
			}
			""";
	];

sh:targetClass TBox:Publish_137.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_138) the Licensee_138 has a Licence_138
###############################################################################################################################################
:evaluatingProduct_138sIsProhibitedUnlessLicence_138 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_138.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_138 action is not Prohibited (ExceptionArt1b_138), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_138 .
			}
			WHERE {
					#... the Product_138 has a Licence_138 which is the theme of a Grant_138 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_138.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_138.
				?l TBox:is-licence-of_138 ?p.
				?l rdf:type TBox:Licence_138.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_138.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_138.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_138 action is the same agent of the Evaluate_138 action.
				?eg TBox:has-receiver_138 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_138 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_138 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_138) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_138.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_138.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_138}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_138.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_138ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_138sOrComment_138sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_138 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_138 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_138), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_138.
			}
			WHERE {
					#...the theme of this Publish_138 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_138.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_138.
				?ev TBox:has-result_138 ?r.
				?ev rdf:type TBox:Evaluate_138.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_138 action is the theme of an Approve_138 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_138.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_138.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_138)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_138 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_138), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_138.
			}
			WHERE {
					#...the theme of this Publish_138 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_138.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_138.
				?ev TBox:has-result_138 ?r.
				?ev rdf:type TBox:Evaluate_138.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_138 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_138.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_138 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_138 action is no longer Prohibited (ExceptionArt3b_138), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_138.
			}
			WHERE {
					#...the theme of this Publish_138 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_138.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_138.
				?c TBox:is-comment-of_138 ?ev.
				?ev rdf:type TBox:Evaluate_138.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_138 of this Evaluation is the theme of a Publish_138ing action that is Permitted...
				?ev TBox:has-result_138 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_138.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_138), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_138), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_138 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_138 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_138.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_138.
				?ev TBox:has-result_138 ?r.
				?ev rdf:type TBox:Evaluate_138.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_138}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_138}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_138;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_138 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_138 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_138.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_138.
				?ev TBox:has-result_138 ?r.
				?ev rdf:type TBox:Evaluate_138.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_138}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_138}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_138).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_138 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_138 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_138.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_138.
				?c TBox:is-comment-of_138 ?ev.
				?ev rdf:type TBox:Evaluate_138.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_138 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_138}.
			}
			""";
	];

sh:targetClass TBox:Publish_138.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_139) the Licensee_139 has a Licence_139
###############################################################################################################################################
:evaluatingProduct_139sIsProhibitedUnlessLicence_139 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_139.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_139 action is not Prohibited (ExceptionArt1b_139), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_139 .
			}
			WHERE {
					#... the Product_139 has a Licence_139 which is the theme of a Grant_139 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_139.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_139.
				?l TBox:is-licence-of_139 ?p.
				?l rdf:type TBox:Licence_139.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_139.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_139.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_139 action is the same agent of the Evaluate_139 action.
				?eg TBox:has-receiver_139 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_139 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_139 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_139) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_139.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_139.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_139}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_139.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_139ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_139sOrComment_139sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_139 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_139 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_139), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_139.
			}
			WHERE {
					#...the theme of this Publish_139 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_139.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_139.
				?ev TBox:has-result_139 ?r.
				?ev rdf:type TBox:Evaluate_139.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_139 action is the theme of an Approve_139 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_139.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_139.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_139)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_139 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_139), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_139.
			}
			WHERE {
					#...the theme of this Publish_139 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_139.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_139.
				?ev TBox:has-result_139 ?r.
				?ev rdf:type TBox:Evaluate_139.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_139 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_139.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_139 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_139 action is no longer Prohibited (ExceptionArt3b_139), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_139.
			}
			WHERE {
					#...the theme of this Publish_139 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_139.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_139.
				?c TBox:is-comment-of_139 ?ev.
				?ev rdf:type TBox:Evaluate_139.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_139 of this Evaluation is the theme of a Publish_139ing action that is Permitted...
				?ev TBox:has-result_139 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_139.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_139), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_139), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_139 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_139 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_139.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_139.
				?ev TBox:has-result_139 ?r.
				?ev rdf:type TBox:Evaluate_139.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_139}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_139}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_139;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_139 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_139 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_139.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_139.
				?ev TBox:has-result_139 ?r.
				?ev rdf:type TBox:Evaluate_139.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_139}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_139}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_139).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_139 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_139 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_139.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_139.
				?c TBox:is-comment-of_139 ?ev.
				?ev rdf:type TBox:Evaluate_139.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_139 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_139}.
			}
			""";
	];

sh:targetClass TBox:Publish_139.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_140) the Licensee_140 has a Licence_140
###############################################################################################################################################
:evaluatingProduct_140sIsProhibitedUnlessLicence_140 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_140.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_140 action is not Prohibited (ExceptionArt1b_140), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_140 .
			}
			WHERE {
					#... the Product_140 has a Licence_140 which is the theme of a Grant_140 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_140.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_140.
				?l TBox:is-licence-of_140 ?p.
				?l rdf:type TBox:Licence_140.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_140.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_140.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_140 action is the same agent of the Evaluate_140 action.
				?eg TBox:has-receiver_140 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_140 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_140 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_140) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_140.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_140.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_140}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_140.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_140ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_140sOrComment_140sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_140 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_140 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_140), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_140.
			}
			WHERE {
					#...the theme of this Publish_140 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_140.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_140.
				?ev TBox:has-result_140 ?r.
				?ev rdf:type TBox:Evaluate_140.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_140 action is the theme of an Approve_140 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_140.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_140.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_140)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_140 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_140), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_140.
			}
			WHERE {
					#...the theme of this Publish_140 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_140.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_140.
				?ev TBox:has-result_140 ?r.
				?ev rdf:type TBox:Evaluate_140.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_140 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_140.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_140 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_140 action is no longer Prohibited (ExceptionArt3b_140), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_140.
			}
			WHERE {
					#...the theme of this Publish_140 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_140.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_140.
				?c TBox:is-comment-of_140 ?ev.
				?ev rdf:type TBox:Evaluate_140.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_140 of this Evaluation is the theme of a Publish_140ing action that is Permitted...
				?ev TBox:has-result_140 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_140.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_140), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_140), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_140 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_140 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_140.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_140.
				?ev TBox:has-result_140 ?r.
				?ev rdf:type TBox:Evaluate_140.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_140}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_140}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_140;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_140 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_140 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_140.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_140.
				?ev TBox:has-result_140 ?r.
				?ev rdf:type TBox:Evaluate_140.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_140}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_140}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_140).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_140 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_140 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_140.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_140.
				?c TBox:is-comment-of_140 ?ev.
				?ev rdf:type TBox:Evaluate_140.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_140 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_140}.
			}
			""";
	];

sh:targetClass TBox:Publish_140.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_141) the Licensee_141 has a Licence_141
###############################################################################################################################################
:evaluatingProduct_141sIsProhibitedUnlessLicence_141 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_141.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_141 action is not Prohibited (ExceptionArt1b_141), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_141 .
			}
			WHERE {
					#... the Product_141 has a Licence_141 which is the theme of a Grant_141 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_141.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_141.
				?l TBox:is-licence-of_141 ?p.
				?l rdf:type TBox:Licence_141.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_141.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_141.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_141 action is the same agent of the Evaluate_141 action.
				?eg TBox:has-receiver_141 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_141 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_141 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_141) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_141.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_141.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_141}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_141.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_141ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_141sOrComment_141sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_141 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_141 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_141), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_141.
			}
			WHERE {
					#...the theme of this Publish_141 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_141.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_141.
				?ev TBox:has-result_141 ?r.
				?ev rdf:type TBox:Evaluate_141.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_141 action is the theme of an Approve_141 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_141.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_141.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_141)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_141 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_141), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_141.
			}
			WHERE {
					#...the theme of this Publish_141 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_141.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_141.
				?ev TBox:has-result_141 ?r.
				?ev rdf:type TBox:Evaluate_141.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_141 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_141.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_141 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_141 action is no longer Prohibited (ExceptionArt3b_141), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_141.
			}
			WHERE {
					#...the theme of this Publish_141 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_141.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_141.
				?c TBox:is-comment-of_141 ?ev.
				?ev rdf:type TBox:Evaluate_141.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_141 of this Evaluation is the theme of a Publish_141ing action that is Permitted...
				?ev TBox:has-result_141 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_141.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_141), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_141), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_141 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_141 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_141.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_141.
				?ev TBox:has-result_141 ?r.
				?ev rdf:type TBox:Evaluate_141.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_141}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_141}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_141;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_141 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_141 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_141.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_141.
				?ev TBox:has-result_141 ?r.
				?ev rdf:type TBox:Evaluate_141.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_141}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_141}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_141).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_141 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_141 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_141.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_141.
				?c TBox:is-comment-of_141 ?ev.
				?ev rdf:type TBox:Evaluate_141.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_141 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_141}.
			}
			""";
	];

sh:targetClass TBox:Publish_141.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_142) the Licensee_142 has a Licence_142
###############################################################################################################################################
:evaluatingProduct_142sIsProhibitedUnlessLicence_142 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_142.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_142 action is not Prohibited (ExceptionArt1b_142), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_142 .
			}
			WHERE {
					#... the Product_142 has a Licence_142 which is the theme of a Grant_142 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_142.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_142.
				?l TBox:is-licence-of_142 ?p.
				?l rdf:type TBox:Licence_142.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_142.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_142.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_142 action is the same agent of the Evaluate_142 action.
				?eg TBox:has-receiver_142 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_142 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_142 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_142) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_142.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_142.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_142}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_142.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_142ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_142sOrComment_142sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_142 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_142 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_142), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_142.
			}
			WHERE {
					#...the theme of this Publish_142 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_142.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_142.
				?ev TBox:has-result_142 ?r.
				?ev rdf:type TBox:Evaluate_142.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_142 action is the theme of an Approve_142 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_142.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_142.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_142)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_142 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_142), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_142.
			}
			WHERE {
					#...the theme of this Publish_142 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_142.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_142.
				?ev TBox:has-result_142 ?r.
				?ev rdf:type TBox:Evaluate_142.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_142 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_142.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_142 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_142 action is no longer Prohibited (ExceptionArt3b_142), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_142.
			}
			WHERE {
					#...the theme of this Publish_142 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_142.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_142.
				?c TBox:is-comment-of_142 ?ev.
				?ev rdf:type TBox:Evaluate_142.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_142 of this Evaluation is the theme of a Publish_142ing action that is Permitted...
				?ev TBox:has-result_142 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_142.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_142), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_142), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_142 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_142 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_142.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_142.
				?ev TBox:has-result_142 ?r.
				?ev rdf:type TBox:Evaluate_142.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_142}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_142}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_142;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_142 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_142 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_142.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_142.
				?ev TBox:has-result_142 ?r.
				?ev rdf:type TBox:Evaluate_142.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_142}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_142}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_142).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_142 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_142 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_142.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_142.
				?c TBox:is-comment-of_142 ?ev.
				?ev rdf:type TBox:Evaluate_142.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_142 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_142}.
			}
			""";
	];

sh:targetClass TBox:Publish_142.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_143) the Licensee_143 has a Licence_143
###############################################################################################################################################
:evaluatingProduct_143sIsProhibitedUnlessLicence_143 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_143.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_143 action is not Prohibited (ExceptionArt1b_143), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_143 .
			}
			WHERE {
					#... the Product_143 has a Licence_143 which is the theme of a Grant_143 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_143.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_143.
				?l TBox:is-licence-of_143 ?p.
				?l rdf:type TBox:Licence_143.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_143.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_143.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_143 action is the same agent of the Evaluate_143 action.
				?eg TBox:has-receiver_143 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_143 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_143 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_143) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_143.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_143.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_143}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_143.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_143ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_143sOrComment_143sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_143 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_143 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_143), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_143.
			}
			WHERE {
					#...the theme of this Publish_143 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_143.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_143.
				?ev TBox:has-result_143 ?r.
				?ev rdf:type TBox:Evaluate_143.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_143 action is the theme of an Approve_143 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_143.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_143.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_143)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_143 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_143), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_143.
			}
			WHERE {
					#...the theme of this Publish_143 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_143.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_143.
				?ev TBox:has-result_143 ?r.
				?ev rdf:type TBox:Evaluate_143.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_143 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_143.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_143 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_143 action is no longer Prohibited (ExceptionArt3b_143), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_143.
			}
			WHERE {
					#...the theme of this Publish_143 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_143.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_143.
				?c TBox:is-comment-of_143 ?ev.
				?ev rdf:type TBox:Evaluate_143.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_143 of this Evaluation is the theme of a Publish_143ing action that is Permitted...
				?ev TBox:has-result_143 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_143.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_143), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_143), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_143 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_143 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_143.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_143.
				?ev TBox:has-result_143 ?r.
				?ev rdf:type TBox:Evaluate_143.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_143}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_143}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_143;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_143 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_143 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_143.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_143.
				?ev TBox:has-result_143 ?r.
				?ev rdf:type TBox:Evaluate_143.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_143}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_143}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_143).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_143 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_143 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_143.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_143.
				?c TBox:is-comment-of_143 ?ev.
				?ev rdf:type TBox:Evaluate_143.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_143 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_143}.
			}
			""";
	];

sh:targetClass TBox:Publish_143.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_144) the Licensee_144 has a Licence_144
###############################################################################################################################################
:evaluatingProduct_144sIsProhibitedUnlessLicence_144 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_144.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_144 action is not Prohibited (ExceptionArt1b_144), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_144 .
			}
			WHERE {
					#... the Product_144 has a Licence_144 which is the theme of a Grant_144 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_144.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_144.
				?l TBox:is-licence-of_144 ?p.
				?l rdf:type TBox:Licence_144.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_144.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_144.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_144 action is the same agent of the Evaluate_144 action.
				?eg TBox:has-receiver_144 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_144 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_144 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_144) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_144.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_144.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_144}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_144.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_144ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_144sOrComment_144sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_144 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_144 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_144), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_144.
			}
			WHERE {
					#...the theme of this Publish_144 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_144.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_144.
				?ev TBox:has-result_144 ?r.
				?ev rdf:type TBox:Evaluate_144.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_144 action is the theme of an Approve_144 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_144.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_144.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_144)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_144 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_144), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_144.
			}
			WHERE {
					#...the theme of this Publish_144 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_144.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_144.
				?ev TBox:has-result_144 ?r.
				?ev rdf:type TBox:Evaluate_144.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_144 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_144.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_144 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_144 action is no longer Prohibited (ExceptionArt3b_144), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_144.
			}
			WHERE {
					#...the theme of this Publish_144 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_144.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_144.
				?c TBox:is-comment-of_144 ?ev.
				?ev rdf:type TBox:Evaluate_144.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_144 of this Evaluation is the theme of a Publish_144ing action that is Permitted...
				?ev TBox:has-result_144 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_144.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_144), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_144), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_144 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_144 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_144.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_144.
				?ev TBox:has-result_144 ?r.
				?ev rdf:type TBox:Evaluate_144.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_144}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_144}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_144;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_144 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_144 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_144.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_144.
				?ev TBox:has-result_144 ?r.
				?ev rdf:type TBox:Evaluate_144.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_144}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_144}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_144).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_144 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_144 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_144.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_144.
				?c TBox:is-comment-of_144 ?ev.
				?ev rdf:type TBox:Evaluate_144.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_144 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_144}.
			}
			""";
	];

sh:targetClass TBox:Publish_144.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_145) the Licensee_145 has a Licence_145
###############################################################################################################################################
:evaluatingProduct_145sIsProhibitedUnlessLicence_145 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_145.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_145 action is not Prohibited (ExceptionArt1b_145), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_145 .
			}
			WHERE {
					#... the Product_145 has a Licence_145 which is the theme of a Grant_145 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_145.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_145.
				?l TBox:is-licence-of_145 ?p.
				?l rdf:type TBox:Licence_145.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_145.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_145.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_145 action is the same agent of the Evaluate_145 action.
				?eg TBox:has-receiver_145 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_145 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_145 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_145) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_145.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_145.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_145}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_145.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_145ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_145sOrComment_145sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_145 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_145 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_145), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_145.
			}
			WHERE {
					#...the theme of this Publish_145 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_145.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_145.
				?ev TBox:has-result_145 ?r.
				?ev rdf:type TBox:Evaluate_145.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_145 action is the theme of an Approve_145 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_145.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_145.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_145)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_145 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_145), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_145.
			}
			WHERE {
					#...the theme of this Publish_145 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_145.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_145.
				?ev TBox:has-result_145 ?r.
				?ev rdf:type TBox:Evaluate_145.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_145 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_145.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_145 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_145 action is no longer Prohibited (ExceptionArt3b_145), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_145.
			}
			WHERE {
					#...the theme of this Publish_145 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_145.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_145.
				?c TBox:is-comment-of_145 ?ev.
				?ev rdf:type TBox:Evaluate_145.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_145 of this Evaluation is the theme of a Publish_145ing action that is Permitted...
				?ev TBox:has-result_145 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_145.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_145), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_145), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_145 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_145 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_145.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_145.
				?ev TBox:has-result_145 ?r.
				?ev rdf:type TBox:Evaluate_145.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_145}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_145}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_145;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_145 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_145 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_145.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_145.
				?ev TBox:has-result_145 ?r.
				?ev rdf:type TBox:Evaluate_145.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_145}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_145}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_145).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_145 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_145 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_145.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_145.
				?c TBox:is-comment-of_145 ?ev.
				?ev rdf:type TBox:Evaluate_145.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_145 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_145}.
			}
			""";
	];

sh:targetClass TBox:Publish_145.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_146) the Licensee_146 has a Licence_146
###############################################################################################################################################
:evaluatingProduct_146sIsProhibitedUnlessLicence_146 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_146.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_146 action is not Prohibited (ExceptionArt1b_146), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_146 .
			}
			WHERE {
					#... the Product_146 has a Licence_146 which is the theme of a Grant_146 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_146.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_146.
				?l TBox:is-licence-of_146 ?p.
				?l rdf:type TBox:Licence_146.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_146.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_146.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_146 action is the same agent of the Evaluate_146 action.
				?eg TBox:has-receiver_146 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_146 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_146 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_146) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_146.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_146.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_146}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_146.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_146ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_146sOrComment_146sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_146 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_146 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_146), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_146.
			}
			WHERE {
					#...the theme of this Publish_146 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_146.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_146.
				?ev TBox:has-result_146 ?r.
				?ev rdf:type TBox:Evaluate_146.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_146 action is the theme of an Approve_146 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_146.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_146.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_146)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_146 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_146), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_146.
			}
			WHERE {
					#...the theme of this Publish_146 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_146.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_146.
				?ev TBox:has-result_146 ?r.
				?ev rdf:type TBox:Evaluate_146.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_146 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_146.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_146 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_146 action is no longer Prohibited (ExceptionArt3b_146), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_146.
			}
			WHERE {
					#...the theme of this Publish_146 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_146.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_146.
				?c TBox:is-comment-of_146 ?ev.
				?ev rdf:type TBox:Evaluate_146.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_146 of this Evaluation is the theme of a Publish_146ing action that is Permitted...
				?ev TBox:has-result_146 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_146.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_146), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_146), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_146 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_146 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_146.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_146.
				?ev TBox:has-result_146 ?r.
				?ev rdf:type TBox:Evaluate_146.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_146}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_146}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_146;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_146 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_146 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_146.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_146.
				?ev TBox:has-result_146 ?r.
				?ev rdf:type TBox:Evaluate_146.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_146}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_146}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_146).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_146 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_146 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_146.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_146.
				?c TBox:is-comment-of_146 ?ev.
				?ev rdf:type TBox:Evaluate_146.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_146 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_146}.
			}
			""";
	];

sh:targetClass TBox:Publish_146.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_147) the Licensee_147 has a Licence_147
###############################################################################################################################################
:evaluatingProduct_147sIsProhibitedUnlessLicence_147 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_147.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_147 action is not Prohibited (ExceptionArt1b_147), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_147 .
			}
			WHERE {
					#... the Product_147 has a Licence_147 which is the theme of a Grant_147 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_147.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_147.
				?l TBox:is-licence-of_147 ?p.
				?l rdf:type TBox:Licence_147.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_147.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_147.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_147 action is the same agent of the Evaluate_147 action.
				?eg TBox:has-receiver_147 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_147 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_147 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_147) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_147.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_147.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_147}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_147.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_147ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_147sOrComment_147sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_147 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_147 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_147), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_147.
			}
			WHERE {
					#...the theme of this Publish_147 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_147.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_147.
				?ev TBox:has-result_147 ?r.
				?ev rdf:type TBox:Evaluate_147.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_147 action is the theme of an Approve_147 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_147.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_147.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_147)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_147 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_147), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_147.
			}
			WHERE {
					#...the theme of this Publish_147 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_147.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_147.
				?ev TBox:has-result_147 ?r.
				?ev rdf:type TBox:Evaluate_147.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_147 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_147.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_147 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_147 action is no longer Prohibited (ExceptionArt3b_147), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_147.
			}
			WHERE {
					#...the theme of this Publish_147 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_147.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_147.
				?c TBox:is-comment-of_147 ?ev.
				?ev rdf:type TBox:Evaluate_147.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_147 of this Evaluation is the theme of a Publish_147ing action that is Permitted...
				?ev TBox:has-result_147 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_147.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_147), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_147), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_147 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_147 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_147.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_147.
				?ev TBox:has-result_147 ?r.
				?ev rdf:type TBox:Evaluate_147.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_147}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_147}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_147;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_147 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_147 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_147.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_147.
				?ev TBox:has-result_147 ?r.
				?ev rdf:type TBox:Evaluate_147.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_147}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_147}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_147).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_147 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_147 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_147.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_147.
				?c TBox:is-comment-of_147 ?ev.
				?ev rdf:type TBox:Evaluate_147.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_147 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_147}.
			}
			""";
	];

sh:targetClass TBox:Publish_147.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_148) the Licensee_148 has a Licence_148
###############################################################################################################################################
:evaluatingProduct_148sIsProhibitedUnlessLicence_148 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_148.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_148 action is not Prohibited (ExceptionArt1b_148), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_148 .
			}
			WHERE {
					#... the Product_148 has a Licence_148 which is the theme of a Grant_148 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_148.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_148.
				?l TBox:is-licence-of_148 ?p.
				?l rdf:type TBox:Licence_148.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_148.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_148.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_148 action is the same agent of the Evaluate_148 action.
				?eg TBox:has-receiver_148 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_148 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_148 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_148) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_148.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_148.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_148}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_148.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_148ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_148sOrComment_148sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_148 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_148 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_148), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_148.
			}
			WHERE {
					#...the theme of this Publish_148 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_148.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_148.
				?ev TBox:has-result_148 ?r.
				?ev rdf:type TBox:Evaluate_148.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_148 action is the theme of an Approve_148 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_148.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_148.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_148)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_148 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_148), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_148.
			}
			WHERE {
					#...the theme of this Publish_148 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_148.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_148.
				?ev TBox:has-result_148 ?r.
				?ev rdf:type TBox:Evaluate_148.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_148 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_148.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_148 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_148 action is no longer Prohibited (ExceptionArt3b_148), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_148.
			}
			WHERE {
					#...the theme of this Publish_148 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_148.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_148.
				?c TBox:is-comment-of_148 ?ev.
				?ev rdf:type TBox:Evaluate_148.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_148 of this Evaluation is the theme of a Publish_148ing action that is Permitted...
				?ev TBox:has-result_148 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_148.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_148), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_148), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_148 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_148 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_148.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_148.
				?ev TBox:has-result_148 ?r.
				?ev rdf:type TBox:Evaluate_148.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_148}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_148}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_148;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_148 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_148 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_148.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_148.
				?ev TBox:has-result_148 ?r.
				?ev rdf:type TBox:Evaluate_148.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_148}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_148}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_148).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_148 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_148 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_148.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_148.
				?c TBox:is-comment-of_148 ?ev.
				?ev rdf:type TBox:Evaluate_148.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_148 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_148}.
			}
			""";
	];

sh:targetClass TBox:Publish_148.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_149) the Licensee_149 has a Licence_149
###############################################################################################################################################
:evaluatingProduct_149sIsProhibitedUnlessLicence_149 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_149.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_149 action is not Prohibited (ExceptionArt1b_149), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_149 .
			}
			WHERE {
					#... the Product_149 has a Licence_149 which is the theme of a Grant_149 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_149.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_149.
				?l TBox:is-licence-of_149 ?p.
				?l rdf:type TBox:Licence_149.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_149.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_149.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_149 action is the same agent of the Evaluate_149 action.
				?eg TBox:has-receiver_149 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_149 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_149 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_149) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_149.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_149.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_149}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_149.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_149ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_149sOrComment_149sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_149 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_149 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_149), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_149.
			}
			WHERE {
					#...the theme of this Publish_149 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_149.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_149.
				?ev TBox:has-result_149 ?r.
				?ev rdf:type TBox:Evaluate_149.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_149 action is the theme of an Approve_149 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_149.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_149.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_149)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_149 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_149), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_149.
			}
			WHERE {
					#...the theme of this Publish_149 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_149.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_149.
				?ev TBox:has-result_149 ?r.
				?ev rdf:type TBox:Evaluate_149.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_149 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_149.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_149 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_149 action is no longer Prohibited (ExceptionArt3b_149), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_149.
			}
			WHERE {
					#...the theme of this Publish_149 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_149.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_149.
				?c TBox:is-comment-of_149 ?ev.
				?ev rdf:type TBox:Evaluate_149.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_149 of this Evaluation is the theme of a Publish_149ing action that is Permitted...
				?ev TBox:has-result_149 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_149.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_149), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_149), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_149 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_149 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_149.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_149.
				?ev TBox:has-result_149 ?r.
				?ev rdf:type TBox:Evaluate_149.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_149}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_149}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_149;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_149 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_149 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_149.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_149.
				?ev TBox:has-result_149 ?r.
				?ev rdf:type TBox:Evaluate_149.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_149}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_149}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_149).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_149 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_149 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_149.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_149.
				?c TBox:is-comment-of_149 ?ev.
				?ev rdf:type TBox:Evaluate_149.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_149 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_149}.
			}
			""";
	];

sh:targetClass TBox:Publish_149.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_150) the Licensee_150 has a Licence_150
###############################################################################################################################################
:evaluatingProduct_150sIsProhibitedUnlessLicence_150 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_150.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_150 action is not Prohibited (ExceptionArt1b_150), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_150 .
			}
			WHERE {
					#... the Product_150 has a Licence_150 which is the theme of a Grant_150 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_150.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_150.
				?l TBox:is-licence-of_150 ?p.
				?l rdf:type TBox:Licence_150.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_150.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_150.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_150 action is the same agent of the Evaluate_150 action.
				?eg TBox:has-receiver_150 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_150 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_150 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_150) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_150.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_150.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_150}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_150.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_150ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_150sOrComment_150sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_150 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_150 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_150), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_150.
			}
			WHERE {
					#...the theme of this Publish_150 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_150.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_150.
				?ev TBox:has-result_150 ?r.
				?ev rdf:type TBox:Evaluate_150.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_150 action is the theme of an Approve_150 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_150.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_150.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_150)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_150 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_150), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_150.
			}
			WHERE {
					#...the theme of this Publish_150 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_150.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_150.
				?ev TBox:has-result_150 ?r.
				?ev rdf:type TBox:Evaluate_150.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_150 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_150.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_150 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_150 action is no longer Prohibited (ExceptionArt3b_150), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_150.
			}
			WHERE {
					#...the theme of this Publish_150 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_150.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_150.
				?c TBox:is-comment-of_150 ?ev.
				?ev rdf:type TBox:Evaluate_150.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_150 of this Evaluation is the theme of a Publish_150ing action that is Permitted...
				?ev TBox:has-result_150 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_150.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_150), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_150), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_150 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_150 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_150.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_150.
				?ev TBox:has-result_150 ?r.
				?ev rdf:type TBox:Evaluate_150.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_150}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_150}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_150;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_150 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_150 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_150.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_150.
				?ev TBox:has-result_150 ?r.
				?ev rdf:type TBox:Evaluate_150.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_150}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_150}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_150).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_150 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_150 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_150.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_150.
				?c TBox:is-comment-of_150 ?ev.
				?ev rdf:type TBox:Evaluate_150.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_150 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_150}.
			}
			""";
	];

sh:targetClass TBox:Publish_150.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_151) the Licensee_151 has a Licence_151
###############################################################################################################################################
:evaluatingProduct_151sIsProhibitedUnlessLicence_151 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_151.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_151 action is not Prohibited (ExceptionArt1b_151), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_151 .
			}
			WHERE {
					#... the Product_151 has a Licence_151 which is the theme of a Grant_151 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_151.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_151.
				?l TBox:is-licence-of_151 ?p.
				?l rdf:type TBox:Licence_151.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_151.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_151.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_151 action is the same agent of the Evaluate_151 action.
				?eg TBox:has-receiver_151 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_151 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_151 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_151) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_151.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_151.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_151}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_151.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_151ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_151sOrComment_151sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_151 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_151 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_151), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_151.
			}
			WHERE {
					#...the theme of this Publish_151 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_151.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_151.
				?ev TBox:has-result_151 ?r.
				?ev rdf:type TBox:Evaluate_151.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_151 action is the theme of an Approve_151 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_151.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_151.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_151)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_151 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_151), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_151.
			}
			WHERE {
					#...the theme of this Publish_151 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_151.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_151.
				?ev TBox:has-result_151 ?r.
				?ev rdf:type TBox:Evaluate_151.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_151 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_151.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_151 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_151 action is no longer Prohibited (ExceptionArt3b_151), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_151.
			}
			WHERE {
					#...the theme of this Publish_151 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_151.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_151.
				?c TBox:is-comment-of_151 ?ev.
				?ev rdf:type TBox:Evaluate_151.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_151 of this Evaluation is the theme of a Publish_151ing action that is Permitted...
				?ev TBox:has-result_151 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_151.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_151), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_151), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_151 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_151 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_151.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_151.
				?ev TBox:has-result_151 ?r.
				?ev rdf:type TBox:Evaluate_151.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_151}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_151}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_151;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_151 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_151 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_151.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_151.
				?ev TBox:has-result_151 ?r.
				?ev rdf:type TBox:Evaluate_151.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_151}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_151}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_151).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_151 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_151 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_151.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_151.
				?c TBox:is-comment-of_151 ?ev.
				?ev rdf:type TBox:Evaluate_151.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_151 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_151}.
			}
			""";
	];

sh:targetClass TBox:Publish_151.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_152) the Licensee_152 has a Licence_152
###############################################################################################################################################
:evaluatingProduct_152sIsProhibitedUnlessLicence_152 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_152.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_152 action is not Prohibited (ExceptionArt1b_152), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_152 .
			}
			WHERE {
					#... the Product_152 has a Licence_152 which is the theme of a Grant_152 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_152.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_152.
				?l TBox:is-licence-of_152 ?p.
				?l rdf:type TBox:Licence_152.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_152.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_152.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_152 action is the same agent of the Evaluate_152 action.
				?eg TBox:has-receiver_152 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_152 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_152 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_152) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_152.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_152.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_152}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_152.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_152ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_152sOrComment_152sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_152 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_152 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_152), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_152.
			}
			WHERE {
					#...the theme of this Publish_152 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_152.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_152.
				?ev TBox:has-result_152 ?r.
				?ev rdf:type TBox:Evaluate_152.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_152 action is the theme of an Approve_152 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_152.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_152.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_152)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_152 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_152), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_152.
			}
			WHERE {
					#...the theme of this Publish_152 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_152.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_152.
				?ev TBox:has-result_152 ?r.
				?ev rdf:type TBox:Evaluate_152.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_152 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_152.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_152 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_152 action is no longer Prohibited (ExceptionArt3b_152), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_152.
			}
			WHERE {
					#...the theme of this Publish_152 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_152.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_152.
				?c TBox:is-comment-of_152 ?ev.
				?ev rdf:type TBox:Evaluate_152.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_152 of this Evaluation is the theme of a Publish_152ing action that is Permitted...
				?ev TBox:has-result_152 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_152.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_152), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_152), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_152 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_152 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_152.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_152.
				?ev TBox:has-result_152 ?r.
				?ev rdf:type TBox:Evaluate_152.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_152}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_152}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_152;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_152 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_152 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_152.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_152.
				?ev TBox:has-result_152 ?r.
				?ev rdf:type TBox:Evaluate_152.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_152}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_152}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_152).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_152 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_152 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_152.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_152.
				?c TBox:is-comment-of_152 ?ev.
				?ev rdf:type TBox:Evaluate_152.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_152 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_152}.
			}
			""";
	];

sh:targetClass TBox:Publish_152.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_153) the Licensee_153 has a Licence_153
###############################################################################################################################################
:evaluatingProduct_153sIsProhibitedUnlessLicence_153 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_153.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_153 action is not Prohibited (ExceptionArt1b_153), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_153 .
			}
			WHERE {
					#... the Product_153 has a Licence_153 which is the theme of a Grant_153 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_153.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_153.
				?l TBox:is-licence-of_153 ?p.
				?l rdf:type TBox:Licence_153.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_153.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_153.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_153 action is the same agent of the Evaluate_153 action.
				?eg TBox:has-receiver_153 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_153 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_153 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_153) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_153.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_153.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_153}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_153.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_153ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_153sOrComment_153sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_153 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_153 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_153), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_153.
			}
			WHERE {
					#...the theme of this Publish_153 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_153.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_153.
				?ev TBox:has-result_153 ?r.
				?ev rdf:type TBox:Evaluate_153.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_153 action is the theme of an Approve_153 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_153.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_153.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_153)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_153 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_153), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_153.
			}
			WHERE {
					#...the theme of this Publish_153 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_153.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_153.
				?ev TBox:has-result_153 ?r.
				?ev rdf:type TBox:Evaluate_153.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_153 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_153.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_153 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_153 action is no longer Prohibited (ExceptionArt3b_153), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_153.
			}
			WHERE {
					#...the theme of this Publish_153 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_153.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_153.
				?c TBox:is-comment-of_153 ?ev.
				?ev rdf:type TBox:Evaluate_153.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_153 of this Evaluation is the theme of a Publish_153ing action that is Permitted...
				?ev TBox:has-result_153 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_153.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_153), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_153), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_153 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_153 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_153.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_153.
				?ev TBox:has-result_153 ?r.
				?ev rdf:type TBox:Evaluate_153.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_153}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_153}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_153;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_153 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_153 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_153.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_153.
				?ev TBox:has-result_153 ?r.
				?ev rdf:type TBox:Evaluate_153.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_153}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_153}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_153).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_153 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_153 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_153.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_153.
				?c TBox:is-comment-of_153 ?ev.
				?ev rdf:type TBox:Evaluate_153.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_153 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_153}.
			}
			""";
	];

sh:targetClass TBox:Publish_153.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_154) the Licensee_154 has a Licence_154
###############################################################################################################################################
:evaluatingProduct_154sIsProhibitedUnlessLicence_154 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_154.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_154 action is not Prohibited (ExceptionArt1b_154), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_154 .
			}
			WHERE {
					#... the Product_154 has a Licence_154 which is the theme of a Grant_154 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_154.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_154.
				?l TBox:is-licence-of_154 ?p.
				?l rdf:type TBox:Licence_154.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_154.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_154.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_154 action is the same agent of the Evaluate_154 action.
				?eg TBox:has-receiver_154 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_154 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_154 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_154) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_154.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_154.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_154}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_154.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_154ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_154sOrComment_154sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_154 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_154 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_154), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_154.
			}
			WHERE {
					#...the theme of this Publish_154 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_154.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_154.
				?ev TBox:has-result_154 ?r.
				?ev rdf:type TBox:Evaluate_154.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_154 action is the theme of an Approve_154 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_154.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_154.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_154)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_154 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_154), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_154.
			}
			WHERE {
					#...the theme of this Publish_154 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_154.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_154.
				?ev TBox:has-result_154 ?r.
				?ev rdf:type TBox:Evaluate_154.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_154 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_154.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_154 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_154 action is no longer Prohibited (ExceptionArt3b_154), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_154.
			}
			WHERE {
					#...the theme of this Publish_154 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_154.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_154.
				?c TBox:is-comment-of_154 ?ev.
				?ev rdf:type TBox:Evaluate_154.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_154 of this Evaluation is the theme of a Publish_154ing action that is Permitted...
				?ev TBox:has-result_154 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_154.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_154), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_154), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_154 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_154 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_154.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_154.
				?ev TBox:has-result_154 ?r.
				?ev rdf:type TBox:Evaluate_154.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_154}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_154}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_154;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_154 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_154 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_154.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_154.
				?ev TBox:has-result_154 ?r.
				?ev rdf:type TBox:Evaluate_154.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_154}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_154}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_154).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_154 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_154 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_154.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_154.
				?c TBox:is-comment-of_154 ?ev.
				?ev rdf:type TBox:Evaluate_154.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_154 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_154}.
			}
			""";
	];

sh:targetClass TBox:Publish_154.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_155) the Licensee_155 has a Licence_155
###############################################################################################################################################
:evaluatingProduct_155sIsProhibitedUnlessLicence_155 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_155.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_155 action is not Prohibited (ExceptionArt1b_155), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_155 .
			}
			WHERE {
					#... the Product_155 has a Licence_155 which is the theme of a Grant_155 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_155.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_155.
				?l TBox:is-licence-of_155 ?p.
				?l rdf:type TBox:Licence_155.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_155.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_155.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_155 action is the same agent of the Evaluate_155 action.
				?eg TBox:has-receiver_155 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_155 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_155 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_155) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_155.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_155.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_155}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_155.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_155ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_155sOrComment_155sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_155 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_155 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_155), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_155.
			}
			WHERE {
					#...the theme of this Publish_155 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_155.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_155.
				?ev TBox:has-result_155 ?r.
				?ev rdf:type TBox:Evaluate_155.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_155 action is the theme of an Approve_155 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_155.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_155.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_155)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_155 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_155), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_155.
			}
			WHERE {
					#...the theme of this Publish_155 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_155.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_155.
				?ev TBox:has-result_155 ?r.
				?ev rdf:type TBox:Evaluate_155.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_155 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_155.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_155 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_155 action is no longer Prohibited (ExceptionArt3b_155), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_155.
			}
			WHERE {
					#...the theme of this Publish_155 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_155.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_155.
				?c TBox:is-comment-of_155 ?ev.
				?ev rdf:type TBox:Evaluate_155.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_155 of this Evaluation is the theme of a Publish_155ing action that is Permitted...
				?ev TBox:has-result_155 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_155.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_155), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_155), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_155 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_155 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_155.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_155.
				?ev TBox:has-result_155 ?r.
				?ev rdf:type TBox:Evaluate_155.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_155}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_155}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_155;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_155 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_155 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_155.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_155.
				?ev TBox:has-result_155 ?r.
				?ev rdf:type TBox:Evaluate_155.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_155}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_155}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_155).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_155 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_155 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_155.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_155.
				?c TBox:is-comment-of_155 ?ev.
				?ev rdf:type TBox:Evaluate_155.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_155 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_155}.
			}
			""";
	];

sh:targetClass TBox:Publish_155.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_156) the Licensee_156 has a Licence_156
###############################################################################################################################################
:evaluatingProduct_156sIsProhibitedUnlessLicence_156 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_156.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_156 action is not Prohibited (ExceptionArt1b_156), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_156 .
			}
			WHERE {
					#... the Product_156 has a Licence_156 which is the theme of a Grant_156 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_156.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_156.
				?l TBox:is-licence-of_156 ?p.
				?l rdf:type TBox:Licence_156.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_156.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_156.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_156 action is the same agent of the Evaluate_156 action.
				?eg TBox:has-receiver_156 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_156 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_156 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_156) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_156.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_156.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_156}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_156.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_156ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_156sOrComment_156sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_156 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_156 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_156), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_156.
			}
			WHERE {
					#...the theme of this Publish_156 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_156.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_156.
				?ev TBox:has-result_156 ?r.
				?ev rdf:type TBox:Evaluate_156.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_156 action is the theme of an Approve_156 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_156.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_156.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_156)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_156 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_156), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_156.
			}
			WHERE {
					#...the theme of this Publish_156 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_156.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_156.
				?ev TBox:has-result_156 ?r.
				?ev rdf:type TBox:Evaluate_156.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_156 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_156.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_156 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_156 action is no longer Prohibited (ExceptionArt3b_156), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_156.
			}
			WHERE {
					#...the theme of this Publish_156 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_156.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_156.
				?c TBox:is-comment-of_156 ?ev.
				?ev rdf:type TBox:Evaluate_156.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_156 of this Evaluation is the theme of a Publish_156ing action that is Permitted...
				?ev TBox:has-result_156 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_156.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_156), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_156), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_156 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_156 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_156.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_156.
				?ev TBox:has-result_156 ?r.
				?ev rdf:type TBox:Evaluate_156.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_156}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_156}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_156;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_156 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_156 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_156.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_156.
				?ev TBox:has-result_156 ?r.
				?ev rdf:type TBox:Evaluate_156.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_156}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_156}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_156).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_156 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_156 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_156.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_156.
				?c TBox:is-comment-of_156 ?ev.
				?ev rdf:type TBox:Evaluate_156.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_156 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_156}.
			}
			""";
	];

sh:targetClass TBox:Publish_156.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_157) the Licensee_157 has a Licence_157
###############################################################################################################################################
:evaluatingProduct_157sIsProhibitedUnlessLicence_157 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_157.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_157 action is not Prohibited (ExceptionArt1b_157), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_157 .
			}
			WHERE {
					#... the Product_157 has a Licence_157 which is the theme of a Grant_157 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_157.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_157.
				?l TBox:is-licence-of_157 ?p.
				?l rdf:type TBox:Licence_157.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_157.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_157.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_157 action is the same agent of the Evaluate_157 action.
				?eg TBox:has-receiver_157 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_157 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_157 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_157) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_157.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_157.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_157}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_157.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_157ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_157sOrComment_157sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_157 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_157 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_157), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_157.
			}
			WHERE {
					#...the theme of this Publish_157 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_157.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_157.
				?ev TBox:has-result_157 ?r.
				?ev rdf:type TBox:Evaluate_157.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_157 action is the theme of an Approve_157 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_157.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_157.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_157)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_157 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_157), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_157.
			}
			WHERE {
					#...the theme of this Publish_157 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_157.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_157.
				?ev TBox:has-result_157 ?r.
				?ev rdf:type TBox:Evaluate_157.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_157 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_157.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_157 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_157 action is no longer Prohibited (ExceptionArt3b_157), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_157.
			}
			WHERE {
					#...the theme of this Publish_157 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_157.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_157.
				?c TBox:is-comment-of_157 ?ev.
				?ev rdf:type TBox:Evaluate_157.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_157 of this Evaluation is the theme of a Publish_157ing action that is Permitted...
				?ev TBox:has-result_157 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_157.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_157), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_157), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_157 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_157 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_157.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_157.
				?ev TBox:has-result_157 ?r.
				?ev rdf:type TBox:Evaluate_157.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_157}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_157}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_157;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_157 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_157 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_157.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_157.
				?ev TBox:has-result_157 ?r.
				?ev rdf:type TBox:Evaluate_157.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_157}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_157}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_157).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_157 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_157 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_157.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_157.
				?c TBox:is-comment-of_157 ?ev.
				?ev rdf:type TBox:Evaluate_157.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_157 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_157}.
			}
			""";
	];

sh:targetClass TBox:Publish_157.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_158) the Licensee_158 has a Licence_158
###############################################################################################################################################
:evaluatingProduct_158sIsProhibitedUnlessLicence_158 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_158.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_158 action is not Prohibited (ExceptionArt1b_158), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_158 .
			}
			WHERE {
					#... the Product_158 has a Licence_158 which is the theme of a Grant_158 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_158.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_158.
				?l TBox:is-licence-of_158 ?p.
				?l rdf:type TBox:Licence_158.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_158.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_158.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_158 action is the same agent of the Evaluate_158 action.
				?eg TBox:has-receiver_158 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_158 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_158 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_158) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_158.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_158.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_158}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_158.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_158ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_158sOrComment_158sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_158 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_158 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_158), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_158.
			}
			WHERE {
					#...the theme of this Publish_158 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_158.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_158.
				?ev TBox:has-result_158 ?r.
				?ev rdf:type TBox:Evaluate_158.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_158 action is the theme of an Approve_158 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_158.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_158.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_158)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_158 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_158), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_158.
			}
			WHERE {
					#...the theme of this Publish_158 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_158.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_158.
				?ev TBox:has-result_158 ?r.
				?ev rdf:type TBox:Evaluate_158.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_158 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_158.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_158 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_158 action is no longer Prohibited (ExceptionArt3b_158), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_158.
			}
			WHERE {
					#...the theme of this Publish_158 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_158.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_158.
				?c TBox:is-comment-of_158 ?ev.
				?ev rdf:type TBox:Evaluate_158.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_158 of this Evaluation is the theme of a Publish_158ing action that is Permitted...
				?ev TBox:has-result_158 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_158.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_158), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_158), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_158 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_158 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_158.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_158.
				?ev TBox:has-result_158 ?r.
				?ev rdf:type TBox:Evaluate_158.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_158}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_158}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_158;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_158 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_158 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_158.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_158.
				?ev TBox:has-result_158 ?r.
				?ev rdf:type TBox:Evaluate_158.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_158}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_158}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_158).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_158 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_158 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_158.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_158.
				?c TBox:is-comment-of_158 ?ev.
				?ev rdf:type TBox:Evaluate_158.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_158 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_158}.
			}
			""";
	];

sh:targetClass TBox:Publish_158.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_159) the Licensee_159 has a Licence_159
###############################################################################################################################################
:evaluatingProduct_159sIsProhibitedUnlessLicence_159 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_159.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_159 action is not Prohibited (ExceptionArt1b_159), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_159 .
			}
			WHERE {
					#... the Product_159 has a Licence_159 which is the theme of a Grant_159 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_159.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_159.
				?l TBox:is-licence-of_159 ?p.
				?l rdf:type TBox:Licence_159.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_159.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_159.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_159 action is the same agent of the Evaluate_159 action.
				?eg TBox:has-receiver_159 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_159 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_159 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_159) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_159.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_159.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_159}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_159.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_159ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_159sOrComment_159sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_159 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_159 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_159), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_159.
			}
			WHERE {
					#...the theme of this Publish_159 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_159.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_159.
				?ev TBox:has-result_159 ?r.
				?ev rdf:type TBox:Evaluate_159.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_159 action is the theme of an Approve_159 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_159.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_159.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_159)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_159 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_159), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_159.
			}
			WHERE {
					#...the theme of this Publish_159 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_159.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_159.
				?ev TBox:has-result_159 ?r.
				?ev rdf:type TBox:Evaluate_159.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_159 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_159.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_159 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_159 action is no longer Prohibited (ExceptionArt3b_159), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_159.
			}
			WHERE {
					#...the theme of this Publish_159 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_159.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_159.
				?c TBox:is-comment-of_159 ?ev.
				?ev rdf:type TBox:Evaluate_159.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_159 of this Evaluation is the theme of a Publish_159ing action that is Permitted...
				?ev TBox:has-result_159 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_159.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_159), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_159), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_159 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_159 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_159.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_159.
				?ev TBox:has-result_159 ?r.
				?ev rdf:type TBox:Evaluate_159.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_159}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_159}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_159;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_159 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_159 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_159.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_159.
				?ev TBox:has-result_159 ?r.
				?ev rdf:type TBox:Evaluate_159.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_159}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_159}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_159).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_159 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_159 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_159.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_159.
				?c TBox:is-comment-of_159 ?ev.
				?ev rdf:type TBox:Evaluate_159.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_159 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_159}.
			}
			""";
	];

sh:targetClass TBox:Publish_159.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_160) the Licensee_160 has a Licence_160
###############################################################################################################################################
:evaluatingProduct_160sIsProhibitedUnlessLicence_160 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_160.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_160 action is not Prohibited (ExceptionArt1b_160), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_160 .
			}
			WHERE {
					#... the Product_160 has a Licence_160 which is the theme of a Grant_160 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_160.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_160.
				?l TBox:is-licence-of_160 ?p.
				?l rdf:type TBox:Licence_160.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_160.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_160.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_160 action is the same agent of the Evaluate_160 action.
				?eg TBox:has-receiver_160 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_160 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_160 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_160) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_160.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_160.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_160}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_160.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_160ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_160sOrComment_160sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_160 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_160 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_160), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_160.
			}
			WHERE {
					#...the theme of this Publish_160 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_160.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_160.
				?ev TBox:has-result_160 ?r.
				?ev rdf:type TBox:Evaluate_160.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_160 action is the theme of an Approve_160 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_160.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_160.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_160)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_160 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_160), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_160.
			}
			WHERE {
					#...the theme of this Publish_160 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_160.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_160.
				?ev TBox:has-result_160 ?r.
				?ev rdf:type TBox:Evaluate_160.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_160 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_160.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_160 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_160 action is no longer Prohibited (ExceptionArt3b_160), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_160.
			}
			WHERE {
					#...the theme of this Publish_160 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_160.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_160.
				?c TBox:is-comment-of_160 ?ev.
				?ev rdf:type TBox:Evaluate_160.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_160 of this Evaluation is the theme of a Publish_160ing action that is Permitted...
				?ev TBox:has-result_160 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_160.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_160), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_160), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_160 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_160 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_160.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_160.
				?ev TBox:has-result_160 ?r.
				?ev rdf:type TBox:Evaluate_160.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_160}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_160}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_160;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_160 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_160 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_160.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_160.
				?ev TBox:has-result_160 ?r.
				?ev rdf:type TBox:Evaluate_160.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_160}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_160}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_160).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_160 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_160 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_160.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_160.
				?c TBox:is-comment-of_160 ?ev.
				?ev rdf:type TBox:Evaluate_160.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_160 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_160}.
			}
			""";
	];

sh:targetClass TBox:Publish_160.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_161) the Licensee_161 has a Licence_161
###############################################################################################################################################
:evaluatingProduct_161sIsProhibitedUnlessLicence_161 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_161.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_161 action is not Prohibited (ExceptionArt1b_161), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_161 .
			}
			WHERE {
					#... the Product_161 has a Licence_161 which is the theme of a Grant_161 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_161.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_161.
				?l TBox:is-licence-of_161 ?p.
				?l rdf:type TBox:Licence_161.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_161.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_161.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_161 action is the same agent of the Evaluate_161 action.
				?eg TBox:has-receiver_161 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_161 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_161 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_161) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_161.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_161.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_161}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_161.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_161ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_161sOrComment_161sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_161 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_161 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_161), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_161.
			}
			WHERE {
					#...the theme of this Publish_161 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_161.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_161.
				?ev TBox:has-result_161 ?r.
				?ev rdf:type TBox:Evaluate_161.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_161 action is the theme of an Approve_161 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_161.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_161.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_161)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_161 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_161), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_161.
			}
			WHERE {
					#...the theme of this Publish_161 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_161.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_161.
				?ev TBox:has-result_161 ?r.
				?ev rdf:type TBox:Evaluate_161.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_161 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_161.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_161 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_161 action is no longer Prohibited (ExceptionArt3b_161), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_161.
			}
			WHERE {
					#...the theme of this Publish_161 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_161.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_161.
				?c TBox:is-comment-of_161 ?ev.
				?ev rdf:type TBox:Evaluate_161.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_161 of this Evaluation is the theme of a Publish_161ing action that is Permitted...
				?ev TBox:has-result_161 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_161.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_161), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_161), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_161 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_161 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_161.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_161.
				?ev TBox:has-result_161 ?r.
				?ev rdf:type TBox:Evaluate_161.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_161}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_161}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_161;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_161 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_161 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_161.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_161.
				?ev TBox:has-result_161 ?r.
				?ev rdf:type TBox:Evaluate_161.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_161}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_161}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_161).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_161 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_161 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_161.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_161.
				?c TBox:is-comment-of_161 ?ev.
				?ev rdf:type TBox:Evaluate_161.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_161 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_161}.
			}
			""";
	];

sh:targetClass TBox:Publish_161.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_162) the Licensee_162 has a Licence_162
###############################################################################################################################################
:evaluatingProduct_162sIsProhibitedUnlessLicence_162 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_162.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_162 action is not Prohibited (ExceptionArt1b_162), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_162 .
			}
			WHERE {
					#... the Product_162 has a Licence_162 which is the theme of a Grant_162 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_162.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_162.
				?l TBox:is-licence-of_162 ?p.
				?l rdf:type TBox:Licence_162.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_162.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_162.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_162 action is the same agent of the Evaluate_162 action.
				?eg TBox:has-receiver_162 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_162 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_162 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_162) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_162.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_162.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_162}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_162.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_162ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_162sOrComment_162sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_162 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_162 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_162), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_162.
			}
			WHERE {
					#...the theme of this Publish_162 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_162.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_162.
				?ev TBox:has-result_162 ?r.
				?ev rdf:type TBox:Evaluate_162.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_162 action is the theme of an Approve_162 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_162.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_162.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_162)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_162 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_162), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_162.
			}
			WHERE {
					#...the theme of this Publish_162 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_162.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_162.
				?ev TBox:has-result_162 ?r.
				?ev rdf:type TBox:Evaluate_162.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_162 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_162.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_162 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_162 action is no longer Prohibited (ExceptionArt3b_162), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_162.
			}
			WHERE {
					#...the theme of this Publish_162 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_162.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_162.
				?c TBox:is-comment-of_162 ?ev.
				?ev rdf:type TBox:Evaluate_162.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_162 of this Evaluation is the theme of a Publish_162ing action that is Permitted...
				?ev TBox:has-result_162 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_162.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_162), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_162), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_162 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_162 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_162.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_162.
				?ev TBox:has-result_162 ?r.
				?ev rdf:type TBox:Evaluate_162.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_162}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_162}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_162;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_162 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_162 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_162.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_162.
				?ev TBox:has-result_162 ?r.
				?ev rdf:type TBox:Evaluate_162.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_162}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_162}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_162).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_162 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_162 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_162.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_162.
				?c TBox:is-comment-of_162 ?ev.
				?ev rdf:type TBox:Evaluate_162.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_162 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_162}.
			}
			""";
	];

sh:targetClass TBox:Publish_162.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_163) the Licensee_163 has a Licence_163
###############################################################################################################################################
:evaluatingProduct_163sIsProhibitedUnlessLicence_163 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_163.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_163 action is not Prohibited (ExceptionArt1b_163), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_163 .
			}
			WHERE {
					#... the Product_163 has a Licence_163 which is the theme of a Grant_163 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_163.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_163.
				?l TBox:is-licence-of_163 ?p.
				?l rdf:type TBox:Licence_163.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_163.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_163.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_163 action is the same agent of the Evaluate_163 action.
				?eg TBox:has-receiver_163 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_163 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_163 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_163) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_163.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_163.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_163}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_163.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_163ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_163sOrComment_163sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_163 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_163 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_163), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_163.
			}
			WHERE {
					#...the theme of this Publish_163 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_163.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_163.
				?ev TBox:has-result_163 ?r.
				?ev rdf:type TBox:Evaluate_163.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_163 action is the theme of an Approve_163 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_163.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_163.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_163)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_163 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_163), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_163.
			}
			WHERE {
					#...the theme of this Publish_163 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_163.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_163.
				?ev TBox:has-result_163 ?r.
				?ev rdf:type TBox:Evaluate_163.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_163 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_163.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_163 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_163 action is no longer Prohibited (ExceptionArt3b_163), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_163.
			}
			WHERE {
					#...the theme of this Publish_163 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_163.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_163.
				?c TBox:is-comment-of_163 ?ev.
				?ev rdf:type TBox:Evaluate_163.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_163 of this Evaluation is the theme of a Publish_163ing action that is Permitted...
				?ev TBox:has-result_163 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_163.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_163), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_163), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_163 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_163 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_163.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_163.
				?ev TBox:has-result_163 ?r.
				?ev rdf:type TBox:Evaluate_163.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_163}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_163}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_163;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_163 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_163 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_163.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_163.
				?ev TBox:has-result_163 ?r.
				?ev rdf:type TBox:Evaluate_163.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_163}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_163}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_163).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_163 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_163 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_163.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_163.
				?c TBox:is-comment-of_163 ?ev.
				?ev rdf:type TBox:Evaluate_163.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_163 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_163}.
			}
			""";
	];

sh:targetClass TBox:Publish_163.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_164) the Licensee_164 has a Licence_164
###############################################################################################################################################
:evaluatingProduct_164sIsProhibitedUnlessLicence_164 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_164.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_164 action is not Prohibited (ExceptionArt1b_164), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_164 .
			}
			WHERE {
					#... the Product_164 has a Licence_164 which is the theme of a Grant_164 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_164.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_164.
				?l TBox:is-licence-of_164 ?p.
				?l rdf:type TBox:Licence_164.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_164.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_164.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_164 action is the same agent of the Evaluate_164 action.
				?eg TBox:has-receiver_164 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_164 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_164 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_164) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_164.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_164.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_164}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_164.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_164ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_164sOrComment_164sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_164 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_164 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_164), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_164.
			}
			WHERE {
					#...the theme of this Publish_164 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_164.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_164.
				?ev TBox:has-result_164 ?r.
				?ev rdf:type TBox:Evaluate_164.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_164 action is the theme of an Approve_164 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_164.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_164.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_164)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_164 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_164), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_164.
			}
			WHERE {
					#...the theme of this Publish_164 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_164.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_164.
				?ev TBox:has-result_164 ?r.
				?ev rdf:type TBox:Evaluate_164.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_164 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_164.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_164 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_164 action is no longer Prohibited (ExceptionArt3b_164), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_164.
			}
			WHERE {
					#...the theme of this Publish_164 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_164.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_164.
				?c TBox:is-comment-of_164 ?ev.
				?ev rdf:type TBox:Evaluate_164.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_164 of this Evaluation is the theme of a Publish_164ing action that is Permitted...
				?ev TBox:has-result_164 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_164.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_164), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_164), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_164 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_164 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_164.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_164.
				?ev TBox:has-result_164 ?r.
				?ev rdf:type TBox:Evaluate_164.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_164}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_164}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_164;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_164 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_164 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_164.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_164.
				?ev TBox:has-result_164 ?r.
				?ev rdf:type TBox:Evaluate_164.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_164}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_164}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_164).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_164 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_164 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_164.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_164.
				?c TBox:is-comment-of_164 ?ev.
				?ev rdf:type TBox:Evaluate_164.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_164 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_164}.
			}
			""";
	];

sh:targetClass TBox:Publish_164.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_165) the Licensee_165 has a Licence_165
###############################################################################################################################################
:evaluatingProduct_165sIsProhibitedUnlessLicence_165 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_165.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_165 action is not Prohibited (ExceptionArt1b_165), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_165 .
			}
			WHERE {
					#... the Product_165 has a Licence_165 which is the theme of a Grant_165 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_165.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_165.
				?l TBox:is-licence-of_165 ?p.
				?l rdf:type TBox:Licence_165.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_165.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_165.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_165 action is the same agent of the Evaluate_165 action.
				?eg TBox:has-receiver_165 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_165 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_165 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_165) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_165.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_165.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_165}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_165.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_165ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_165sOrComment_165sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_165 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_165 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_165), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_165.
			}
			WHERE {
					#...the theme of this Publish_165 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_165.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_165.
				?ev TBox:has-result_165 ?r.
				?ev rdf:type TBox:Evaluate_165.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_165 action is the theme of an Approve_165 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_165.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_165.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_165)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_165 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_165), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_165.
			}
			WHERE {
					#...the theme of this Publish_165 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_165.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_165.
				?ev TBox:has-result_165 ?r.
				?ev rdf:type TBox:Evaluate_165.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_165 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_165.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_165 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_165 action is no longer Prohibited (ExceptionArt3b_165), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_165.
			}
			WHERE {
					#...the theme of this Publish_165 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_165.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_165.
				?c TBox:is-comment-of_165 ?ev.
				?ev rdf:type TBox:Evaluate_165.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_165 of this Evaluation is the theme of a Publish_165ing action that is Permitted...
				?ev TBox:has-result_165 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_165.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_165), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_165), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_165 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_165 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_165.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_165.
				?ev TBox:has-result_165 ?r.
				?ev rdf:type TBox:Evaluate_165.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_165}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_165}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_165;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_165 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_165 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_165.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_165.
				?ev TBox:has-result_165 ?r.
				?ev rdf:type TBox:Evaluate_165.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_165}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_165}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_165).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_165 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_165 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_165.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_165.
				?c TBox:is-comment-of_165 ?ev.
				?ev rdf:type TBox:Evaluate_165.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_165 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_165}.
			}
			""";
	];

sh:targetClass TBox:Publish_165.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_166) the Licensee_166 has a Licence_166
###############################################################################################################################################
:evaluatingProduct_166sIsProhibitedUnlessLicence_166 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_166.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_166 action is not Prohibited (ExceptionArt1b_166), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_166 .
			}
			WHERE {
					#... the Product_166 has a Licence_166 which is the theme of a Grant_166 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_166.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_166.
				?l TBox:is-licence-of_166 ?p.
				?l rdf:type TBox:Licence_166.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_166.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_166.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_166 action is the same agent of the Evaluate_166 action.
				?eg TBox:has-receiver_166 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_166 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_166 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_166) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_166.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_166.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_166}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_166.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_166ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_166sOrComment_166sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_166 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_166 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_166), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_166.
			}
			WHERE {
					#...the theme of this Publish_166 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_166.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_166.
				?ev TBox:has-result_166 ?r.
				?ev rdf:type TBox:Evaluate_166.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_166 action is the theme of an Approve_166 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_166.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_166.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_166)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_166 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_166), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_166.
			}
			WHERE {
					#...the theme of this Publish_166 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_166.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_166.
				?ev TBox:has-result_166 ?r.
				?ev rdf:type TBox:Evaluate_166.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_166 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_166.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_166 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_166 action is no longer Prohibited (ExceptionArt3b_166), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_166.
			}
			WHERE {
					#...the theme of this Publish_166 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_166.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_166.
				?c TBox:is-comment-of_166 ?ev.
				?ev rdf:type TBox:Evaluate_166.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_166 of this Evaluation is the theme of a Publish_166ing action that is Permitted...
				?ev TBox:has-result_166 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_166.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_166), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_166), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_166 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_166 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_166.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_166.
				?ev TBox:has-result_166 ?r.
				?ev rdf:type TBox:Evaluate_166.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_166}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_166}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_166;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_166 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_166 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_166.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_166.
				?ev TBox:has-result_166 ?r.
				?ev rdf:type TBox:Evaluate_166.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_166}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_166}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_166).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_166 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_166 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_166.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_166.
				?c TBox:is-comment-of_166 ?ev.
				?ev rdf:type TBox:Evaluate_166.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_166 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_166}.
			}
			""";
	];

sh:targetClass TBox:Publish_166.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_167) the Licensee_167 has a Licence_167
###############################################################################################################################################
:evaluatingProduct_167sIsProhibitedUnlessLicence_167 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_167.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_167 action is not Prohibited (ExceptionArt1b_167), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_167 .
			}
			WHERE {
					#... the Product_167 has a Licence_167 which is the theme of a Grant_167 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_167.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_167.
				?l TBox:is-licence-of_167 ?p.
				?l rdf:type TBox:Licence_167.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_167.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_167.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_167 action is the same agent of the Evaluate_167 action.
				?eg TBox:has-receiver_167 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_167 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_167 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_167) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_167.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_167.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_167}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_167.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_167ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_167sOrComment_167sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_167 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_167 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_167), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_167.
			}
			WHERE {
					#...the theme of this Publish_167 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_167.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_167.
				?ev TBox:has-result_167 ?r.
				?ev rdf:type TBox:Evaluate_167.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_167 action is the theme of an Approve_167 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_167.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_167.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_167)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_167 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_167), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_167.
			}
			WHERE {
					#...the theme of this Publish_167 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_167.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_167.
				?ev TBox:has-result_167 ?r.
				?ev rdf:type TBox:Evaluate_167.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_167 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_167.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_167 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_167 action is no longer Prohibited (ExceptionArt3b_167), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_167.
			}
			WHERE {
					#...the theme of this Publish_167 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_167.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_167.
				?c TBox:is-comment-of_167 ?ev.
				?ev rdf:type TBox:Evaluate_167.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_167 of this Evaluation is the theme of a Publish_167ing action that is Permitted...
				?ev TBox:has-result_167 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_167.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_167), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_167), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_167 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_167 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_167.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_167.
				?ev TBox:has-result_167 ?r.
				?ev rdf:type TBox:Evaluate_167.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_167}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_167}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_167;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_167 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_167 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_167.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_167.
				?ev TBox:has-result_167 ?r.
				?ev rdf:type TBox:Evaluate_167.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_167}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_167}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_167).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_167 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_167 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_167.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_167.
				?c TBox:is-comment-of_167 ?ev.
				?ev rdf:type TBox:Evaluate_167.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_167 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_167}.
			}
			""";
	];

sh:targetClass TBox:Publish_167.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_168) the Licensee_168 has a Licence_168
###############################################################################################################################################
:evaluatingProduct_168sIsProhibitedUnlessLicence_168 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_168.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_168 action is not Prohibited (ExceptionArt1b_168), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_168 .
			}
			WHERE {
					#... the Product_168 has a Licence_168 which is the theme of a Grant_168 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_168.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_168.
				?l TBox:is-licence-of_168 ?p.
				?l rdf:type TBox:Licence_168.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_168.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_168.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_168 action is the same agent of the Evaluate_168 action.
				?eg TBox:has-receiver_168 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_168 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_168 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_168) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_168.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_168.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_168}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_168.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_168ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_168sOrComment_168sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_168 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_168 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_168), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_168.
			}
			WHERE {
					#...the theme of this Publish_168 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_168.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_168.
				?ev TBox:has-result_168 ?r.
				?ev rdf:type TBox:Evaluate_168.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_168 action is the theme of an Approve_168 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_168.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_168.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_168)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_168 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_168), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_168.
			}
			WHERE {
					#...the theme of this Publish_168 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_168.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_168.
				?ev TBox:has-result_168 ?r.
				?ev rdf:type TBox:Evaluate_168.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_168 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_168.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_168 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_168 action is no longer Prohibited (ExceptionArt3b_168), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_168.
			}
			WHERE {
					#...the theme of this Publish_168 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_168.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_168.
				?c TBox:is-comment-of_168 ?ev.
				?ev rdf:type TBox:Evaluate_168.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_168 of this Evaluation is the theme of a Publish_168ing action that is Permitted...
				?ev TBox:has-result_168 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_168.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_168), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_168), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_168 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_168 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_168.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_168.
				?ev TBox:has-result_168 ?r.
				?ev rdf:type TBox:Evaluate_168.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_168}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_168}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_168;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_168 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_168 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_168.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_168.
				?ev TBox:has-result_168 ?r.
				?ev rdf:type TBox:Evaluate_168.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_168}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_168}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_168).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_168 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_168 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_168.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_168.
				?c TBox:is-comment-of_168 ?ev.
				?ev rdf:type TBox:Evaluate_168.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_168 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_168}.
			}
			""";
	];

sh:targetClass TBox:Publish_168.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_169) the Licensee_169 has a Licence_169
###############################################################################################################################################
:evaluatingProduct_169sIsProhibitedUnlessLicence_169 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_169.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_169 action is not Prohibited (ExceptionArt1b_169), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_169 .
			}
			WHERE {
					#... the Product_169 has a Licence_169 which is the theme of a Grant_169 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_169.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_169.
				?l TBox:is-licence-of_169 ?p.
				?l rdf:type TBox:Licence_169.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_169.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_169.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_169 action is the same agent of the Evaluate_169 action.
				?eg TBox:has-receiver_169 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_169 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_169 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_169) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_169.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_169.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_169}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_169.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_169ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_169sOrComment_169sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_169 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_169 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_169), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_169.
			}
			WHERE {
					#...the theme of this Publish_169 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_169.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_169.
				?ev TBox:has-result_169 ?r.
				?ev rdf:type TBox:Evaluate_169.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_169 action is the theme of an Approve_169 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_169.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_169.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_169)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_169 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_169), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_169.
			}
			WHERE {
					#...the theme of this Publish_169 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_169.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_169.
				?ev TBox:has-result_169 ?r.
				?ev rdf:type TBox:Evaluate_169.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_169 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_169.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_169 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_169 action is no longer Prohibited (ExceptionArt3b_169), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_169.
			}
			WHERE {
					#...the theme of this Publish_169 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_169.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_169.
				?c TBox:is-comment-of_169 ?ev.
				?ev rdf:type TBox:Evaluate_169.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_169 of this Evaluation is the theme of a Publish_169ing action that is Permitted...
				?ev TBox:has-result_169 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_169.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_169), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_169), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_169 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_169 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_169.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_169.
				?ev TBox:has-result_169 ?r.
				?ev rdf:type TBox:Evaluate_169.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_169}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_169}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_169;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_169 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_169 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_169.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_169.
				?ev TBox:has-result_169 ?r.
				?ev rdf:type TBox:Evaluate_169.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_169}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_169}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_169).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_169 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_169 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_169.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_169.
				?c TBox:is-comment-of_169 ?ev.
				?ev rdf:type TBox:Evaluate_169.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_169 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_169}.
			}
			""";
	];

sh:targetClass TBox:Publish_169.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_170) the Licensee_170 has a Licence_170
###############################################################################################################################################
:evaluatingProduct_170sIsProhibitedUnlessLicence_170 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_170.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_170 action is not Prohibited (ExceptionArt1b_170), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_170 .
			}
			WHERE {
					#... the Product_170 has a Licence_170 which is the theme of a Grant_170 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_170.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_170.
				?l TBox:is-licence-of_170 ?p.
				?l rdf:type TBox:Licence_170.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_170.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_170.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_170 action is the same agent of the Evaluate_170 action.
				?eg TBox:has-receiver_170 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_170 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_170 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_170) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_170.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_170.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_170}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_170.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_170ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_170sOrComment_170sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_170 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_170 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_170), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_170.
			}
			WHERE {
					#...the theme of this Publish_170 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_170.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_170.
				?ev TBox:has-result_170 ?r.
				?ev rdf:type TBox:Evaluate_170.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_170 action is the theme of an Approve_170 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_170.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_170.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_170)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_170 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_170), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_170.
			}
			WHERE {
					#...the theme of this Publish_170 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_170.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_170.
				?ev TBox:has-result_170 ?r.
				?ev rdf:type TBox:Evaluate_170.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_170 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_170.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_170 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_170 action is no longer Prohibited (ExceptionArt3b_170), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_170.
			}
			WHERE {
					#...the theme of this Publish_170 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_170.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_170.
				?c TBox:is-comment-of_170 ?ev.
				?ev rdf:type TBox:Evaluate_170.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_170 of this Evaluation is the theme of a Publish_170ing action that is Permitted...
				?ev TBox:has-result_170 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_170.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_170), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_170), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_170 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_170 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_170.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_170.
				?ev TBox:has-result_170 ?r.
				?ev rdf:type TBox:Evaluate_170.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_170}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_170}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_170;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_170 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_170 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_170.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_170.
				?ev TBox:has-result_170 ?r.
				?ev rdf:type TBox:Evaluate_170.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_170}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_170}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_170).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_170 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_170 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_170.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_170.
				?c TBox:is-comment-of_170 ?ev.
				?ev rdf:type TBox:Evaluate_170.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_170 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_170}.
			}
			""";
	];

sh:targetClass TBox:Publish_170.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_171) the Licensee_171 has a Licence_171
###############################################################################################################################################
:evaluatingProduct_171sIsProhibitedUnlessLicence_171 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_171.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_171 action is not Prohibited (ExceptionArt1b_171), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_171 .
			}
			WHERE {
					#... the Product_171 has a Licence_171 which is the theme of a Grant_171 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_171.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_171.
				?l TBox:is-licence-of_171 ?p.
				?l rdf:type TBox:Licence_171.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_171.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_171.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_171 action is the same agent of the Evaluate_171 action.
				?eg TBox:has-receiver_171 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_171 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_171 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_171) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_171.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_171.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_171}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_171.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_171ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_171sOrComment_171sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_171 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_171 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_171), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_171.
			}
			WHERE {
					#...the theme of this Publish_171 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_171.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_171.
				?ev TBox:has-result_171 ?r.
				?ev rdf:type TBox:Evaluate_171.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_171 action is the theme of an Approve_171 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_171.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_171.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_171)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_171 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_171), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_171.
			}
			WHERE {
					#...the theme of this Publish_171 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_171.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_171.
				?ev TBox:has-result_171 ?r.
				?ev rdf:type TBox:Evaluate_171.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_171 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_171.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_171 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_171 action is no longer Prohibited (ExceptionArt3b_171), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_171.
			}
			WHERE {
					#...the theme of this Publish_171 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_171.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_171.
				?c TBox:is-comment-of_171 ?ev.
				?ev rdf:type TBox:Evaluate_171.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_171 of this Evaluation is the theme of a Publish_171ing action that is Permitted...
				?ev TBox:has-result_171 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_171.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_171), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_171), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_171 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_171 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_171.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_171.
				?ev TBox:has-result_171 ?r.
				?ev rdf:type TBox:Evaluate_171.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_171}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_171}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_171;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_171 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_171 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_171.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_171.
				?ev TBox:has-result_171 ?r.
				?ev rdf:type TBox:Evaluate_171.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_171}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_171}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_171).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_171 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_171 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_171.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_171.
				?c TBox:is-comment-of_171 ?ev.
				?ev rdf:type TBox:Evaluate_171.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_171 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_171}.
			}
			""";
	];

sh:targetClass TBox:Publish_171.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_172) the Licensee_172 has a Licence_172
###############################################################################################################################################
:evaluatingProduct_172sIsProhibitedUnlessLicence_172 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_172.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_172 action is not Prohibited (ExceptionArt1b_172), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_172 .
			}
			WHERE {
					#... the Product_172 has a Licence_172 which is the theme of a Grant_172 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_172.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_172.
				?l TBox:is-licence-of_172 ?p.
				?l rdf:type TBox:Licence_172.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_172.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_172.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_172 action is the same agent of the Evaluate_172 action.
				?eg TBox:has-receiver_172 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_172 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_172 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_172) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_172.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_172.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_172}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_172.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_172ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_172sOrComment_172sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_172 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_172 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_172), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_172.
			}
			WHERE {
					#...the theme of this Publish_172 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_172.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_172.
				?ev TBox:has-result_172 ?r.
				?ev rdf:type TBox:Evaluate_172.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_172 action is the theme of an Approve_172 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_172.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_172.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_172)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_172 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_172), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_172.
			}
			WHERE {
					#...the theme of this Publish_172 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_172.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_172.
				?ev TBox:has-result_172 ?r.
				?ev rdf:type TBox:Evaluate_172.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_172 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_172.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_172 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_172 action is no longer Prohibited (ExceptionArt3b_172), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_172.
			}
			WHERE {
					#...the theme of this Publish_172 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_172.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_172.
				?c TBox:is-comment-of_172 ?ev.
				?ev rdf:type TBox:Evaluate_172.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_172 of this Evaluation is the theme of a Publish_172ing action that is Permitted...
				?ev TBox:has-result_172 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_172.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_172), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_172), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_172 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_172 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_172.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_172.
				?ev TBox:has-result_172 ?r.
				?ev rdf:type TBox:Evaluate_172.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_172}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_172}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_172;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_172 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_172 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_172.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_172.
				?ev TBox:has-result_172 ?r.
				?ev rdf:type TBox:Evaluate_172.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_172}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_172}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_172).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_172 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_172 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_172.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_172.
				?c TBox:is-comment-of_172 ?ev.
				?ev rdf:type TBox:Evaluate_172.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_172 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_172}.
			}
			""";
	];

sh:targetClass TBox:Publish_172.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_173) the Licensee_173 has a Licence_173
###############################################################################################################################################
:evaluatingProduct_173sIsProhibitedUnlessLicence_173 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_173.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_173 action is not Prohibited (ExceptionArt1b_173), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_173 .
			}
			WHERE {
					#... the Product_173 has a Licence_173 which is the theme of a Grant_173 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_173.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_173.
				?l TBox:is-licence-of_173 ?p.
				?l rdf:type TBox:Licence_173.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_173.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_173.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_173 action is the same agent of the Evaluate_173 action.
				?eg TBox:has-receiver_173 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_173 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_173 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_173) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_173.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_173.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_173}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_173.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_173ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_173sOrComment_173sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_173 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_173 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_173), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_173.
			}
			WHERE {
					#...the theme of this Publish_173 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_173.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_173.
				?ev TBox:has-result_173 ?r.
				?ev rdf:type TBox:Evaluate_173.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_173 action is the theme of an Approve_173 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_173.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_173.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_173)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_173 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_173), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_173.
			}
			WHERE {
					#...the theme of this Publish_173 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_173.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_173.
				?ev TBox:has-result_173 ?r.
				?ev rdf:type TBox:Evaluate_173.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_173 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_173.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_173 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_173 action is no longer Prohibited (ExceptionArt3b_173), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_173.
			}
			WHERE {
					#...the theme of this Publish_173 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_173.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_173.
				?c TBox:is-comment-of_173 ?ev.
				?ev rdf:type TBox:Evaluate_173.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_173 of this Evaluation is the theme of a Publish_173ing action that is Permitted...
				?ev TBox:has-result_173 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_173.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_173), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_173), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_173 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_173 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_173.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_173.
				?ev TBox:has-result_173 ?r.
				?ev rdf:type TBox:Evaluate_173.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_173}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_173}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_173;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_173 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_173 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_173.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_173.
				?ev TBox:has-result_173 ?r.
				?ev rdf:type TBox:Evaluate_173.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_173}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_173}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_173).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_173 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_173 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_173.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_173.
				?c TBox:is-comment-of_173 ?ev.
				?ev rdf:type TBox:Evaluate_173.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_173 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_173}.
			}
			""";
	];

sh:targetClass TBox:Publish_173.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_174) the Licensee_174 has a Licence_174
###############################################################################################################################################
:evaluatingProduct_174sIsProhibitedUnlessLicence_174 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_174.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_174 action is not Prohibited (ExceptionArt1b_174), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_174 .
			}
			WHERE {
					#... the Product_174 has a Licence_174 which is the theme of a Grant_174 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_174.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_174.
				?l TBox:is-licence-of_174 ?p.
				?l rdf:type TBox:Licence_174.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_174.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_174.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_174 action is the same agent of the Evaluate_174 action.
				?eg TBox:has-receiver_174 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_174 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_174 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_174) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_174.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_174.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_174}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_174.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_174ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_174sOrComment_174sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_174 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_174 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_174), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_174.
			}
			WHERE {
					#...the theme of this Publish_174 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_174.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_174.
				?ev TBox:has-result_174 ?r.
				?ev rdf:type TBox:Evaluate_174.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_174 action is the theme of an Approve_174 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_174.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_174.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_174)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_174 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_174), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_174.
			}
			WHERE {
					#...the theme of this Publish_174 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_174.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_174.
				?ev TBox:has-result_174 ?r.
				?ev rdf:type TBox:Evaluate_174.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_174 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_174.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_174 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_174 action is no longer Prohibited (ExceptionArt3b_174), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_174.
			}
			WHERE {
					#...the theme of this Publish_174 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_174.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_174.
				?c TBox:is-comment-of_174 ?ev.
				?ev rdf:type TBox:Evaluate_174.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_174 of this Evaluation is the theme of a Publish_174ing action that is Permitted...
				?ev TBox:has-result_174 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_174.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_174), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_174), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_174 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_174 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_174.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_174.
				?ev TBox:has-result_174 ?r.
				?ev rdf:type TBox:Evaluate_174.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_174}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_174}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_174;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_174 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_174 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_174.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_174.
				?ev TBox:has-result_174 ?r.
				?ev rdf:type TBox:Evaluate_174.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_174}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_174}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_174).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_174 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_174 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_174.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_174.
				?c TBox:is-comment-of_174 ?ev.
				?ev rdf:type TBox:Evaluate_174.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_174 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_174}.
			}
			""";
	];

sh:targetClass TBox:Publish_174.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_175) the Licensee_175 has a Licence_175
###############################################################################################################################################
:evaluatingProduct_175sIsProhibitedUnlessLicence_175 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_175.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_175 action is not Prohibited (ExceptionArt1b_175), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_175 .
			}
			WHERE {
					#... the Product_175 has a Licence_175 which is the theme of a Grant_175 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_175.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_175.
				?l TBox:is-licence-of_175 ?p.
				?l rdf:type TBox:Licence_175.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_175.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_175.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_175 action is the same agent of the Evaluate_175 action.
				?eg TBox:has-receiver_175 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_175 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_175 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_175) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_175.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_175.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_175}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_175.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_175ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_175sOrComment_175sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_175 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_175 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_175), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_175.
			}
			WHERE {
					#...the theme of this Publish_175 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_175.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_175.
				?ev TBox:has-result_175 ?r.
				?ev rdf:type TBox:Evaluate_175.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_175 action is the theme of an Approve_175 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_175.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_175.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_175)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_175 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_175), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_175.
			}
			WHERE {
					#...the theme of this Publish_175 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_175.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_175.
				?ev TBox:has-result_175 ?r.
				?ev rdf:type TBox:Evaluate_175.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_175 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_175.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_175 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_175 action is no longer Prohibited (ExceptionArt3b_175), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_175.
			}
			WHERE {
					#...the theme of this Publish_175 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_175.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_175.
				?c TBox:is-comment-of_175 ?ev.
				?ev rdf:type TBox:Evaluate_175.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_175 of this Evaluation is the theme of a Publish_175ing action that is Permitted...
				?ev TBox:has-result_175 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_175.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_175), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_175), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_175 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_175 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_175.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_175.
				?ev TBox:has-result_175 ?r.
				?ev rdf:type TBox:Evaluate_175.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_175}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_175}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_175;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_175 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_175 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_175.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_175.
				?ev TBox:has-result_175 ?r.
				?ev rdf:type TBox:Evaluate_175.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_175}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_175}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_175).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_175 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_175 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_175.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_175.
				?c TBox:is-comment-of_175 ?ev.
				?ev rdf:type TBox:Evaluate_175.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_175 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_175}.
			}
			""";
	];

sh:targetClass TBox:Publish_175.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_176) the Licensee_176 has a Licence_176
###############################################################################################################################################
:evaluatingProduct_176sIsProhibitedUnlessLicence_176 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_176.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_176 action is not Prohibited (ExceptionArt1b_176), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_176 .
			}
			WHERE {
					#... the Product_176 has a Licence_176 which is the theme of a Grant_176 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_176.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_176.
				?l TBox:is-licence-of_176 ?p.
				?l rdf:type TBox:Licence_176.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_176.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_176.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_176 action is the same agent of the Evaluate_176 action.
				?eg TBox:has-receiver_176 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_176 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_176 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_176) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_176.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_176.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_176}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_176.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_176ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_176sOrComment_176sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_176 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_176 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_176), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_176.
			}
			WHERE {
					#...the theme of this Publish_176 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_176.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_176.
				?ev TBox:has-result_176 ?r.
				?ev rdf:type TBox:Evaluate_176.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_176 action is the theme of an Approve_176 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_176.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_176.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_176)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_176 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_176), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_176.
			}
			WHERE {
					#...the theme of this Publish_176 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_176.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_176.
				?ev TBox:has-result_176 ?r.
				?ev rdf:type TBox:Evaluate_176.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_176 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_176.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_176 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_176 action is no longer Prohibited (ExceptionArt3b_176), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_176.
			}
			WHERE {
					#...the theme of this Publish_176 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_176.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_176.
				?c TBox:is-comment-of_176 ?ev.
				?ev rdf:type TBox:Evaluate_176.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_176 of this Evaluation is the theme of a Publish_176ing action that is Permitted...
				?ev TBox:has-result_176 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_176.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_176), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_176), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_176 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_176 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_176.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_176.
				?ev TBox:has-result_176 ?r.
				?ev rdf:type TBox:Evaluate_176.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_176}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_176}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_176;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_176 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_176 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_176.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_176.
				?ev TBox:has-result_176 ?r.
				?ev rdf:type TBox:Evaluate_176.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_176}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_176}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_176).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_176 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_176 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_176.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_176.
				?c TBox:is-comment-of_176 ?ev.
				?ev rdf:type TBox:Evaluate_176.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_176 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_176}.
			}
			""";
	];

sh:targetClass TBox:Publish_176.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_177) the Licensee_177 has a Licence_177
###############################################################################################################################################
:evaluatingProduct_177sIsProhibitedUnlessLicence_177 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_177.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_177 action is not Prohibited (ExceptionArt1b_177), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_177 .
			}
			WHERE {
					#... the Product_177 has a Licence_177 which is the theme of a Grant_177 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_177.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_177.
				?l TBox:is-licence-of_177 ?p.
				?l rdf:type TBox:Licence_177.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_177.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_177.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_177 action is the same agent of the Evaluate_177 action.
				?eg TBox:has-receiver_177 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_177 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_177 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_177) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_177.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_177.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_177}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_177.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_177ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_177sOrComment_177sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_177 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_177 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_177), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_177.
			}
			WHERE {
					#...the theme of this Publish_177 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_177.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_177.
				?ev TBox:has-result_177 ?r.
				?ev rdf:type TBox:Evaluate_177.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_177 action is the theme of an Approve_177 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_177.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_177.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_177)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_177 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_177), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_177.
			}
			WHERE {
					#...the theme of this Publish_177 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_177.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_177.
				?ev TBox:has-result_177 ?r.
				?ev rdf:type TBox:Evaluate_177.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_177 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_177.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_177 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_177 action is no longer Prohibited (ExceptionArt3b_177), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_177.
			}
			WHERE {
					#...the theme of this Publish_177 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_177.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_177.
				?c TBox:is-comment-of_177 ?ev.
				?ev rdf:type TBox:Evaluate_177.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_177 of this Evaluation is the theme of a Publish_177ing action that is Permitted...
				?ev TBox:has-result_177 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_177.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_177), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_177), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_177 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_177 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_177.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_177.
				?ev TBox:has-result_177 ?r.
				?ev rdf:type TBox:Evaluate_177.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_177}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_177}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_177;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_177 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_177 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_177.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_177.
				?ev TBox:has-result_177 ?r.
				?ev rdf:type TBox:Evaluate_177.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_177}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_177}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_177).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_177 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_177 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_177.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_177.
				?c TBox:is-comment-of_177 ?ev.
				?ev rdf:type TBox:Evaluate_177.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_177 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_177}.
			}
			""";
	];

sh:targetClass TBox:Publish_177.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_178) the Licensee_178 has a Licence_178
###############################################################################################################################################
:evaluatingProduct_178sIsProhibitedUnlessLicence_178 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_178.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_178 action is not Prohibited (ExceptionArt1b_178), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_178 .
			}
			WHERE {
					#... the Product_178 has a Licence_178 which is the theme of a Grant_178 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_178.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_178.
				?l TBox:is-licence-of_178 ?p.
				?l rdf:type TBox:Licence_178.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_178.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_178.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_178 action is the same agent of the Evaluate_178 action.
				?eg TBox:has-receiver_178 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_178 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_178 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_178) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_178.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_178.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_178}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_178.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_178ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_178sOrComment_178sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_178 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_178 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_178), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_178.
			}
			WHERE {
					#...the theme of this Publish_178 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_178.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_178.
				?ev TBox:has-result_178 ?r.
				?ev rdf:type TBox:Evaluate_178.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_178 action is the theme of an Approve_178 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_178.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_178.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_178)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_178 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_178), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_178.
			}
			WHERE {
					#...the theme of this Publish_178 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_178.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_178.
				?ev TBox:has-result_178 ?r.
				?ev rdf:type TBox:Evaluate_178.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_178 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_178.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_178 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_178 action is no longer Prohibited (ExceptionArt3b_178), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_178.
			}
			WHERE {
					#...the theme of this Publish_178 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_178.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_178.
				?c TBox:is-comment-of_178 ?ev.
				?ev rdf:type TBox:Evaluate_178.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_178 of this Evaluation is the theme of a Publish_178ing action that is Permitted...
				?ev TBox:has-result_178 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_178.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_178), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_178), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_178 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_178 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_178.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_178.
				?ev TBox:has-result_178 ?r.
				?ev rdf:type TBox:Evaluate_178.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_178}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_178}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_178;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_178 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_178 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_178.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_178.
				?ev TBox:has-result_178 ?r.
				?ev rdf:type TBox:Evaluate_178.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_178}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_178}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_178).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_178 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_178 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_178.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_178.
				?c TBox:is-comment-of_178 ?ev.
				?ev rdf:type TBox:Evaluate_178.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_178 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_178}.
			}
			""";
	];

sh:targetClass TBox:Publish_178.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_179) the Licensee_179 has a Licence_179
###############################################################################################################################################
:evaluatingProduct_179sIsProhibitedUnlessLicence_179 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_179.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_179 action is not Prohibited (ExceptionArt1b_179), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_179 .
			}
			WHERE {
					#... the Product_179 has a Licence_179 which is the theme of a Grant_179 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_179.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_179.
				?l TBox:is-licence-of_179 ?p.
				?l rdf:type TBox:Licence_179.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_179.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_179.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_179 action is the same agent of the Evaluate_179 action.
				?eg TBox:has-receiver_179 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_179 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_179 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_179) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_179.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_179.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_179}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_179.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_179ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_179sOrComment_179sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_179 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_179 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_179), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_179.
			}
			WHERE {
					#...the theme of this Publish_179 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_179.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_179.
				?ev TBox:has-result_179 ?r.
				?ev rdf:type TBox:Evaluate_179.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_179 action is the theme of an Approve_179 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_179.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_179.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_179)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_179 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_179), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_179.
			}
			WHERE {
					#...the theme of this Publish_179 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_179.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_179.
				?ev TBox:has-result_179 ?r.
				?ev rdf:type TBox:Evaluate_179.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_179 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_179.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_179 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_179 action is no longer Prohibited (ExceptionArt3b_179), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_179.
			}
			WHERE {
					#...the theme of this Publish_179 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_179.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_179.
				?c TBox:is-comment-of_179 ?ev.
				?ev rdf:type TBox:Evaluate_179.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_179 of this Evaluation is the theme of a Publish_179ing action that is Permitted...
				?ev TBox:has-result_179 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_179.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_179), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_179), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_179 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_179 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_179.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_179.
				?ev TBox:has-result_179 ?r.
				?ev rdf:type TBox:Evaluate_179.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_179}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_179}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_179;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_179 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_179 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_179.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_179.
				?ev TBox:has-result_179 ?r.
				?ev rdf:type TBox:Evaluate_179.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_179}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_179}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_179).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_179 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_179 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_179.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_179.
				?c TBox:is-comment-of_179 ?ev.
				?ev rdf:type TBox:Evaluate_179.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_179 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_179}.
			}
			""";
	];

sh:targetClass TBox:Publish_179.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_180) the Licensee_180 has a Licence_180
###############################################################################################################################################
:evaluatingProduct_180sIsProhibitedUnlessLicence_180 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_180.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_180 action is not Prohibited (ExceptionArt1b_180), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_180 .
			}
			WHERE {
					#... the Product_180 has a Licence_180 which is the theme of a Grant_180 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_180.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_180.
				?l TBox:is-licence-of_180 ?p.
				?l rdf:type TBox:Licence_180.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_180.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_180.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_180 action is the same agent of the Evaluate_180 action.
				?eg TBox:has-receiver_180 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_180 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_180 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_180) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_180.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_180.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_180}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_180.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_180ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_180sOrComment_180sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_180 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_180 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_180), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_180.
			}
			WHERE {
					#...the theme of this Publish_180 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_180.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_180.
				?ev TBox:has-result_180 ?r.
				?ev rdf:type TBox:Evaluate_180.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_180 action is the theme of an Approve_180 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_180.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_180.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_180)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_180 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_180), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_180.
			}
			WHERE {
					#...the theme of this Publish_180 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_180.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_180.
				?ev TBox:has-result_180 ?r.
				?ev rdf:type TBox:Evaluate_180.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_180 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_180.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_180 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_180 action is no longer Prohibited (ExceptionArt3b_180), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_180.
			}
			WHERE {
					#...the theme of this Publish_180 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_180.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_180.
				?c TBox:is-comment-of_180 ?ev.
				?ev rdf:type TBox:Evaluate_180.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_180 of this Evaluation is the theme of a Publish_180ing action that is Permitted...
				?ev TBox:has-result_180 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_180.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_180), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_180), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_180 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_180 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_180.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_180.
				?ev TBox:has-result_180 ?r.
				?ev rdf:type TBox:Evaluate_180.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_180}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_180}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_180;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_180 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_180 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_180.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_180.
				?ev TBox:has-result_180 ?r.
				?ev rdf:type TBox:Evaluate_180.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_180}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_180}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_180).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_180 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_180 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_180.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_180.
				?c TBox:is-comment-of_180 ?ev.
				?ev rdf:type TBox:Evaluate_180.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_180 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_180}.
			}
			""";
	];

sh:targetClass TBox:Publish_180.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_181) the Licensee_181 has a Licence_181
###############################################################################################################################################
:evaluatingProduct_181sIsProhibitedUnlessLicence_181 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_181.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_181 action is not Prohibited (ExceptionArt1b_181), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_181 .
			}
			WHERE {
					#... the Product_181 has a Licence_181 which is the theme of a Grant_181 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_181.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_181.
				?l TBox:is-licence-of_181 ?p.
				?l rdf:type TBox:Licence_181.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_181.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_181.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_181 action is the same agent of the Evaluate_181 action.
				?eg TBox:has-receiver_181 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_181 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_181 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_181) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_181.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_181.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_181}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_181.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_181ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_181sOrComment_181sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_181 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_181 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_181), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_181.
			}
			WHERE {
					#...the theme of this Publish_181 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_181.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_181.
				?ev TBox:has-result_181 ?r.
				?ev rdf:type TBox:Evaluate_181.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_181 action is the theme of an Approve_181 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_181.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_181.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_181)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_181 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_181), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_181.
			}
			WHERE {
					#...the theme of this Publish_181 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_181.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_181.
				?ev TBox:has-result_181 ?r.
				?ev rdf:type TBox:Evaluate_181.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_181 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_181.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_181 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_181 action is no longer Prohibited (ExceptionArt3b_181), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_181.
			}
			WHERE {
					#...the theme of this Publish_181 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_181.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_181.
				?c TBox:is-comment-of_181 ?ev.
				?ev rdf:type TBox:Evaluate_181.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_181 of this Evaluation is the theme of a Publish_181ing action that is Permitted...
				?ev TBox:has-result_181 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_181.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_181), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_181), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_181 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_181 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_181.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_181.
				?ev TBox:has-result_181 ?r.
				?ev rdf:type TBox:Evaluate_181.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_181}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_181}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_181;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_181 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_181 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_181.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_181.
				?ev TBox:has-result_181 ?r.
				?ev rdf:type TBox:Evaluate_181.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_181}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_181}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_181).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_181 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_181 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_181.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_181.
				?c TBox:is-comment-of_181 ?ev.
				?ev rdf:type TBox:Evaluate_181.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_181 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_181}.
			}
			""";
	];

sh:targetClass TBox:Publish_181.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_182) the Licensee_182 has a Licence_182
###############################################################################################################################################
:evaluatingProduct_182sIsProhibitedUnlessLicence_182 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_182.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_182 action is not Prohibited (ExceptionArt1b_182), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_182 .
			}
			WHERE {
					#... the Product_182 has a Licence_182 which is the theme of a Grant_182 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_182.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_182.
				?l TBox:is-licence-of_182 ?p.
				?l rdf:type TBox:Licence_182.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_182.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_182.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_182 action is the same agent of the Evaluate_182 action.
				?eg TBox:has-receiver_182 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_182 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_182 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_182) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_182.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_182.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_182}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_182.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_182ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_182sOrComment_182sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_182 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_182 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_182), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_182.
			}
			WHERE {
					#...the theme of this Publish_182 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_182.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_182.
				?ev TBox:has-result_182 ?r.
				?ev rdf:type TBox:Evaluate_182.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_182 action is the theme of an Approve_182 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_182.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_182.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_182)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_182 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_182), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_182.
			}
			WHERE {
					#...the theme of this Publish_182 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_182.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_182.
				?ev TBox:has-result_182 ?r.
				?ev rdf:type TBox:Evaluate_182.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_182 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_182.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_182 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_182 action is no longer Prohibited (ExceptionArt3b_182), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_182.
			}
			WHERE {
					#...the theme of this Publish_182 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_182.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_182.
				?c TBox:is-comment-of_182 ?ev.
				?ev rdf:type TBox:Evaluate_182.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_182 of this Evaluation is the theme of a Publish_182ing action that is Permitted...
				?ev TBox:has-result_182 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_182.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_182), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_182), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_182 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_182 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_182.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_182.
				?ev TBox:has-result_182 ?r.
				?ev rdf:type TBox:Evaluate_182.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_182}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_182}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_182;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_182 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_182 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_182.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_182.
				?ev TBox:has-result_182 ?r.
				?ev rdf:type TBox:Evaluate_182.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_182}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_182}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_182).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_182 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_182 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_182.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_182.
				?c TBox:is-comment-of_182 ?ev.
				?ev rdf:type TBox:Evaluate_182.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_182 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_182}.
			}
			""";
	];

sh:targetClass TBox:Publish_182.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_183) the Licensee_183 has a Licence_183
###############################################################################################################################################
:evaluatingProduct_183sIsProhibitedUnlessLicence_183 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_183.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_183 action is not Prohibited (ExceptionArt1b_183), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_183 .
			}
			WHERE {
					#... the Product_183 has a Licence_183 which is the theme of a Grant_183 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_183.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_183.
				?l TBox:is-licence-of_183 ?p.
				?l rdf:type TBox:Licence_183.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_183.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_183.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_183 action is the same agent of the Evaluate_183 action.
				?eg TBox:has-receiver_183 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_183 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_183 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_183) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_183.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_183.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_183}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_183.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_183ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_183sOrComment_183sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_183 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_183 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_183), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_183.
			}
			WHERE {
					#...the theme of this Publish_183 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_183.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_183.
				?ev TBox:has-result_183 ?r.
				?ev rdf:type TBox:Evaluate_183.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_183 action is the theme of an Approve_183 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_183.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_183.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_183)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_183 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_183), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_183.
			}
			WHERE {
					#...the theme of this Publish_183 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_183.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_183.
				?ev TBox:has-result_183 ?r.
				?ev rdf:type TBox:Evaluate_183.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_183 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_183.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_183 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_183 action is no longer Prohibited (ExceptionArt3b_183), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_183.
			}
			WHERE {
					#...the theme of this Publish_183 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_183.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_183.
				?c TBox:is-comment-of_183 ?ev.
				?ev rdf:type TBox:Evaluate_183.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_183 of this Evaluation is the theme of a Publish_183ing action that is Permitted...
				?ev TBox:has-result_183 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_183.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_183), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_183), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_183 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_183 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_183.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_183.
				?ev TBox:has-result_183 ?r.
				?ev rdf:type TBox:Evaluate_183.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_183}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_183}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_183;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_183 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_183 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_183.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_183.
				?ev TBox:has-result_183 ?r.
				?ev rdf:type TBox:Evaluate_183.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_183}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_183}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_183).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_183 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_183 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_183.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_183.
				?c TBox:is-comment-of_183 ?ev.
				?ev rdf:type TBox:Evaluate_183.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_183 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_183}.
			}
			""";
	];

sh:targetClass TBox:Publish_183.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_184) the Licensee_184 has a Licence_184
###############################################################################################################################################
:evaluatingProduct_184sIsProhibitedUnlessLicence_184 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_184.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_184 action is not Prohibited (ExceptionArt1b_184), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_184 .
			}
			WHERE {
					#... the Product_184 has a Licence_184 which is the theme of a Grant_184 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_184.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_184.
				?l TBox:is-licence-of_184 ?p.
				?l rdf:type TBox:Licence_184.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_184.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_184.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_184 action is the same agent of the Evaluate_184 action.
				?eg TBox:has-receiver_184 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_184 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_184 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_184) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_184.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_184.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_184}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_184.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_184ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_184sOrComment_184sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_184 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_184 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_184), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_184.
			}
			WHERE {
					#...the theme of this Publish_184 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_184.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_184.
				?ev TBox:has-result_184 ?r.
				?ev rdf:type TBox:Evaluate_184.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_184 action is the theme of an Approve_184 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_184.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_184.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_184)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_184 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_184), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_184.
			}
			WHERE {
					#...the theme of this Publish_184 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_184.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_184.
				?ev TBox:has-result_184 ?r.
				?ev rdf:type TBox:Evaluate_184.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_184 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_184.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_184 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_184 action is no longer Prohibited (ExceptionArt3b_184), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_184.
			}
			WHERE {
					#...the theme of this Publish_184 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_184.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_184.
				?c TBox:is-comment-of_184 ?ev.
				?ev rdf:type TBox:Evaluate_184.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_184 of this Evaluation is the theme of a Publish_184ing action that is Permitted...
				?ev TBox:has-result_184 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_184.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_184), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_184), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_184 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_184 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_184.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_184.
				?ev TBox:has-result_184 ?r.
				?ev rdf:type TBox:Evaluate_184.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_184}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_184}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_184;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_184 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_184 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_184.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_184.
				?ev TBox:has-result_184 ?r.
				?ev rdf:type TBox:Evaluate_184.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_184}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_184}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_184).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_184 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_184 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_184.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_184.
				?c TBox:is-comment-of_184 ?ev.
				?ev rdf:type TBox:Evaluate_184.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_184 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_184}.
			}
			""";
	];

sh:targetClass TBox:Publish_184.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_185) the Licensee_185 has a Licence_185
###############################################################################################################################################
:evaluatingProduct_185sIsProhibitedUnlessLicence_185 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_185.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_185 action is not Prohibited (ExceptionArt1b_185), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_185 .
			}
			WHERE {
					#... the Product_185 has a Licence_185 which is the theme of a Grant_185 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_185.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_185.
				?l TBox:is-licence-of_185 ?p.
				?l rdf:type TBox:Licence_185.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_185.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_185.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_185 action is the same agent of the Evaluate_185 action.
				?eg TBox:has-receiver_185 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_185 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_185 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_185) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_185.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_185.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_185}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_185.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_185ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_185sOrComment_185sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_185 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_185 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_185), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_185.
			}
			WHERE {
					#...the theme of this Publish_185 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_185.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_185.
				?ev TBox:has-result_185 ?r.
				?ev rdf:type TBox:Evaluate_185.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_185 action is the theme of an Approve_185 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_185.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_185.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_185)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_185 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_185), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_185.
			}
			WHERE {
					#...the theme of this Publish_185 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_185.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_185.
				?ev TBox:has-result_185 ?r.
				?ev rdf:type TBox:Evaluate_185.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_185 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_185.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_185 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_185 action is no longer Prohibited (ExceptionArt3b_185), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_185.
			}
			WHERE {
					#...the theme of this Publish_185 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_185.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_185.
				?c TBox:is-comment-of_185 ?ev.
				?ev rdf:type TBox:Evaluate_185.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_185 of this Evaluation is the theme of a Publish_185ing action that is Permitted...
				?ev TBox:has-result_185 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_185.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_185), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_185), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_185 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_185 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_185.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_185.
				?ev TBox:has-result_185 ?r.
				?ev rdf:type TBox:Evaluate_185.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_185}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_185}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_185;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_185 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_185 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_185.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_185.
				?ev TBox:has-result_185 ?r.
				?ev rdf:type TBox:Evaluate_185.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_185}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_185}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_185).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_185 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_185 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_185.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_185.
				?c TBox:is-comment-of_185 ?ev.
				?ev rdf:type TBox:Evaluate_185.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_185 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_185}.
			}
			""";
	];

sh:targetClass TBox:Publish_185.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_186) the Licensee_186 has a Licence_186
###############################################################################################################################################
:evaluatingProduct_186sIsProhibitedUnlessLicence_186 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_186.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_186 action is not Prohibited (ExceptionArt1b_186), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_186 .
			}
			WHERE {
					#... the Product_186 has a Licence_186 which is the theme of a Grant_186 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_186.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_186.
				?l TBox:is-licence-of_186 ?p.
				?l rdf:type TBox:Licence_186.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_186.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_186.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_186 action is the same agent of the Evaluate_186 action.
				?eg TBox:has-receiver_186 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_186 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_186 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_186) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_186.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_186.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_186}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_186.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_186ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_186sOrComment_186sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_186 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_186 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_186), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_186.
			}
			WHERE {
					#...the theme of this Publish_186 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_186.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_186.
				?ev TBox:has-result_186 ?r.
				?ev rdf:type TBox:Evaluate_186.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_186 action is the theme of an Approve_186 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_186.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_186.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_186)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_186 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_186), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_186.
			}
			WHERE {
					#...the theme of this Publish_186 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_186.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_186.
				?ev TBox:has-result_186 ?r.
				?ev rdf:type TBox:Evaluate_186.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_186 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_186.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_186 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_186 action is no longer Prohibited (ExceptionArt3b_186), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_186.
			}
			WHERE {
					#...the theme of this Publish_186 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_186.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_186.
				?c TBox:is-comment-of_186 ?ev.
				?ev rdf:type TBox:Evaluate_186.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_186 of this Evaluation is the theme of a Publish_186ing action that is Permitted...
				?ev TBox:has-result_186 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_186.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_186), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_186), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_186 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_186 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_186.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_186.
				?ev TBox:has-result_186 ?r.
				?ev rdf:type TBox:Evaluate_186.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_186}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_186}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_186;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_186 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_186 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_186.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_186.
				?ev TBox:has-result_186 ?r.
				?ev rdf:type TBox:Evaluate_186.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_186}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_186}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_186).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_186 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_186 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_186.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_186.
				?c TBox:is-comment-of_186 ?ev.
				?ev rdf:type TBox:Evaluate_186.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_186 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_186}.
			}
			""";
	];

sh:targetClass TBox:Publish_186.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_187) the Licensee_187 has a Licence_187
###############################################################################################################################################
:evaluatingProduct_187sIsProhibitedUnlessLicence_187 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_187.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_187 action is not Prohibited (ExceptionArt1b_187), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_187 .
			}
			WHERE {
					#... the Product_187 has a Licence_187 which is the theme of a Grant_187 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_187.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_187.
				?l TBox:is-licence-of_187 ?p.
				?l rdf:type TBox:Licence_187.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_187.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_187.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_187 action is the same agent of the Evaluate_187 action.
				?eg TBox:has-receiver_187 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_187 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_187 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_187) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_187.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_187.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_187}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_187.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_187ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_187sOrComment_187sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_187 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_187 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_187), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_187.
			}
			WHERE {
					#...the theme of this Publish_187 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_187.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_187.
				?ev TBox:has-result_187 ?r.
				?ev rdf:type TBox:Evaluate_187.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_187 action is the theme of an Approve_187 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_187.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_187.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_187)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_187 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_187), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_187.
			}
			WHERE {
					#...the theme of this Publish_187 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_187.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_187.
				?ev TBox:has-result_187 ?r.
				?ev rdf:type TBox:Evaluate_187.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_187 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_187.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_187 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_187 action is no longer Prohibited (ExceptionArt3b_187), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_187.
			}
			WHERE {
					#...the theme of this Publish_187 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_187.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_187.
				?c TBox:is-comment-of_187 ?ev.
				?ev rdf:type TBox:Evaluate_187.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_187 of this Evaluation is the theme of a Publish_187ing action that is Permitted...
				?ev TBox:has-result_187 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_187.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_187), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_187), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_187 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_187 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_187.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_187.
				?ev TBox:has-result_187 ?r.
				?ev rdf:type TBox:Evaluate_187.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_187}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_187}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_187;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_187 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_187 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_187.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_187.
				?ev TBox:has-result_187 ?r.
				?ev rdf:type TBox:Evaluate_187.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_187}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_187}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_187).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_187 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_187 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_187.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_187.
				?c TBox:is-comment-of_187 ?ev.
				?ev rdf:type TBox:Evaluate_187.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_187 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_187}.
			}
			""";
	];

sh:targetClass TBox:Publish_187.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_188) the Licensee_188 has a Licence_188
###############################################################################################################################################
:evaluatingProduct_188sIsProhibitedUnlessLicence_188 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_188.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_188 action is not Prohibited (ExceptionArt1b_188), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_188 .
			}
			WHERE {
					#... the Product_188 has a Licence_188 which is the theme of a Grant_188 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_188.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_188.
				?l TBox:is-licence-of_188 ?p.
				?l rdf:type TBox:Licence_188.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_188.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_188.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_188 action is the same agent of the Evaluate_188 action.
				?eg TBox:has-receiver_188 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_188 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_188 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_188) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_188.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_188.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_188}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_188.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_188ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_188sOrComment_188sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_188 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_188 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_188), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_188.
			}
			WHERE {
					#...the theme of this Publish_188 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_188.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_188.
				?ev TBox:has-result_188 ?r.
				?ev rdf:type TBox:Evaluate_188.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_188 action is the theme of an Approve_188 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_188.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_188.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_188)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_188 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_188), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_188.
			}
			WHERE {
					#...the theme of this Publish_188 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_188.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_188.
				?ev TBox:has-result_188 ?r.
				?ev rdf:type TBox:Evaluate_188.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_188 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_188.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_188 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_188 action is no longer Prohibited (ExceptionArt3b_188), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_188.
			}
			WHERE {
					#...the theme of this Publish_188 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_188.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_188.
				?c TBox:is-comment-of_188 ?ev.
				?ev rdf:type TBox:Evaluate_188.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_188 of this Evaluation is the theme of a Publish_188ing action that is Permitted...
				?ev TBox:has-result_188 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_188.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_188), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_188), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_188 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_188 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_188.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_188.
				?ev TBox:has-result_188 ?r.
				?ev rdf:type TBox:Evaluate_188.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_188}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_188}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_188;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_188 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_188 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_188.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_188.
				?ev TBox:has-result_188 ?r.
				?ev rdf:type TBox:Evaluate_188.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_188}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_188}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_188).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_188 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_188 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_188.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_188.
				?c TBox:is-comment-of_188 ?ev.
				?ev rdf:type TBox:Evaluate_188.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_188 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_188}.
			}
			""";
	];

sh:targetClass TBox:Publish_188.

#======================================================================================================================================

#-----------------------------------
# SHACL rules
#-----------------------------------

###############################################################################################################################################
# Prohibition Art1 with exception: Evaluating products is prohibited unless (ExceptionArt1b_189) the Licensee_189 has a Licence_189
###############################################################################################################################################
:evaluatingProduct_189sIsProhibitedUnlessLicence_189 rdf:type sh:NodeShape;

		#High priority: if licence has been granted on the product, then it is no longer prohibited for the licensee to evaluate the Product_189.
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_189 action is not Prohibited (ExceptionArt1b_189), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted .
				$this rdf:type TBox:ExceptionArt1b_189 .
			}
			WHERE {
					#... the Product_189 has a Licence_189 which is the theme of a Grant_189 action that Rexist.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_189.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_189.
				?l TBox:is-licence-of_189 ?p.
				?l rdf:type TBox:Licence_189.
				?eg TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_189.
				?eg TBox:has-theme ?l.
				?eg rdf:type TBox:Grant_189.
				?eg rdf:type TBox:Rexist.
					#... AND the receiver of this Grant_189 action is the same agent of the Evaluate_189 action.
				?eg TBox:has-receiver_189 ?x.
			}
			""";
	];
	
		#Lower priority: if ExceptionArt1b_189 does not hold, then evaluating products is prohibited
	sh:rule[ rdf:type sh:SPARQLRule; sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Evaluate_189 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited .
			}
			WHERE {
					#The exception from the previous rule (ExceptionArt1b_189) does not hold.
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_189.
				$this TBox:has-theme ?p.
				?p rdf:type TBox:Product_189.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt1b_189}.
			}
			""";
	];
	
sh:targetClass TBox:Evaluate_189.


###############################################################################################################################################
# Prohibitions Art2a and Art3a with exceptions: Publish_189ing results (Art2a) or comments (Art3a) of evaluations is prohibited 
# unless some exceptions hold.
###############################################################################################################################################
:publishingResult_189sOrComment_189sOfEvaluationsIsProhibitedUnlessSomeExceptionsHold rdf:type sh:NodeShape;

		# High priority: if publishing results of evaluations has been approved by the licensor, then publishing is permitted, 
		# i.e., no longer prohibited (ExceptionArt2b_189 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_189 action is permitted, i.e., no longer Prohibited (ExceptionArt2b_189), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt2b_189.
			}
			WHERE {
					#...the theme of this Publish_189 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_189.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_189.
				?ev TBox:has-result_189 ?r.
				?ev rdf:type TBox:Evaluate_189.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Publish_189 action is the theme of an Approve_189 action that Rexist.
				?ea TBox:has-theme $this.
				?ea rdf:type TBox:Approve_189.
				?ea rdf:type TBox:Rexist.
				?ea TBox:has-agent ?y.
				?y rdf:type TBox:Licensor_189.
			}
			""";
	];
	
		#High priority: if the evaluation has been commissioned, then publishing the results is obligatory, i.e., no longer prohibited (ExceptionArt4a_189)
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 0;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_189 action is Obligatory, i.e., no longer Prohibited (ExceptionArt4a_189), IF...
			CONSTRUCT {
				$this rdf:type TBox:Obligatory.
				$this rdf:type TBox:ExceptionArt4a_189.
			}
			WHERE {
					#...the theme of this Publish_189 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_189.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_189.
				?ev TBox:has-result_189 ?r.
				?ev rdf:type TBox:Evaluate_189.
				?ev rdf:type TBox:Rexist.
				
					#... AND this Evaluation is the theme of a Commission_189 action that Rexist...
				?ec TBox:has-theme ?ev.
				?ec rdf:type TBox:Commission_189.
				?ec rdf:type TBox:Rexist.
			}
			""";
	];
	
		# Medium priority: if publishing results of evaluations has been permitted, then publishing comments of these evaluations 
		# is no longer prohibited (ExceptionArt3b_189 holds).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 1;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_189 action is no longer Prohibited (ExceptionArt3b_189), IF...
			CONSTRUCT {
				$this rdf:type TBox:Permitted.
				$this rdf:type TBox:ExceptionArt3b_189.
			}
			WHERE {
					#...the theme of this Publish_189 action is the comment of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_189.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_189.
				?c TBox:is-comment-of_189 ?ev.
				?ev rdf:type TBox:Evaluate_189.
				?ev rdf:type TBox:Rexist.
				
					#... AND the Result_189 of this Evaluation is the theme of a Publish_189ing action that is Permitted...
				?ev TBox:has-result_189 ?r.
				?epr TBox:has-agent ?x.
				?epr TBox:has-theme ?r.
				?epr rdf:type TBox:Publish_189.
				?epr rdf:type TBox:Permitted.
			}
			""";
	];
	
		# Lower priority: if the theme of the publish action is a result of an evaluation that really exists, then the publish action 
		# is prohibited unless: 
		# (1) the licensor approved the publishing (ExceptionArt2b_189), or
		# (2) the evaluation has been commissioned (ExceptionArt4a_189), in which case the publication of the results is obligatory.
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_189 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_189 action is the result of an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_189.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_189.
				?ev TBox:has-result_189 ?r.
				?ev rdf:type TBox:Evaluate_189.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_189}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_189}.
			}
			""";
	];
	
		#The next rule is associated with the previous one: if the publishing is prohibited by the previous rule *and* the publishing
		#really exists, then the removal of the results is obligatory (compensatory obligation).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 3;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#It is obligatory to remove the results (and this will compensate its prohibited publishig) IF...
			CONSTRUCT {
				[rdf:type TBox:Obligatory;
				 rdf:type TBox:Remove_189;
				 TBox:has-agent ?x;
				 TBox:has-theme ?r;
				 TBox:compensate $this].
			}
			WHERE {
					#...this Publish_189 action really exists.
				$this rdf:type TBox:Rexist.
					#...and all conditions of the previous rule hold (i.e., the Publish_189 action is also Prohibited).
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_189.
				$this TBox:has-theme ?r.
				?r rdf:type TBox:Result_189.
				?ev TBox:has-result_189 ?r.
				?ev rdf:type TBox:Evaluate_189.
				?ev rdf:type TBox:Rexist.
					#... AND none of the exceptions in (1)-(2)-(3) above holds.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt2b_189}.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt4a_189}.
			}
			""";
	];
		
		
	
		# Lower priority: if the theme of the publish action is a comment about an evaluation that really exists, then the publish action is prohibited
		# unless the licensor approved the publishing of the evaluation's results (ExceptionArt3b_189).
	sh:rule[ rdf:type sh:SPARQLRule;sh:order 2;
		sh:prefixes[sh:declare 
			[sh:prefix"rdf";sh:namespace"http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI],
			[sh:prefix"TBox";sh:namespace"http://www.licenceusecaseonto.org/"^^xsd:anyURI]];
		sh:construct """
				#The Publish_189 action is Prohibited IF...
			CONSTRUCT {
				$this rdf:type TBox:Prohibited.
			}
			WHERE {
					#...the theme of this Publish_189 action is a comment about an Evaluation that Rexist...
				$this TBox:has-agent ?x.
				?x rdf:type TBox:Licensee_189.
				$this TBox:has-theme ?c.
				?c rdf:type TBox:Comment_189.
				?c TBox:is-comment-of_189 ?ev.
				?ev rdf:type TBox:Evaluate_189.
				?ev rdf:type TBox:Rexist.
					#...AND ExceptionArt3b_189 does not hold.
				NOT EXISTS{$this rdf:type TBox:ExceptionArt3b_189}.
			}
			""";
	];

sh:targetClass TBox:Publish_189.
